/** @license SPA-handlebars-helpers.js | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
(function(){function e(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function t(t,r){return(""+r).toLowerCase().indexOf(e(t))>=0}function r(e,r){function n(e,t){for(var r=t.split(","),n="",a=0,o=!0,i=0;r.length>i;i++)n=r[i].trim(),n&&(a++,o=o&&e.hasOwnProperty(n));return a&&o}function a(e,t){for(var r=t.split(","),n="",a=0,o=!1,i=0;r.length>i&&(n=r[i].trim(),n&&(a++,o=o||e.hasOwnProperty(n)),!o);i++);return a&&o}var o=!1;if(t(e,"object")&&r)switch(r=""+r,!0){case r.indexOf("&")>0:o=n(e,r.replace(/\&/g,","));break;case r.indexOf("|")>0:o=a(e,r.replace(/\|/g,","));break;default:o=n(e,r)}return o}function n(e,n){return t(e,"object")&&r(e,"name,hash,data")&&r(e.data,"root")?n?e.name==n:!0:!1}function a(e){return n(e)&&r(e,"fn,inverse")}function o(e){return n(e)&&Object.keys(e.hash).length}function i(e,t){var r=o(e)?e.hash:{};return t?(Object.keys(r).forEach(function(e){t[e]=r[e].trim()}),t):r}function s(e,t){var r=o(e)?e.hash:{};return t?(Object.keys(r).forEach(function(e){t[e]=r[e]}),t):r}function c(){function t(){function t(t){if(void 0===n)n=t;else{var r=e(t);switch(e(n)){case"array":switch(r){case"array":n=n.concat(t);break;default:n.push(t)}break;case"object":switch(r){case"array":for(var a=0;t.length>a;a++)n[a]=t[a];break;case"object":Object.keys(t).forEach(function(e){n[e]=t[e]});break;default:n["_"+(Object.keys(n).length+1)]=t}break;default:switch(r){case"object":t=JSON.stringify(t);break;case"array":t=t.join()}n+=" "+t}}}var n,s,c=ut.slice.call(arguments);if(c.forEach(function(n,u){if(!s)switch(e(n)){case"function":var f=c.slice(u+1);f.push(o);var l=n.apply(void 0,f);i?r?t(l):"boolean"===e(l)?t(l?a.fn(l):a.inverse(l)):t(a.fn(l)):t(l),s=!0;break;case"array":i?r?t(n):n.length?n.forEach(function(e){t(a.fn(e))}):t(a.inverse(o)):t(n);break;case"object":i?r?t(n):Object.keys(n).length?t(a.fn(n)):t(a.inverse(o)):t(n);break;default:i?r?t(n):t(n?a.fn(o):a.inverse(o)):t(n)}}),i)return n;switch(e(n)){case"object":return JSON.stringify(n);case"array":return n.join();default:return n}}if(2>arguments.length)throw console.error("missing argument(s)"),Error("missing argument(s)");for(var r,n,a=ut.splice.call(arguments,arguments.length-1,1)[0],o=a.data.root||{},i=a.hasOwnProperty("fn")||a.hasOwnProperty("inverse"),s=":if"==a.name,c={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},":typeof":function(e,t){return typeof e===t},":instanceof":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},":is":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},"=ic":function(e,t){return(""+e).toLowerCase()==(""+t).toLowerCase()},"!=ic":function(e,t){return(""+e).toLowerCase()!=(""+t).toLowerCase()},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}},u=Object.keys(c),f=function(e){return u.indexOf(e)>=0},l=ut.slice.call(arguments),g=0;l.length>g;g++)if("string"===e(l[g])&&(r=f(l[g])?g:0)){n=l[g];break}if(s&&(!i||!r))throw console.error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}"),Error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}");if(r){var d=l.slice(0,r),p=l.slice(r+1),m=t.apply(void 0,d),h=t.apply(void 0,p),b=c[n](m,h);return i?b?a.fn(m):a.inverse(h):b}return t.apply(void 0,arguments)}function u(t){return e(t)}function f(e,r){var o=arguments[arguments.length-1],i=n(r)?"undefined":r;return a(o)?t(e,i)?o.fn(e):o.inverse(e):t(e,i)}function l(e){return(""+(e||"")).toLowerCase()}function g(e){return(""+(e||"")).toUpperCase()}function d(e){return(""+(e||"")).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})}function p(e){return(""+e).charAt(0).toUpperCase()+(""+e).slice(1)}function m(e){return(""+e).charAt(0).toLowerCase()+(""+e).slice(1)}function h(e){return w(e).replace(/\s+/g," ")}function b(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e.indexOf(".")>=0?e.substring(0,e.indexOf(".")):e:"0",parseInt(1*e,10)}function v(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e:"0",parseFloat(1*e)}function y(t){switch(e(t)){case"object":return JSON.stringify(t);case"array":return t.join();default:return""+t}}function O(t){switch(e(t)){case"function":return!0;case"object":return Object.keys(t).length>0;case"array":return t.length>0;default:var r=!0;switch((""+t).trim().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":r=!1}return r}}function w(e,r){return e=y(e),t(r,"string")?k(x(e,r),r):e.trim()}function k(e,r){return e=y(e),t(r,"string")||(r=""),e.replace(RegExp("^["+(r||"\\s")+"]+","g"),"")}function x(e,r){return e=y(e),t(r,"string")||(r=""),e.replace(RegExp("["+(r||"\\s")+"]+$","g"),"")}function j(e,r){return e=y(e),t(r,"string|number")||(r=0),"string"==typeof r&&(r=e.indexOf(r)),r=b(r),r?e.substr(0,r):""}function E(e,r){e=y(e),t(r,"string|number")||(r=0);var n=1;return"string"==typeof r&&(n=r.length,r=e.indexOf(r)),r=b(r),0>r?"":e.substr(r+n)}function C(e,r,a){return"undefined"==typeof moment?(console.warn("Missing moment.js"),e):t(a,"string")?moment(e,r).format(a):n(a)?moment(e).format(r):n(r)?moment().format(e):n(e)?moment():void 0}function M(e){function r(e){return(e>9?"":"0")+e}var n=new Date;if(!t(e,"string"))return""+n;var a=e,o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=["Su","Mo","Tu","We","Th","Fr","Sa"],f={YYYY:n.getFullYear(),YY:n.getFullYear(),Y:n.getFullYear(),Mmmm:o[n.getMonth()],MMMM:o[n.getMonth()].toUpperCase(),Mmm:i[n.getMonth()],MMM:i[n.getMonth()].toUpperCase(),"0M":r(n.getMonth()+1,"0",2,-1),MM:n.getMonth()+1,Dddd:s[n.getDay()],DDDD:s[n.getDay()].toUpperCase(),Ddd:c[n.getDay()],DDD:c[n.getDay()].toUpperCase(),Dd:u[n.getDay()],DD:u[n.getDay()].toUpperCase(),"0d":r(n.getDate(),"0",2,-1),dd:n.getDate(),"0h":r(n.getHours(),"0",2,-1),hh:n.getHours(),"0m":r(n.getMinutes(),"0",2,-1),mm:n.getMinutes(),"0s":r(n.getSeconds(),"0",2,-1),ss:n.getSeconds(),ms:n.getMilliseconds()};return Object.keys(f).forEach(function(e){a=a.replace(e,f[e])}),a}function S(){return""+(new Date).getTime()}function D(e,r){return t(e,"number")||(e=1),t(r,"number")||(r=e+999),Math.floor(Math.random()*(r-e+1))+e}function B(e,r){t(e,"number")||(e=8),t(r,"string")||(r=""),e=e||8;for(var n=r||"9a8b77C8D9E8F7G6H5I4J3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",a="",o=0;e>o;o++){var i=Math.floor(Math.random()*n.length);a+=n.charAt(i)}return a}function I(e){var t=arguments[arguments.length-1];return a(t)?e!==void 0?t.fn(e):t.inverse(e):e!==void 0}function L(e){var t=arguments[arguments.length-1];return a(t)?e===void 0?t.fn(e):t.inverse(e):e===void 0}function N(t){var r;if(L(t)||null===t)r=!0;else switch(e(t)){case"undefined":case"null":r=!0;break;case"function":r=!1;break;case"object":r=0==Object.keys(t).length;break;case"array":r=0==t.length;break;case"boolean":r=t;break;case"number":r=0==t;break;case"string":r=0==t.trim().length;break;default:r=!1}var n=arguments[arguments.length-1];return a(n)?r?n.fn(t):n.inverse(t):!!r}function T(e,t,r){return O(e)?t:r}function F(e,r,n){return N(e)?r:t(n,"object")&&":ifEmpty"==n.name?e:n}function P(e,r,n){return N(e)?t(n,"object")&&":ifNotEmpty"==n.name?e:n:r}function J(e,t){var r=arguments[arguments.length-1],n=f(e,"array|object")?Z(e,t):e;return a(r)?n!==void 0?r.fn(n):r.inverse(n):n}function U(e,t){var r=[];return N(e)||(r=t?e.split(t):e.indexOf(",")>0?e.split(","):e.indexOf("|")>0?e.split("|"):e.indexOf(" ")>0?e.split(" "):e.indexOf("-")>0?e.split("-"):[e]),r}function Y(e,t){var r=arguments[arguments.length-1],n=f(t,"string")?t:void 0,o=U(e,n);return a(r)?N(o)?r.inverse(e):r.fn(o):o}function A(e){var r;return t(e,"string")&&(e=e.trim(),e&&(r=Z(window,e),t(r,"function")||(r=void 0))),r}function H(){var e,r,n,o=ut.pop.call(arguments),i=ut.shift.call(arguments),s=A(i);return s&&(i.match("]$")?e=i.substring(0,i.lastIndexOf("[")):i.indexOf(".")>0&&(e=i.substring(0,i.lastIndexOf("."))),r=e?Z(window,e):window,n=s.apply(r,arguments)),a(o)?t(n,"undefined")||t(n,"boolean|number|string")&&!n||t(n,"array|object")&&spa.isBlank(n)?o.inverse(n):o.fn(n):n}function R(e,r){var n,s,c,f,l=arguments[arguments.length-1],g="",d={sortOn:"",sortBy:"",splitBy:",",alias:"",fnFilter:"",fnEmpty:"",fnEnd:"",fnError:""},p=!1,m=0;if(o(l)&&(d=i(l,d),n=A(d.fnFilter),s=A(d.fnEmpty),c=A(d.fnEnd),f=A(d.fnError)),a(l)){switch(u(e)){case"string":e=U(e,d.splitBy);case"array":if(d.sortOn||d.sortBy){var h="sortOn:"+d.sortOn.trim()+";sortBy:"+(d.sortBy||"asc").trim();e=et(e,h)}case"object":if(N(e))g+=l.inverse(e);else{var b,v=t(r,"string")&&r.trim(),y=v?U(r):d.alias?U(d.alias):["",""],O=(y[0]||"").trim(),w=(y[1]||"").trim(),k=w||"index";p=!0,Object.keys(e).forEach(function(t,r){d.key=t,b=O?{}:e[t],O&&(O&&(b[O]=e[t]),w&&(b[w]=t)),n?(d[k+"Src"]=r,n.call(void 0,b)&&(d[k]=m++,g+=l.fn(b,{data:d}))):(d[k]=m++,g+=l.fn(b,{data:d}))})}break;default:f&&f.call(void 0,e),g+=l.inverse(e)}return p&&(m?c&&c.call(void 0,e):(s&&s.call(void 0,e),g+=l.inverse(e))),g}return e}function z(r,n){function s(e,t){B.push({value:e,text:t})}function c(e,t){return l&&j.indexOf(""+k)>=0||g&&E.indexOf(""+e)>=0||d&&C.indexOf(""+t)>=0}function f(e,t){return k++,'<option value="'+e+'" '+(c(e,t)?"selected":"")+">"+t+"</option>"}var l,g,d,p,m,h,b,v,y,O=arguments[arguments.length-1],w="",k=-1,x={value:"",text:"",value_text:"",splitBy:",",vtSplit:"",sortOn:"",sortBy:"",fnFilter:"",fnEmpty:"",fnEnd:"",selIndex:"",selValue:"",selText:""},j=[],E=[],C=[],M="",S="",D="",B=[];switch(o(O)?x=i(O,x):t(n,"string")&&U(n,";").forEach(function(e){var r=e.split(":");x[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),j=x.selIndex?U(x.selIndex):[],E=x.selValue?U(x.selValue):[],C=x.selText?U(x.selText):[],l=j.length,g=E.length,d=C.length,M=x.value||x.value_text,S=x.text||x.value_text,D=(x.vtSplit||"").replace(/colon/gi,":"),y="index"==M.toLowerCase(),p=x.sortOn.trim(),m=x.sortBy.trim(),m&&!p&&(p="text"),p&&!m&&(x.sortBy="asc"),h=A(x.fnFilter),b=A(x.fnEmpty),v=A(x.fnEnd),t(r,"string")&&(r=U(r,x.splitBy)),u(r)){case"object":Object.keys(r).forEach(function(e){s(e,r[e])});break;case"array":r.forEach(function(t,r){switch(e(t)){case"object":var n=Object.keys(t);M&&S?s(t[M],t[S]):1==n.length&&n.forEach(function(e){s(e,t[e])});break;case"string":if(y){s(r,t);break}t=D?t.split(D):[t];case"array":M&&S?s(t[M],t[S]):1==t.length?s(t[0],t[0]):t.length>1&&s(t[0],t[1]);break;default:s(y?r:t,t)}})}if(h&&B.length){var I=[];B.forEach(function(e,r){e.index=r;var n=h.call(void 0,e);n&&I.push(t(n,"object")?n:e)}),B=I}if(B.length){if(p||m){var L="sortOn:"+p+";sortBy:"+m;B=et(B,L)}B.forEach(function(e){w+=f(e.value,e.text)}),v&&v.call(void 0,B,r)}else b&&b.call(void 0,B,r);return a(O)?w?O.fn(new Handlebars.SafeString(w)):O.inverse(this):new Handlebars.SafeString(w)}function W(){var e=c.apply(void 0,arguments);return e?"checked":""}function G(){var e=c.apply(void 0,arguments);return e?"":"checked"}function K(){var e=c.apply(void 0,arguments);return e?"disabled":""}function V(){var e=c.apply(void 0,arguments);return e?"":"disabled"}function $(){var e=c.apply(void 0,arguments);return e?"selected":""}function q(){var e=c.apply(void 0,arguments);return e?"":selected}function Q(e){if(t(e,"number"))return!0;if(t(e,"string")){var r=e.replace(/[0-9]/g,"").trim();return e.length>0&&(""==r||e.length>1&&"."==r)}return!1}function X(e){return w((e||"").replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,"."),"\\.")}function Z(e,t,r){for(var n=0,a=X(t).split("."),o=a.length;o>n;n++){if(!e||e===void 0)return r;e=e[a[n]]}return e===void 0?r:e}function et(r,n){function s(e,t){return t>e?-1:e>t?1:0}var c=arguments[arguments.length-1],u=[],f={sortOn:"",sortBy:"asc",splitBy:","},l=!0,g="";if(o(c)?f=i(c,f):t(n,"string")&&U(n,";").forEach(function(e){var r=e.split(":");f[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),l="asc"==f.sortBy.toLowerCase(),g=f.sortOn||"",t(r,"string")&&r.length>0&&(r=U(r,f.splitBy)),t(r,"array")&&r.length>0){if(1==r.length)u=r;else switch(e(r[0])){case"number":u=r.sort(function(e,t){return e-t});break;case"string":u=Q(r[0])?r.sort(function(e,t){return 1*e-1*t}):r.sort();break;case"boolean":u=r.sort(function(e,t){return s(e,t)});break;case"object":if(g)switch(e(Z(r[0],g))){case"number":u=r.sort(function(e,t){return Z(e,g)-Z(t,g)});break;case"string":u=Q(Z(r[0],g))?r.sort(function(e,t){return 1*Z(e,g)-1*Z(t,g)}):r.sort(function(e,t){return s(Z(e,g),Z(t,g))});break;case"boolean":u=r.sort(function(e,t){return s(Z(e,g),Z(t,g))});break;default:u=r}else u=r;break;default:u=r}l||(u=u.reverse())}return a(c)?u.length?c.fn(u):c.inverse(r):u}function tt(){function e(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="[object Object]"===Object.prototype.toString.call(e[r])?tt(t[r],e[r]):e[r])}for(var t={},r=0,n=arguments.length;n>r;r++)e(arguments[r]);return t}function rt(){function r(r){if(!t(r,"undefined|null"))switch(e(n)){case"undefined":case"null":n=r;break;case"array":switch(e(r)){case"array":n=n.concat(r);break;default:n.push(r)}break;case"object":switch(e(r)){case"object":n=tt(n,r);break;default:n.hasOwnProperty("__joined__")?n.__joined__.push(r):n.__joined__=[r]}break;default:switch(e(r)){case"array":r.length&&(n+=r.join());break;case"object":Object.keys(r).length&&(n+=JSON.stringify(r));break;default:n+=""+r}}}var n,o=ut.pop.call(arguments);return ut.forEach.call(arguments,function(e){r(e)}),a(o)?o.fn(n):n}function nt(){var e=ut.pop.call(arguments),t=ut.shift.call(arguments),r=ut.join.call(arguments,t);return a(e)?e.fn(r):r}function at(){function e(r){if(r=r.trim(),!r.length)return r;var n=r[0],a=r;switch(!0){case"true"==r:a=!0;break;case"false"==r:a=!1;break;case Q(r):a=1*r;break;case"["==n:r=r.substring(1,r.lastIndexOf("]"))+",";case r.indexOf(",")>0&&0>r.indexOf("{"):var o=[];r.split(",").forEach(function(t){t=t.trim(),""!=t&&o.push(e(t))}),a=o;break;case"{"==n:r=r.substring(1,r.lastIndexOf("}"));var s,c,u={};r.split(",").forEach(function(t){t=t.trim(),s=j(t,":").trim(),c=E(t,":").trim(),s&&(u[s]=e(c))}),a=u;break;case"@"==n&&"["!=r[1]:var f=r.substring(1,r.indexOf("."));if(Q(f)){a=i[f];var l=r.indexOf(".")>0?r.substr(r.indexOf(".")+1):"";l&&t(a,"array|object")&&(a=Z(a,l))}}if(t(a,"string")&&a.indexOf("@[")>=0){var g,d,p,m,h=a.match(/(@\[\s*(.*?)\s*])/g);h&&_.forEach(h,function(e){g=e.replace(/@\[/,"").replace(/]/,""),d=g.substring(0,g.indexOf(".")),p="",Q(d)&&(p=i[d],m=g.indexOf(".")>0?g.substr(g.indexOf(".")+1):"",m&&t(p,"array|object")&&(p=Z(p,m))),a=a.replace(RegExp(e.replace(/\[/,"\\["),"g"),p)})}return a}var r=ut.pop.call(arguments),n=ut.shift.call(arguments),o={},i=ut.splice.call(arguments,0);return t(n,"string")&&U(n,";").forEach(function(t){var r=j(t,":").trim(),n=E(t,":").trim();r&&(n=e(n),o[r]=n)}),a(r)?r.fn(o):o}function ot(){var e=ut.pop.call(arguments),r=Array_.shift.call(arguments),n={};if(t(r,"string"))try{n=JSON.parse(r)}catch(o){if(a(e))return e.inverse(o)}return a(e)?e.fn(n):n}function it(){var e=ut.pop.call(arguments),t=m(e.name.replace(/:console/g,""));"time"==t&&arguments.length&&console.log.apply(void 0,arguments),0==t.indexOf("mem")?console.log(console.memory):console[t].apply(void 0,arguments)}function st(e){var t=arguments[arguments.length-1],r="",n={searchStr:"",replaceStr:"",rxPattern:"",rxOption:""};return o(t)&&(n=s(t,n)),r=n.rxPattern?(""+e).replace(RegExp(n.rxPattern,n.rxOption),n.replaceStr):(""+e).replace(n.searchStr,n.replaceStr)}function ct(e){var t=["Bytes","KB","MB","GB","TB","PB"];if(0==e)return"0";var r=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,r),2)+" "+t[r]}var ut=Array.prototype;"undefined"!=typeof Handlebars&&Handlebars&&Handlebars.registerHelper({":":c,":if":c,":is":f,":isEmpty":N,":ofType":u,":?":T,":ifEmpty":F,":ifNotEmpty":P,":of":J,":each":R,":forEach":R,":split":Y,":sort":et,":join":rt,":merge":rt,":joinWithStr":nt,":fn":H,":jsonify":at,":jsonParse":ot,":consoleClear":it,":consoleLog":it,":consoleWarn":it,":consoleInfo":it,":consoleError":it,":consoleGroup":it,":consoleGroupEnd":it,":consoleGroupCollapsed":it,":consoleMem":it,":consoleMemory":it,":consoleProfile":it,":consoleProfileEnd":it,":consoleTable":it,":consoleTime":it,":consoleTimeEnd":it,":options":z,":checkedIf":W,":checkedIfNot":G,":enabledIf":V,":enabledIfNot":K,":disabledIf":K,":disabledIfNot":V,":selectedIf":$,":selectedIfNot":q,":lower":l,":lowerCase":l,":toLowerCase":l,":lowerCaseOf":l,":upper":g,":upperCase":g,":toUpperCase":g,":upperCaseOf":g,":title":d,":titleCase":d,":toTitleCase":d,":titleCaseOf":d,":capitalize":p,":unCapitalize":m,":normalize":h,":normalizeStr":h,":int":b,":toInt":b,":intOf":b,":float":v,":toFloat":v,":floatOf":v,":toStr":y,":toString":y,":toBool":O,":toBoolean":O,":trim":w,":trimStr":w,":trimLeft":k,":trimLeftStr":k,":trimRight":x,":trimRightStr":x,":replace":st,":getLeftStr":j,":getRightStr":E,":dateNowMs":S,":dateNow":M,":moment":C,":rand":D,":randPwd":B,":ifDefined":I,":ifUndefined":L,":bytesToSize":ct})})();

/** @license jquery-i18n-properties-custom | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
!function($){function callbackIfComplete(e){e.async&&(e.filesLoaded+=1,e.filesLoaded===e.totalFiles&&e.callback&&e.callback())}function loadAndParseFile(e,a){$.ajax({url:e,async:a.async,cache:a.cache,dataType:"text",success:function(e,r){parseData(e,a.mode),callbackIfComplete(a)},error:function(r,t,n){console.log("Failed to download or parse "+e),callbackIfComplete(a)}})}function parseData(data,mode){for(var parsed="",parameters=data.split(/\n/),regPlaceHolder=/(\{\d+})/g,regRepPlaceHolder=/\{(\d+)}/g,unicodeRE=/(\\u.{4})/gi,i=0;i<parameters.length;i++)if(parameters[i]=parameters[i].replace(/^\s\s*/,"").replace(/\s\s*$/,""),parameters[i].length>0&&"#"!=parameters[i].match("^#")){var pair=parameters[i].split("=");if(pair.length>0){for(var name=decodeURI(pair[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),value=1==pair.length?"":pair[1];"\\"==value.match(/\\$/);)value=value.substring(0,value.length-1),value+=parameters[++i].replace(/\s\s*$/,"");for(var s=2;s<pair.length;s++)value+="="+pair[s];if(value=value.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"map"==mode||"both"==mode){var unicodeMatches=value.match(unicodeRE);if(unicodeMatches)for(var u=0;u<unicodeMatches.length;u++)value=value.replace(unicodeMatches[u],unescapeUnicode(unicodeMatches[u]));$.i18n.map[name]=value}if("vars"==mode||"both"==mode)if(value=value.replace(/"/g,'\\"'),checkKeyNamespace(name),regPlaceHolder.test(value)){for(var parts=value.split(regPlaceHolder),first=!0,fnArgs="",usedArgs=[],p=0;p<parts.length;p++)!regPlaceHolder.test(parts[p])||0!=usedArgs.length&&-1!=usedArgs.indexOf(parts[p])||(first||(fnArgs+=","),fnArgs+=parts[p].replace(regRepPlaceHolder,"v$1"),usedArgs.push(parts[p]),first=!1);parsed+=name+"=function("+fnArgs+"){";var fnExpr='"'+value.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+fnExpr+";};"}else parsed+=name+'="'+value+'";'}}eval(parsed)}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key))for(var fullname="",names=key.split(/\./),i=0;i<names.length;i++)i>0&&(fullname+="."),fullname+=names[i],eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")}function getFiles(e){return e&&e.constructor==Array?e:[e]}function unescapeUnicode(e){var a=[],r=parseInt(e.substr(2),16);r>=0&&r<Math.pow(2,16)&&a.push(r);for(var t="",n=0;n<a.length;++n)t+=String.fromCharCode(a[n]);return t}$.i18n={},$.i18n.map={},$.i18n.properties=function(e){var a={name:"Messages",language:"",path:"",ext:".properties",mode:"vars",cache:!1,encoding:"UTF-8",async:!1,checkAvailableLanguages:!1,callback:null};e=$.extend(a,e),e.language=this.normaliseLanguageCode(e.language);var r=function(a){e.totalFiles=0,e.filesLoaded=0;var r=getFiles(e.name);if(e.async)for(var t=0,n=r.length;n>t;t++)if(e.language.length>=5){var s=e.language.substring(0,5);0!=a.length&&-1==$.inArray(s,a)||(e.totalFiles+=1)}else{var l=e.language.substring(0,2);0==a.length||-1!=$.inArray(l,a)?e.totalFiles+=1:e.totalFiles+=1}for(var i=0,g=r.length;g>i;i++)if(e.language.length>=5){var s=e.language.substring(0,5);0!=a.length&&-1==$.inArray(s,a)||loadAndParseFile(e.path+r[i]+"_"+s+(e.ext||".properties"),e)}else{var l=e.language.substring(0,2);0==a.length||-1!=$.inArray(l,a)?loadAndParseFile(e.path+r[i]+"_"+l+(e.ext||".properties"),e):loadAndParseFile(e.path+r[i]+(e.ext||".properties"),e)}e.callback&&!e.async&&e.callback()};e.checkAvailableLanguages?$.ajax({url:e.path+"languages.json",async:e.async,cache:!1,success:function(e,a,t){r(e.languages||[])}}):r([])},$.i18n.prop=function(e){var a=$.i18n.map[e];if(null==a)return"["+e+"]";var r;2==arguments.length&&$.isArray(arguments[1])&&(r=arguments[1]);var t;if("string"==typeof a){for(t=0;-1!=(t=a.indexOf("\\",t));)a="t"==a.charAt(t+1)?a.substring(0,t)+"	"+a.substring(t++ +2):"r"==a.charAt(t+1)?a.substring(0,t)+"\r"+a.substring(t++ +2):"n"==a.charAt(t+1)?a.substring(0,t)+"\n"+a.substring(t++ +2):"f"==a.charAt(t+1)?a.substring(0,t)+"\f"+a.substring(t++ +2):"\\"==a.charAt(t+1)?a.substring(0,t)+"\\"+a.substring(t++ +2):a.substring(0,t)+a.substring(t+1);var n,s,l=[];for(t=0;t<a.length;)if("'"==a.charAt(t))if(t==a.length-1)a=a.substring(0,t);else if("'"==a.charAt(t+1))a=a.substring(0,t)+a.substring(++t);else{for(n=t+2;-1!=(n=a.indexOf("'",n));){if(n==a.length-1||"'"!=a.charAt(n+1)){a=a.substring(0,t)+a.substring(t+1,n)+a.substring(n+1),t=n-1;break}a=a.substring(0,n)+a.substring(++n)}-1==n&&(a=a.substring(0,t)+a.substring(t+1))}else if("{"==a.charAt(t))if(n=a.indexOf("}",t+1),-1==n)t++;else if(s=parseInt(a.substring(t+1,n)),!isNaN(s)&&s>=0){var i=a.substring(0,t);""!=i&&l.push(i),l.push(s),t=0,a=a.substring(n+1)}else t=n+1;else t++;""!=a&&l.push(a),a=l,$.i18n.map[e]=l}if(0==a.length)return"";if(1==a.length&&"string"==typeof a[0])return a[0];var g="";for(t=0;t<a.length;t++)g+="string"==typeof a[t]?a[t]:r&&a[t]<r.length?r[a[t]]:!r&&a[t]+1<arguments.length?arguments[a[t]+1]:"{"+a[t]+"}";return g},$.i18n.normaliseLanguageCode=function(e){return(!e||e.length<2)&&(e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"en"),e=e.toLowerCase(),e=e.replace(/-/,"_"),e.length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e};var cbSplit;cbSplit||(cbSplit=function(e,a,r){if("[object RegExp]"!==Object.prototype.toString.call(a))return"undefined"==typeof cbSplit._nativeSplit?e.split(a,r):cbSplit._nativeSplit.call(e,a,r);var t,n,s,l,i=[],g=0,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":""),a=new RegExp(a.source,c+"g");if(e+="",cbSplit._compliantExecNpcg||(t=new RegExp("^"+a.source+"$(?!\\s)",c)),void 0===r||0>+r)r=1/0;else if(r=Math.floor(+r),!r)return[];for(;(n=a.exec(e))&&(s=n.index+n[0].length,!(s>g&&(i.push(e.slice(g,n.index)),!cbSplit._compliantExecNpcg&&n.length>1&&n[0].replace(t,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(n[e]=void 0)}),n.length>1&&n.index<e.length&&Array.prototype.push.apply(i,n.slice(1)),l=n[0].length,g=s,i.length>=r)));)a.lastIndex===n.index&&a.lastIndex++;return g===e.length?!l&&a.test("")||i.push(""):i.push(e.slice(g)),i.length>r?i.slice(0,r):i},cbSplit._compliantExecNpcg=void 0===/()??/.exec("")[1],cbSplit._nativeSplit=String.prototype.split),String.prototype.split=function(e,a){return cbSplit(this,e,a)}}(jQuery);

/** @license SPA.js | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
window.app=window.app||{api:{}},window.app.api=window.app.api||{},function(){for(var e,a=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,r=window.console=window.console||{};n--;)e=t[n],r[e]||(r[e]=a);"none"in window||(window.none=""),"noop"in window||(window.noop=function(){})}(),function(){function e(e,a){return e>a}function a(e){return e}function t(e,a,t){for(var n=-1,r=e.length;r>++n;){var s=e[n],o=a(s);if(null!=o&&(void 0===i?o===o&&!sa(o):t(o,i)))var i=o,p=s}return p}function n(n){return n&&n.length?t(n,a,e):void 0}function r(e){return e}function s(e,a,t){if(!W(t))return!1;var n=typeof a;return("number"==n?aa(t)&&ea(a,t.length):"string"==n&&a in t)?ua(t[a],e):!1}function o(e,a){return Qt.setToString(Qt.overRest(e,a,r),e+"")}function i(e){return o(function(a,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&isIterateeCall(t[0],t[1],o)&&(s=3>r?void 0:s,r=1),a=Object(a);r>++n;){var i=t[n];i&&e(a,i,n,s)}return a})}function p(e,a,t){var n=-1,r=ft,s=e.length,o=!0,i=[],p=i;if(t)o=!1,r=gt;else if(s>=Qt.LARGE_ARRAY_SIZE){var l=a?null:Qt.createSet(e);if(l)return Qt.setToArray(l);o=!1,r=bt,p=new Qt.SetCache}else p=a?[]:i;e:for(;s>++n;){var c=e[n],u=a?a(c):c;if(c=t||0!==c?c:0,o&&u===u){for(var d=p.length;d--;)if(p[d]===u)continue e;a&&p.push(u),i.push(c)}else r(p,u,t)||(p!==i&&p.push(u),i.push(c))}return i}function l(e){return J(e)&&aa(e)}function c(e,a,t,n,r){var s=-1,o=e.length;for(t||(t=ia),r||(r=[]);o>++s;){var i=e[s];a>0&&t(i)?a>1?c(i,a-1,t,n,r):ct(r,i):n||(r[r.length]=i)}return r}function u(e){var a=null==e?0:e.length;return a?c(e,1):[]}function d(e){var a=e.length,t=e.constructor(a);return a&&"string"==typeof e[0]&&en.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function f(e,a,t){var n=a(e);return Q(e)?n:ct(n,t(e))}function g(e){return f(e,M,ln)}function m(e,a){return a=h(a,e),e=nt(e,a),null==e||delete e[ma(Sa(a))]}function h(e,a){return Q(e)?e:na(e,a)?[e]:Ta(va(e))}function v(e){return Qt.setToString(Qt.overRest(e,void 0,u),e+"")}function y(e){if(!J(e)||rt(e)!=Qt.objectTag)return!1;var a=sn(e);if(null===a)return!0;var t=en.call(a,"constructor")&&a.constructor;return"function"==typeof t&&t instanceof t&&tn.call(t)==nn}function b(e){return y(e)?void 0:e}function S(e,a){var t=-1,n=e.length;for(a||(a=Array(n));n>++t;)a[t]=e[t];return a}function _(e,a,t,n){var r=!t;t||(t={});for(var s=-1,o=a.length;o>++s;){var i=a[s],p=n?n(t[i],e[i],i,t,e):void 0;void 0===p&&(p=e[i]),r?it(t,i,p):N(t,i,p)}return t}function O(e,a){if(a)return e.slice();var t=e.length,n=an?an(t):new e.constructor(t);return e.copy(n),n}function T(e){return"function"!=typeof e.constructor||ra(e)?{}:Qt.baseCreate(sn(e))}function C(e){var a=new e.constructor(e.byteLength);return new Qt.Uint8Array(a).set(new Qt.Uint8Array(e)),a}function w(e,a){var t=a?C(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function k(e){var a=-1,t=Array(e.size);return e.forEach(function(e,n){t[++a]=[n,e]}),t}function R(e,a,t,n){var r=-1,s=null==e?0:e.length;for(n&&s&&(t=e[++r]);s>++r;)t=a(t,e[r],r,e);return t}function x(e,a){var t=a?C(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function j(e){var a=new e.constructor(e.source,Qt.reFlags.exec(e));return a.lastIndex=e.lastIndex,a}function A(e,a){return e.set(a[0],a[1]),e}function E(e,a){return e.add(a),e}function I(e,a,t){var n=a?t(k(e),Qt.CLONE_DEEP_FLAG):k(e);return R(n,A,new e.constructor)}function P(e,a,t){var n=a?t(Qt.setToArray(e),Qt.CLONE_DEEP_FLAG):Qt.setToArray(e);return R(n,E,new e.constructor)}function $(e){return Qt.symbolValueOf?Object(Qt.symbolValueOf.call(e)):{}}function L(e,a,t,n){var r=e.constructor;switch(a){case Qt.numberTag:case Qt.stringTag:return new r(e);case Qt.boolTag:case Qt.dateTag:return new r(+e);case Qt.arrayBufferTag:return C(e);case Qt.float32Tag:case Qt.float64Tag:case Qt.int8Tag:case Qt.int16Tag:case Qt.int32Tag:case Qt.uint8Tag:case Qt.uint8ClampedTag:case Qt.uint16Tag:case Qt.uint32Tag:return w(e,n);case Qt.mapTag:return I(e,n,t);case Qt.dataViewTag:return x(e,n);case Qt.regexpTag:return j(e);case Qt.setTag:return P(e,n,t);case Qt.symbolTag:return $(e)}}function N(e,a,t){var n=e[a];en.call(e,a)&&ua(n,t)&&(void 0!==t||a in e)||it(e,a,t)}function D(e){return W(e)?Ya(e):z(e)?Ya(e.split("")):[]}function M(e){return aa(e)?et(e,!0):Za(e)}function V(e){return f(e,keys,Qt.getSymbols)}function F(e,a){return _(e,Qt.getSymbols(e),a)}function U(e,a){return _(e,ln(e),a)}function B(e,a){return e&&_(a,D(a),e)}function H(e,a){return e&&_(a,M(a),e)}function K(e,a){for(var t=-1,n=null==e?0:e.length;n>++t&&a(e[t],t,e)!==!1;);return e}function q(e,a,t,n,r,s){var o,i=a&CLONE_DEEP_FLAG,p=a&CLONE_FLAT_FLAG,l=a&CLONE_SYMBOLS_FLAG;if(t&&(o=r?t(e,n,r,s):t(e)),void 0!==o)return o;if(!W(e))return e;var c=Q(e);if(c){if(o=d(e),!i)return S(e,o)}else{var u=ot(e),f=u==Qt.funcTag||u==Qt.genTag;if(Yt(e))return O(e,i);if(u==Qt.objectTag||u==Qt.argsTag||f&&!r){if(o=p||f?{}:T(e),!i)return p?U(e,H(o,e)):F(e,B(o,e))}else{if(!Qt.cloneableTags[u])return r?e:{};o=L(e,u,q,i)}}s||(s=new Qt.Stack);var m=s.get(e);if(m)return m;s.set(e,o);var h=l?p?g:V:p?M:D,v=c?void 0:h(e);return K(v||e,function(n,r){v&&(r=n,n=e[r]),N(o,r,q(n,a,t,r,e,s))}),o}function z(e){return"string"==typeof e||!Q(e)&&J(e)&&rt(e)==Qt.stringTag}function W(e){var a=typeof e;return null!=e&&("object"==a||"function"==a)}function J(e){return null!=e&&"object"==typeof e}function G(e){return null!=e&&"function"==typeof e}function Q(e){return"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return e===!0||e===!1||J(e)&&rt(e)==Qt.boolTag}function X(e){return"number"==typeof e||J(e)&&rt(e)==Qt.numberTag}function Z(e){return"number"==typeof e&&e>-1&&0==e%1&&Qt.MAX_SAFE_INTEGER>=e}function ea(e,a){return a=null==a?Qt.MAX_SAFE_INTEGER:a,!!a&&("number"==typeof e||Qt.reIsUint.test(e))&&e>-1&&0==e%1&&a>e}function aa(e){return null!=e&&Z(e.length)&&!G(e)}function ta(e){var a=typeof e;return"undefined"==a||null==e?!0:"string"==a||"[object Array]"===Object.prototype.toString.call(e)?!e.length:"object"==a?!Object.keys(e).length:!1}function na(e,a){if(Q(e))return!1;var t=typeof e;return"number"==t||"symbol"==t||"boolean"==t||null==e?!0:Qt.reIsPlainProp.test(e)||!Qt.reIsDeepProp.test(e)||null!=a&&e in Object(a)}function ra(e){var a=e&&e.constructor,t="function"==typeof a&&a.prototype||Qt.objectProto;return e===t}function sa(e){return"symbol"==typeof e||J(e)&&ot(e)==Qt.symbolTag}function oa(e){return J(e)&&Z(e.length)&&!!Qt.typedArrayTags[ot(e)]}function ia(e){return Q(e)||!!(Qt.spreadableSymbol&&e&&e[Qt.spreadableSymbol])}function pa(e){return Xt.call(e)}function la(e){return e===e&&!W(e)}function ca(e){return _(e,M(e))}function ua(e,a){return e===a||e!==e&&a!==a}function da(e,a){for(var t=e.length;t--;)if(ua(e[t][0],a))return t;return-1}function fa(e){return e!==e}function ga(e){var a=Qt.INFINITY,t=Qt.MAX_INTEGER;if(!e)return 0===e?e:0;if(e=1*e,e===a||e===-a){var n=0>e?-1:1;return n*t}return e===e?e:0}function ma(e){if("string"==typeof e)return e;var a=e+"";return"0"==a&&1/e==-Qt.INFINITY?"-0":a}function ha(e){if("string"==typeof e)return e;if(Q(e))return ba(e,ha)+"";var a=e+"";return"0"==a&&1/e==-Qt.INFINITY?"-0":a}function va(e){return null==e?"":ha(e)}function ya(e){var a=ga(e),t=a%1;return a===a?t?a-t:a:0}function ba(e,a){for(var t=-1,n=null==e?0:e.length,r=Array(n);n>++t;)r[t]=a(e[t],t,e);return r}function Sa(e){var a=null==e?0:e.length;return a?e[a-1]:void 0}function _a(e,a,t,n){for(var r=-1,s=Math.max(Math.ceil((a-e)/(t||1)),0),o=Array(s);s--;)o[n?s:++r]=e,e+=t;return o}function Oa(e,a,t){return t&&"number"!=typeof t&&(t=void 0),e=ga(e),void 0===a?(a=e,e=0):a=ga(a),t=void 0===t?a>e?1:-1:ga(t),_a(e,a,t,!1)}function Ta(e){var a=[];return Qt.reLeadingDot.test(e)&&a.push(""),e.replace(Qt.rePropName,function(e,t,n,r){a.push(n?r.replace(Qt.reEscapeChar,"$1"):t||e)}),a}function Ca(e,a,t){a=h(a,e);for(var n=-1,r=a.length,s=!1;r>++n;){var o=ma(a[n]);if(!(s=null!=e&&t(e,o)))break;e=e[o]}return s||++n!=r?s:(r=null==e?0:e.length,!!r&&Z(r)&&Q(e))}function wa(e,a){return null!=e&&en.call(e,a)}function ka(e,a){return null!=e&&Ca(e,a,wa)}function Ra(e,a){return null!=e&&a in Object(e)}function xa(e,a){return null!=e&&Ca(e,a,Ra)}function ja(e,a){return pt(e||[],a||[],N)}function Aa(e,a,t){var n=null==e?0:e.length;if(!n)return-1;var r=null==t?0:ya(t);return 0>r&&(r=Math.max(n+r,0)),Ja(e,a,r)}function Ea(e,a,t){var n=null==e?void 0:tt(e,a);return void 0===n?t:n}function Ia(e,a,t){var n=null==e?0:e.length;if(!n)return-1;var r=null==t?0:ya(t);return 0>r&&(r=Math.max(n+r,0)),Tt(e,Pt(a,3),r)}function Pa(e,a,t){var n=Object(e);if(!aa(e)){var r=Pt(a,3);e=D(e),a=function(e){return r(n[e],e,n)}}var s=Ia(e,a,t);return s>-1?n[r?e[s]:s]:void 0}function $a(e){return na(e)?At(ma(e)):Et(e)}function La(e,a){var t=[];if(!e||!e.length)return t;var n=-1,r=[],s=e.length;for(a=Pt(a,3);s>++n;){var o=e[n];a(o,n,e)&&(t.push(o),r.push(n))}return $t(e,r),t}function Na(e,a){return e&&e.length&&a&&a.length?Vt(e,a):e}function Da(e,a){var t=Q(e)?K:dn;return t(e,Pt(a,3))}function Ma(e,a,t){var n=Q(e)?ut:Ft;return t&&s(e,a,t)&&(a=void 0),n(e,Pt(a,3))}function Va(e,a){var t=Q(e)?ba:Ut;return t(e,Pt(a,3))}function Fa(e,a,t){var n=Q(e)?dt:Bt;return t&&s(e,a,t)&&(a=void 0),n(e,Pt(a,3))}function Ua(e){return e&&e.length?p(e):[]}function Ba(e,a){var t=Q(e)?mt:qt;return t(e,Pt(a,3))}function Ha(e,a){return function(t){return null==t?!1:t[e]===a&&(void 0!==a||e in Object(t))}}function Ka(e,a){return na(e)&&la(a)?Ha(ma(e),a):function(t){var n=Ea(t,e);return void 0===n&&n===a?xa(t,e):wt(a,n,Qt.COMPARE_PARTIAL_FLAG|Qt.COMPARE_UNORDERED_FLAG)}}function qa(e,a){return za(e,a,function(a,t){return xa(e,t)})}function za(e,a,t){for(var n=-1,r=a.length,s={};r>++n;){var o=a[n],i=tt(e,o);t(i,o)&&Wa(s,h(o,e),i)}return s}function Wa(e,a,t,n){if(!W(e))return e;a=h(a,e);for(var r=-1,s=a.length,o=s-1,i=e;null!=i&&s>++r;){var p=ma(a[r]),l=t;if(r!=o){var c=i[p];l=n?n(c,p,i):void 0,void 0===l&&(l=W(c)?c:ea(a[r+1])?[]:{})}N(i,p,l),i=i[p]}return e}function Ja(e,a,t){return a===a?Ot(e,a,t):Tt(e,fa,t)}function Ga(e,a,t,n){for(var r=t-1,s=e.length;s>++r;)if(n(e[r],a))return r;return-1}function Qa(e,a){for(var t=-1,n=Array(e);e>++t;)n[t]=a(t);return n}function Ya(e){if(!ra(e))return rn(e);var a=[];for(var t in Object(e))en.call(e,t)&&"constructor"!=t&&a.push(t);return a}function Xa(e){var a=[];if(null!=e)for(var t in Object(e))a.push(t);return a}function Za(e){if(!W(e))return Xa(e);var a=ra(e),t=[];for(var n in e)("constructor"!=n||!a&&en.call(e,n))&&t.push(n);return t}function et(e,a){var t=Q(e),n=!t&&un(e),r=!t&&!n&&Yt(e),s=!t&&!n&&!r&&oa(e),o=t||n||r||s,i=o?Qa(e.length,String):[],p=i.length;for(var l in e)!a&&!en.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ea(l,p))||i.push(l);return i}function at(e,a,t){var n=-1,r=e.length;0>a&&(a=-a>r?0:r+a),t=t>r?r:t,0>t&&(t+=r),r=a>t?0:t-a>>>0,a>>>=0;for(var s=Array(r);r>++n;)s[n]=e[n+a];return s}function tt(e,a){a=h(a,e);for(var t=0,n=a.length;null!=e&&n>t;)e=e[ma(a[t++])];return t&&t==n?e:void 0}function nt(e,a){return 2>a.length?e:tt(e,at(a,0,-1))}function rt(e){return null==e?void 0===e?Qt.undefinedTag:Qt.nullTag:Qt.symToStringTag&&Qt.symToStringTag in Object(e)?st(e):pa(e)}function st(e){var a=en.call(e,Qt.symToStringTag),t=e[Qt.symToStringTag];try{e[Qt.symToStringTag]=void 0;var n=!0}catch(r){}var s=Xt.call(e);return n&&(a?e[Qt.symToStringTag]=t:delete e[Qt.symToStringTag]),s}function ot(e){return null==e?void 0===e?Qt.undefinedTag:Qt.nullTag:Qt.symToStringTag&&Qt.symToStringTag in Object(e)?st(e):pa(e)}function it(e,a,t){"__proto__"==a&&Qt.defineProperty?Qt.defineProperty(e,a,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[a]=t}function pt(e,a,t){for(var n=-1,r=e.length,s=a.length,o={};r>++n;){var i=s>n?a[n]:void 0;t(o,e[n],i)}return o}function lt(e,a){for(var t=-1,n=a.length,r=Array(n),s=null==e;n>++t;)r[t]=s?void 0:Ea(e,a[t]);return r}function ct(e,a){for(var t=-1,n=a.length,r=e.length;n>++t;)e[r+t]=a[t];return e}function ut(e,a){for(var t=-1,n=null==e?0:e.length;n>++t;)if(!a(e[t],t,e))return!1;return!0}function ba(e,a){for(var t=-1,n=null==e?0:e.length,r=Array(n);n>++t;)r[t]=a(e[t],t,e);return r}function dt(e,a){for(var t=-1,n=null==e?0:e.length;n>++t;)if(a(e[t],t,e))return!0;return!1}function ft(e,a){var t=null==e?0:e.length;return!!t&&Ja(e,a,0)>-1}function gt(e,a,t){for(var n=-1,r=null==e?0:e.length;r>++n;)if(t(a,e[n]))return!0;return!1}function mt(e,a){for(var t=-1,n=null==e?0:e.length,r=0,s=[];n>++t;){var o=e[t];a(o,t,e)&&(s[r++]=o)}return s}function ht(e,a,t,n,r,s){var o=t&Qt.COMPARE_PARTIAL_FLAG,i=e.length,p=a.length;if(i!=p&&!(o&&p>i))return!1;var l=s.get(e);if(l&&s.get(a))return l==a;var c=-1,u=!0,d=t&Qt.COMPARE_UNORDERED_FLAG?new Qt.SetCache:void 0;for(s.set(e,a),s.set(a,e);i>++c;){var f=e[c],g=a[c];if(n)var m=o?n(g,f,c,a,e,s):n(f,g,c,e,a,s);if(void 0!==m){if(m)continue;u=!1;break}if(d){if(!dt(a,function(e,a){return bt(d,a)||f!==e&&!r(f,e,t,n,s)?void 0:d.push(a)})){u=!1;break}}else if(f!==g&&!r(f,g,t,n,s)){u=!1;break}}return s["delete"](e),s["delete"](a),u}function vt(e,a,t,n,r,s,o){switch(t){case Qt.dataViewTag:if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case Qt.arrayBufferTag:return e.byteLength==a.byteLength&&s(new Qt.Uint8Array(e),new Qt.Uint8Array(a))?!0:!1;case Qt.boolTag:case Qt.dateTag:case Qt.numberTag:return ua(+e,+a);case Qt.errorTag:return e.name==a.name&&e.message==a.message;case Qt.regexpTag:case Qt.stringTag:return e==a+"";case Qt.mapTag:var i=k;case Qt.setTag:var p=n&Qt.COMPARE_PARTIAL_FLAG;if(i||(i=Qt.setToArray),e.size!=a.size&&!p)return!1;var l=o.get(e);if(l)return l==a;n|=Qt.COMPARE_UNORDERED_FLAG,o.set(e,a);var c=ht(i(e),i(a),n,r,s,o);return o["delete"](e),c;case Qt.symbolTag:if(Qt.symbolValueOf)return Qt.symbolValueOf.call(e)==Qt.symbolValueOf.call(a)}return!1}function yt(e,a,t,n,r,s){var o=t&Qt.COMPARE_PARTIAL_FLAG,i=V(e),p=i.length,l=V(a),c=l.length;if(p!=c&&!o)return!1;for(var u=p;u--;){var d=i[u];if(!(o?d in a:en.call(a,d)))return!1}var f=s.get(e);if(f&&s.get(a))return f==a;var g=!0;s.set(e,a),s.set(a,e);for(var m=o;p>++u;){d=i[u];var h=e[d],v=a[d];if(n)var y=o?n(v,h,d,a,e,s):n(h,v,d,e,a,s);if(!(void 0===y?h===v||r(h,v,t,n,s):y)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=e.constructor,S=a.constructor;b!=S&&"constructor"in e&&"constructor"in a&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(g=!1)}return s["delete"](e),s["delete"](a),g}function bt(e,a){return e.has(a)}function St(e,a){if(e!==a){var t=void 0!==e,n=null===e,r=e===e,s=sa(e),o=void 0!==a,i=null===a,p=a===a,l=sa(a);if(!i&&!l&&!s&&e>a||s&&o&&p&&!i&&!l||n&&o&&p||!t&&p||!r)return 1;if(!n&&!s&&!l&&a>e||l&&t&&r&&!n&&!s||i&&t&&r||!o&&r||!p)return-1}return 0}function _t(e,a,t){for(var n=-1,r=e.criteria,s=a.criteria,o=r.length,i=t.length;o>++n;){var p=St(r[n],s[n]);if(p){if(n>=i)return p;var l=t[n];return p*("desc"==l?-1:1)}}return e.index-a.index}function Ot(e,a,t){for(var n=t-1,r=e.length;r>++n;)if(e[n]===a)return n;return-1}function Tt(e,a,t,n){for(var r=e.length,s=t+(n?1:-1);n?s--:r>++s;)if(a(e[s],s,e))return s;return-1}function Ct(e,a,t,n,r,s){var o=Q(e),i=Q(a),p=o?Qt.arrayTag:ot(e),l=i?Qt.arrayTag:ot(a);p=p==Qt.argsTag?Qt.objectTag:p,l=l==Qt.argsTag?Qt.objectTag:l;var c=p==Qt.objectTag,u=l==Qt.objectTag,d=p==l;if(d&&Yt(e)){if(!Yt(a))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Qt.Stack),o||oa(e)?ht(e,a,t,n,r,s):vt(e,a,p,t,n,r,s);if(!(t&Qt.COMPARE_PARTIAL_FLAG)){var f=c&&en.call(e,"__wrapped__"),g=u&&en.call(a,"__wrapped__");if(f||g){var m=f?e.value():e,h=g?a.value():a;return s||(s=new Qt.Stack),r(m,h,t,n,s)}}return d?(s||(s=new Qt.Stack),yt(e,a,t,n,r,s)):!1}function wt(e,a,t,n,r){return e===a?!0:null==e||null==a||!J(e)&&!J(a)?e!==e&&a!==a:Ct(e,a,t,n,wt,r)}function kt(e,a,t,n){var r=t.length,s=r,o=!n;if(null==e)return!s;for(e=Object(e);r--;){var i=t[r];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;s>++r;){i=t[r];var p=i[0],l=e[p],c=i[1];if(o&&i[2]){if(void 0===l&&!(p in e))return!1}else{var u=new Qt.Stack;if(n)var d=n(l,c,p,e,a,u);if(!(void 0===d?wt(c,l,Qt.COMPARE_PARTIAL_FLAG|Qt.COMPARE_UNORDERED_FLAG,n,u):d))return!1}}return!0}function fa(e){return e!==e}function Rt(e){return J(e)&&rt(e)==Qt.argsTag}function xt(e){for(var a=D(e),t=a.length;t--;){var n=a[t],r=e[n];a[t]=[n,r,la(r)]}return a}function jt(e){var a=xt(e);return 1==a.length&&a[0][2]?Ha(a[0][0],a[0][1]):function(t){return t===e||kt(t,e,a)}}function At(e){return function(a){return null==a?void 0:a[e]}}function Et(e){return function(a){return tt(a,e)}}function It(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?Q(e)?Ka(e[0],e[1]):jt(e):$a(e)}function Pt(){var e=It;return arguments.length?e(arguments[0],arguments[1]):e}function $t(e,a){for(var t=e?a.length:0,n=t-1;t--;){var r=a[t];if(t==n||r!==s){var s=r;ea(r)?Qt.splice.call(e,r,1):m(e,r)}}return e}function Lt(e){return function(a){return e(a)}}function Nt(e,a,t,n){for(var r=-1,s=Object(e),o=t(e),i=o.length;i--;){var p=o[n?i:++r];if(a(s[p],p,s)===!1)break}return e}function Dt(e,a){return e&&Nt(e,a,D)}function Mt(e,a){return function(t,n){if(null==t)return t;if(!aa(t))return e(t,n);for(var r=t.length,s=a?r:-1,o=Object(t);(a?s--:r>++s)&&n(o[s],s,o)!==!1;);return t}}function Vt(e,a,t,n){var r=n?Ga:Ja,s=-1,o=a.length,i=e;for(e===a&&(a=S(a)),t&&(i=ba(e,Lt(t)));o>++s;)for(var p=0,l=a[s],c=t?t(l):l;(p=r(i,c,p,n))>-1;)i!==e&&Qt.splice.call(i,p,1),Qt.splice.call(e,p,1);return e}function Ft(e,a){var t=!0;return dn(e,function(e,n,r){return t=!!a(e,n,r)}),t}function Ut(e,a){var t=-1,n=aa(e)?Array(e.length):[];return dn(e,function(e,r,s){n[++t]=a(e,r,s)}),n}function Bt(e,a){var t;return dn(e,function(e,n,r){return t=a(e,n,r),!t}),!!t}function Ht(e,a){var t=e.length;for(e.sort(a);t--;)e[t]=e[t].value;return e}function Kt(e,a,t){var n=-1;a=ba(a.length?a:[r],Lt(Pt()));var s=Ut(e,function(e){var t=ba(a,function(a){return a(e)});return{criteria:t,index:++n,value:e}});return Ht(s,function(e,a){return _t(e,a,t)})}function qt(e,a){var t=[];return dn(e,function(e,n,r){a(e,n,r)&&t.push(e)}),t}function zt(e,a,t){(void 0!==t&&!ua(e[a],t)||void 0===t&&!(a in e))&&it(e,a,t)}function Wt(e,a,t,n,r,s,o){var i=e[t],p=a[t],c=o.get(p);if(c)return zt(e,t,c),void 0;var u=s?s(i,p,t+"",e,a,o):void 0,d=void 0===u;if(d){var f=Q(p),g=!f&&Yt(p),m=!f&&!g&&oa(p);u=p,f||g||m?Q(i)?u=i:l(i)?u=S(i):g?(d=!1,u=O(p,!0)):m?(d=!1,u=w(p,!0)):u=[]:y(p)||un(p)?(u=i,un(i)?u=ca(i):(!W(i)||n&&G(i))&&(u=T(p))):d=!1}d&&(o.set(p,u),r(u,p,n,s,o),o["delete"](p)),zt(e,t,u)}function Jt(e,a,t,n,r){e!==a&&Nt(a,function(s,o){if(W(s))r||(r=new Qt.Stack),Wt(e,a,o,t,Jt,n,r);else{var i=n?n(e[o],s,o+"",e,a,r):void 0;void 0===i&&(i=s),zt(e,o,i)}},M)}function Gt(e){return o(function(a,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,i&&s(t[0],t[1],i)&&(o=3>r?void 0:o,r=1),a=Object(a);r>++n;){var p=t[n];p&&e(a,p,n,o)}return a})}if(!window._){var Qt={MAX_INTEGER:1.7976931348623157e308,MAX_SAFE_INTEGER:9007199254740991,INFINITY:1/0,reIsDeepProp:/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp:/^\w*$/,reLeadingDot:/^\./,rePropName:/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar:/\\(\\)?/g,reIsUint:/^(?:0|[1-9]\d*)$/,reFlags:/\w*$/,spreadableSymbol:window.Symbol?Symbol.isConcatSpreadable:void 0,symToStringTag:window.Symbol?Symbol.toStringTag:void 0,nativeIsBuffer:window.Buffer?Buffer.isBuffer:void 0,Uint8Array:window.Uint8Array,Map:window.Map?window.Map:void 0,Set:window.Set?window.Set:void 0,nativeCreate:window.Object?Object.create?Object.create:void 0:void 0,nativeGetSymbols:Object.getOwnPropertySymbols,arrayProto:Array.prototype,splice:Array.prototype.splice,funcProto:Function.prototype,objectProto:Object.prototype,objectCreate:Object.create,symbolProto:window.Symbol?Symbol.prototype:void 0,symbolValueOf:window.Symbol&&Symbol.prototype?Symbol.prototype.valueOf:void 0,symbolToString:window.Symbol&&Symbol.prototype?Symbol.prototype.toString:void 0,HASH_UNDEFINED:"__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG:1,COMPARE_UNORDERED_FLAG:2,LARGE_ARRAY_SIZE:200,HOT_COUNT:800,HOT_SPAN:16,CLONE_DEEP_FLAG:1,CLONE_FLAT_FLAG:2,CLONE_SYMBOLS_FLAG:4,argsTag:"[object Arguments]",arrayTag:"[object Array]",asyncTag:"[object AsyncFunction]",boolTag:"[object Boolean]",dateTag:"[object Date]",domExcTag:"[object DOMException]",errorTag:"[object Error]",funcTag:"[object Function]",genTag:"[object GeneratorFunction]",mapTag:"[object Map]",numberTag:"[object Number]",nullTag:"[object Null]",objectTag:"[object Object]",promiseTag:"[object Promise]",proxyTag:"[object Proxy]",regexpTag:"[object RegExp]",setTag:"[object Set]",stringTag:"[object String]",symbolTag:"[object Symbol]",undefinedTag:"[object Undefined]",weakMapTag:"[object WeakMap]",weakSetTag:"[object WeakSet]",arrayBufferTag:"[object ArrayBuffer]",dataViewTag:"[object DataView]",float32Tag:"[object Float32Array]",float64Tag:"[object Float64Array]",int8Tag:"[object Int8Array]",int16Tag:"[object Int16Array]",int32Tag:"[object Int32Array]",uint8Tag:"[object Uint8Array]",uint8ClampedTag:"[object Uint8ClampedArray]",uint16Tag:"[object Uint16Array]",uint32Tag:"[object Uint32Array]",setToArray:function(e){var a=-1,t=Array(e.size);return e.forEach(function(e){t[++a]=e}),t},apply:function(e,a,t){switch(t.length){case 0:return e.call(a);case 1:return e.call(a,t[0]);case 2:return e.call(a,t[0],t[1]);case 3:return e.call(a,t[0],t[1],t[2])}return e.apply(a,t)},overArg:function(e,a){return function(t){return e(a(t))}},stubFalse:function(){return!1},stubArray:function(){return[]},constant:function(e){return function(){return e}},defineProperty:function(){try{var e=Object.defineProperty;return e({},"",{}),e}catch(a){}}(),baseCreate:function(){function e(){}return function(a){var t=typeof a;if(null==a||"object"!=t&&"function"!=t)return{};if(Object.create)return Object.create(a);e.prototype=a;var n=new e;return e.prototype=void 0,n}}(),isKeyable:function(e){var a=typeof e;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==e:null===e},getMapData:function(e,a){var t=e.__data__;return Qt.isKeyable(a)?t["string"==typeof a?"string":"hash"]:t.map},typedArrayTags:{},cloneableTags:{}},Yt=Qt.nativeIsBuffer||Qt.stubFalse,Xt=Qt.objectProto.toString,Zt=Qt.objectProto.propertyIsEnumerable,en=Qt.objectProto.hasOwnProperty,an=Qt.nativeIsBuffer?Buffer.allocUnsafe:void 0,tn=Qt.funcProto.toString,nn=Qt.funcProto.toString.call(Object);Qt.typedArrayTags[Qt.float32Tag]=Qt.typedArrayTags[Qt.float64Tag]=Qt.typedArrayTags[Qt.int8Tag]=Qt.typedArrayTags[Qt.int16Tag]=Qt.typedArrayTags[Qt.int32Tag]=Qt.typedArrayTags[Qt.uint8Tag]=Qt.typedArrayTags[Qt.uint8ClampedTag]=Qt.typedArrayTags[Qt.uint16Tag]=Qt.typedArrayTags[Qt.uint32Tag]=!0,Qt.typedArrayTags[Qt.argsTag]=Qt.typedArrayTags[Qt.arrayTag]=Qt.typedArrayTags[Qt.arrayBufferTag]=Qt.typedArrayTags[Qt.boolTag]=Qt.typedArrayTags[Qt.dataViewTag]=Qt.typedArrayTags[Qt.dateTag]=Qt.typedArrayTags[Qt.errorTag]=Qt.typedArrayTags[Qt.funcTag]=Qt.typedArrayTags[Qt.mapTag]=Qt.typedArrayTags[Qt.numberTag]=Qt.typedArrayTags[Qt.objectTag]=Qt.typedArrayTags[Qt.regexpTag]=Qt.typedArrayTags[Qt.setTag]=Qt.typedArrayTags[Qt.stringTag]=Qt.typedArrayTags[Qt.weakMapTag]=!1,Qt.cloneableTags[Qt.argsTag]=Qt.cloneableTags[Qt.arrayTag]=Qt.cloneableTags[Qt.arrayBufferTag]=Qt.cloneableTags[Qt.dataViewTag]=Qt.cloneableTags[Qt.boolTag]=Qt.cloneableTags[Qt.dateTag]=Qt.cloneableTags[Qt.float32Tag]=Qt.cloneableTags[Qt.float64Tag]=Qt.cloneableTags[Qt.int8Tag]=Qt.cloneableTags[Qt.int16Tag]=Qt.cloneableTags[Qt.int32Tag]=Qt.cloneableTags[Qt.mapTag]=Qt.cloneableTags[Qt.numberTag]=Qt.cloneableTags[Qt.objectTag]=Qt.cloneableTags[Qt.regexpTag]=Qt.cloneableTags[Qt.setTag]=Qt.cloneableTags[Qt.stringTag]=Qt.cloneableTags[Qt.symbolTag]=Qt.cloneableTags[Qt.uint8Tag]=Qt.cloneableTags[Qt.uint8ClampedTag]=Qt.cloneableTags[Qt.uint16Tag]=Qt.cloneableTags[Qt.uint32Tag]=!0,Qt.cloneableTags[Qt.errorTag]=Qt.cloneableTags[Qt.funcTag]=Qt.cloneableTags[Qt.weakMapTag]=!1,Qt.baseSetToString=Qt.defineProperty?function(e,a){return Qt.defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:Qt.constant(a),writable:!0})}:function(e){return e},Qt.shortOut=function(e){var a=0,t=0;return function(){var n=Date.now(),r=Qt.HOT_SPAN-(n-t);if(t=n,r>0){if(++a>=Qt.HOT_COUNT)return arguments[0]}else a=0;return e.apply(void 0,arguments)}},Qt.overRest=function(e,a,t){return a=Math.max(void 0===a?e.length-1:a,0),function(){for(var n=arguments,r=-1,s=Math.max(n.length-a,0),o=Array(s);s>++r;)o[r]=n[a+r];r=-1;for(var i=Array(a+1);a>++r;)i[r]=n[r];return i[a]=t(o),Qt.apply(e,this,i)}},Qt.Hash=function(e){var a=-1,t=null==e?0:e.length;for(this.clear();t>++a;){var n=e[a];this.set(n[0],n[1])}},Qt.Hash.prototype.clear=function(){this.__data__=Qt.nativeCreate?Qt.nativeCreate(null):{},this.size=0},Qt.Hash.prototype["delete"]=function(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a},Qt.Hash.prototype.get=function(e){var a=this.__data__;if(Qt.nativeCreate){var t=a[e];return t===Qt.HASH_UNDEFINED?void 0:t}return en.call(a,e)?a[e]:void 0},Qt.Hash.prototype.has=function(e){var a=this.__data__;return Qt.nativeCreate?void 0!==a[e]:en.call(a,e)},Qt.Hash.prototype.set=function(e,a){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Qt.nativeCreate&&void 0===a?Qt.HASH_UNDEFINED:a,this},Qt.ListCache=function(e){var a=-1,t=null==e?0:e.length;for(this.clear();t>++a;){var n=e[a];this.set(n[0],n[1])}},Qt.ListCache.prototype.clear=function(){this.__data__=[],this.size=0},Qt.ListCache.prototype["delete"]=function(e){var a=this.__data__,t=da(a,e);if(0>t)return!1;var n=a.length-1;return t==n?a.pop():Qt.splice.call(a,t,1),--this.size,!0},Qt.ListCache.prototype.get=function(e){var a=this.__data__,t=da(a,e);return 0>t?void 0:a[t][1]},Qt.ListCache.prototype.has=function(e){return da(this.__data__,e)>-1},Qt.ListCache.prototype.set=function(e,a){var t=this.__data__,n=da(t,e);return 0>n?(++this.size,t.push([e,a])):t[n][1]=a,this},Qt.Stack=function(e){var a=this.__data__=new Qt.ListCache(e);this.size=a.size},Qt.Stack.prototype.clear=function(){this.__data__=new Qt.ListCache,this.size=0},Qt.Stack.prototype["delete"]=function(e){var a=this.__data__,t=a["delete"](e);return this.size=a.size,t},Qt.Stack.prototype.get=function(e){return this.__data__.get(e)},Qt.Stack.prototype.has=function(e){return this.__data__.has(e)},Qt.Stack.prototype.set=function(e,a){var t=this.__data__;if(t instanceof Qt.ListCache){var n=t.__data__;if(!Qt.Map||Qt.LARGE_ARRAY_SIZE-1>n.length)return n.push([e,a]),this.size=++t.size,this;t=this.__data__=new Qt.MapCache(n)}return t.set(e,a),this.size=t.size,this},Qt.MapCache=function(e){var a=-1,t=null==e?0:e.length;for(this.clear();t>++a;){var n=e[a];this.set(n[0],n[1])}},Qt.MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Qt.Hash,map:new(Qt.Map||Qt.ListCache),string:new Qt.Hash}},Qt.MapCache.prototype["delete"]=function(e){var a=Qt.getMapData(this,e)["delete"](e);return this.size-=a?1:0,a},Qt.MapCache.prototype.get=function(e){return Qt.getMapData(this,e).get(e)},Qt.MapCache.prototype.has=function(e){return Qt.getMapData(this,e).has(e)},Qt.MapCache.prototype.set=function(e,a){var t=Qt.getMapData(this,e),n=t.size;return t.set(e,a),this.size+=t.size==n?0:1,this},Qt.SetCache=function(e){var a=-1,t=null==e?0:e.length;for(this.__data__=new Qt.MapCache;t>++a;)this.add(e[a])},Qt.SetCache.prototype.add=Qt.SetCache.prototype.push=function(e){return this.__data__.set(e,Qt.HASH_UNDEFINED),this},Qt.SetCache.prototype.has=function(e){return this.__data__.has(e)},Qt.createSet=Qt.Set&&1/Qt.setToArray(new Qt.Set([,0]))[1]==Qt.INFINITY?function(e){return new Qt.Set(e)}:function(){},Qt.getSymbols=Qt.nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),mt(Qt.nativeGetSymbols(e),function(a){return Zt.call(e,a)}))}:Qt.stubArray,Qt.setToString=Qt.shortOut(Qt.baseSetToString);var rn=Qt.overArg(Object.keys,Object),sn=Qt.overArg(Object.getPrototypeOf,Object),on=i(function(e,a){_(a,M(a),e)}),pn=o(function(e){return p(c(e,1,l,!0))}),ln=Qt.nativeGetSymbols?function(e){for(var a=[];e;)ct(a,Qt.getSymbols(e)),e=sn(e);return a}:Qt.stubArray,cn=v(function(e,a){var t={};if(null==e)return t;var n=!1;a=ba(a,function(a){return a=h(a,e),n||(n=a.length>1),a}),_(e,g(e),t),n&&(t=q(t,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,b));for(var r=a.length;r--;)m(t,a[r]);return t}),un=Rt(function(){return arguments}())?Rt:function(e){return J(e)&&en.call(e,"callee")&&!Zt.call(e,"callee")},dn=Mt(Dt),fn={at:void 0,each:Da,every:Ma,extend:on,filter:Ba,find:Pa,findIndex:Ia,get:Ea,getAllKeys:V,has:ka,hasIn:xa,indexOf:Aa,isArray:Q,isArrayLike:aa,isArrayLikeObject:l,isBoolean:Y,isEmpty:ta,isFunction:G,isIndex:ea,isKey:na,isLength:Z,isNumber:X,isObject:W,isObjectLike:J,isPlainObject:y,isPrototype:ra,isString:z,isSymbol:sa,isTypedArray:oa,keys:D,keysIn:M,last:Sa,map:Va,max:n,merge:void 0,omit:cn,pick:void 0,property:$a,pull:void 0,pullAt:void 0,pullAll:Na,range:Oa,remove:La,some:Fa,sortBy:void 0,union:pn,uniq:Ua,zipObject:ja};fn.at=v(lt),fn.pull=o(Na),fn.pullAt=v(function(e,a){var t=null==e?0:e.length,n=lt(e,a);return $t(e,ba(a,function(e){return ea(e,t)?+e:e}).sort(St)),n}),fn.sortBy=o(function(e,a){if(null==e)return[];var t=a.length;return t>1&&s(e,a[0],a[1])?a=[]:t>2&&s(a[0],a[1],a[2])&&(a=[a[0]]),Kt(e,c(a,1),[])}),fn.merge=Gt(function(e,a,t){Jt(e,a,t)}),fn.pick=v(function(e,a){return null==e?{}:qa(e,a)}),fn.forEach=fn.each,window._||(window._=fn)}}(),function(){function _initWindowOnHashChange(){"onhashchange"in window&&(isSpaHashRouteOn=!0,spa.console.info("Registering HashRouting Listener"),window.onhashchange=function(){var e=window.location.hash;spa.console.info("onHashChange: "+e),e?spa.route(e):spa.routesOptions.defaultPageRoute&&spa.route(spa.routesOptions.defaultPageRoute)})}function _stopWindowOnHashChange(){window.onhashchange=void 0}function getMatchStr(e){switch(e){case"{":return"}";case"[":return"]";case"<":return">";default:return e}}function initKeyPauseEvent(e){$(e||"body").find("[onKeyPause]:not([onKeyPauseReg])").each(function(e,a){$(a).attr("onKeyPauseReg","").on("input propertychange paste",function(){var e=this,a=1*((""+e.getAttribute("data-pause-time")).replace(/[^0-9]/g,"")||"1250");keyPauseTimer&&clearTimeout(keyPauseTimer),keyPauseTimer=setTimeout(function(){var a=e.getAttribute("onKeyPause").split("(")[0],t=spa.findSafe(window,a);t&&t.call(e,e)},a)})})}function of(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function is(e,a){return(""+a).toLowerCase().indexOf(of(e))>=0}function _isObjHasKeys(e,a,t){function n(e,a){for(var n,r=a.split(","),s="",o=0,i=!0,p=0;r.length>p;p++)s=r[p].trim(),s&&(o++,n=t&&(s.indexOf(".")>0||s.indexOf("[")>0)?spa.hasKey(e,s):e.hasOwnProperty(s),i=i&&n);return o&&i}function r(e,a){for(var n,r=a.split(","),s="",o=0,i=!1,p=0;r.length>p&&(s=r[p].trim(),s&&(o++,n=t&&(s.indexOf(".")>0||s.indexOf("[")>0)?spa.hasKey(e,s):e.hasOwnProperty(s),i=i||n),!i);p++);return o&&i}var s=!1;if(is(e,"object")&&a)switch(a=""+a,!0){case a.indexOf("&")>0:s=n(e,a.replace(/\&/g,","));break;case a.indexOf("|")>0:s=r(e,a.replace(/\|/g,","));break;default:s=n(e,a)}return s}function adjustComponentOptions(e,a){var t="_rtt_"+e,n="";if(a&&_.isObject(a)&&spa.hasPrimaryKeys(a,"template|templateStr|templateString|templateUrl")){if(a.hasOwnProperty("template")){var r=a.template.trim(),s=r.beginsWithStr("#")&&!r.containsStr(" ");s||(a.templateStr=a.template)}spa.hasPrimaryKeys(a,"templateStr|templateString")?(n=a.templateStr||a.templateString||"",spa.updateTemplateScript(t,n),a.template="#"+t):spa.hasPrimaryKeys(a,"templateUrl")&&(a.template=a.templateUrl)}return a&&_.isObject(a)&&!spa.hasPrimaryKeys(a,"data|dataUrl")&&spa.hasPrimaryKeys(spa.api.urls,"$"+e)&&(a.dataUrl="@$"+e),a
}function _$renderCountUpdate(e){app[e]&&(app[e].__renderCount__=spa.toInt(spa.$renderCount(e))+1)}function _initFormValidation(e){if(spa.hasOwnProperty("initDataValidation")){var a,t,n;$(e||"body").find("[data-validate-form],[data-validate-scope]").filter(":not([data-validation-initialized])").each(function(e,r){a=$(r),t=a.data(),n=a.has(".ctrl-on-change").length,a.attr("data-validation-initialized",""),a.attr("onsubmit")||a.attr("onsubmit","return false;"),a.on("change",function(){spa.updateTrackFormCtrls(this)}),a.attr("data-validate-common")||a.attr("data-validate-common","{onFocus:{fn:_clearSpaValidateMsg}}"),spa.initDataValidation("#"+((t.validateForm||t.validateScope||"").replace(/[#onRender]/gi,"")||r.id)),!a.hasClass("track-changes")&&n&&spa.trackFormElChange(r),"onRender".equalsIgnoreCase(t.validateForm)&&spa.validateForm("#"+r.id,!0,!0)})}}function __renderView(e,a){var t,n=spa.setElIdIfNot(e);return t=a&&!$.isEmptyObject(a)?spa.render("#"+n,a):spa.render("#"+n)}function init_i18n_Lang(){function e(e,a,t){if(e){if(spa.i18n.onLangChange){var n=spa.i18n.onLangChange,r=spa.is(n,"function")?n.call(void 0,e,t):e;e=spa.is(r,"string")?r:e}$("html").attr("lang",e.replace("_","-")),spa.i18n.setLanguage(e,_.merge({path:"app/language/",ext:".txt",cache:!0,async:!0},spa.findSafe(window,"app.conf.lang",{}),spa.findSafe(window,"app.lang",{}),a||{}))}}$(document).on("click","[data-i18n-lang]",function(){var a=$(this).data(),t=a.i18nLang||"",n=(a.i18nLang||"").replace("-","_"),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+n;e(n,{callback:function(){var e="-",a=$("[data-i18n-lang]:first");a.length&&(e=(a.data("i18nLang")||"").replace(/[a-z]/gi,"")),$(".lang-text").attr("data-i18n",r).data("i18n",r),$(".lang-icon").removeClass(Array.prototype.join.call($("[data-i18n-lang]").map(function(e,a){return $(a).data("i18nLang")})," ")).addClass("_"==e?n:t),$("[data-i18n-lang]").removeClass("active"),$('[data-i18n-lang="'+t+'"],[data-i18n-lang="'+n+'"]').addClass("active"),spa.i18n.apply(".lang-text")}})});var a=($("body").attr("i18n-lang")||"").replace(/ /g,""),t=a.split(",")[0];if(a){if("*"==t&&(t=spa.i18n.browserLang(),0>(","+a.toLowerCase()+",").indexOf(","+t.toLowerCase()+","))){t=t.getLeftStr(2).toLowerCase();for(var n=a.split(","),r="",s="",o=0;n.length>o;o++)if(r=(n[o]||"").trim(),0==r.toLowerCase().indexOf(t)){s=r;break}t=s?s:a.split(",")[1]||""}t&&(e(t,{},!0),setTimeout(function(){spa.i18n.displayLang()},500))}}function _isLiveApiUrl(e,a){var t="",n=a||spa.findSafe(window,"app.api.liveApiPrefix","");if(n)if(n.indexOf(",")>0)for(var r,s=n.split(","),o=0,i=s.length;!t&&i>o;)r=s[o++].trim(),t=r?e.beginsWithStr(r)?r:!_isRelativePath(e)&&e.indexOf(r)>0?r:"":"";else t=e.beginsWithStr(n)?n:!_isRelativePath(e)&&e.indexOf(n)>0?n:"";return t}function _ajaxSetReqHeaders(e,a){var t=spa.findSafe(window,"app.api.reqHeaders");is(t,"function")&&(t=t(e,a)),is(t,"object")?_.forEach(Object.keys(t),function(a){e.setRequestHeader(a,t[a])}):is(t,"string")&&(_isLiveApiUrl(a.url)?(a.data=a.data||"",a.data+=(spa.isBlank(a.data)?"":"&")+t):e.setRequestHeader("reqHeadersInLiveUrl",t))}function _isRelativePath(e){var a=e.getLeftStr(6).toLowerCase(),t=a.beginsWithStr("http:")||a.beginsWithStr("https:")||a.beginsWithStr("//");return!t}function _ajaxPrefilter(e,a,t){e.url.beginsWithStr(spa.api.urlKeyIndicator)&&(e.url=spa.api.url(e.url.trimLeftStr(spa.api.urlKeyIndicator),e.data));var n,r=e.url,s=spa.findSafe(window,"app.api.reqHeaders");s&&(e.beforeSend=function(a){_ajaxSetReqHeaders(a,e)}),"script"==e.dataType||e.hasOwnProperty("error")||(e.error=spa.api.onReqError);var o="",i=/({+)([^}])*(}+)/;if(spa.api.mock||r.beginsWithStr("!"))if(r.beginsWithStr("~"))e.url=(_isRelativePath(r.trimLeftStr("~"))?spa.api.baseUrl||"":"")+r.trimLeftStr("~")+(spa.api.liveUrlSuffix||""),spa.api.baseUrl&&(e.crossDomain=!0);else{var p=("/"+e.type.toUpperCase()).replace("/GET","");if(e.type="GET",r=r.trimLeftStr("!"),o=_isLiveApiUrl(r)){if(r.containsStr("\\?")||(r=r.trimRightStr("/")+"?"),i.test(r)){spa.console.log("URL has undefined params >>",r,e.data);try{var l=spa.is(e.data,"string")?JSON.parse(e.data):e.data;r=spa.api.url(r.replace(/{{/g,"{").replace(/}}/g,"}"),l)}catch(c){}spa.console.log("Updated URL>>",r)}e.url=r.replace(/[\{\}]/g,"").replace(RegExp("(.*)(/*)"+o.trimLeftStr("/")),"api_/").replace(/\?/,p+"/data.json"),(app.debug||spa.debug)&&console.warn(">>>>>>Intercepting Live API URL: ["+r+"] ==> ["+e.url+"]"),n=!0}}else o=_isLiveApiUrl(r),(app.debug||spa.debug)&&console.log("actualUrl:"+r+",baseUrl:"+spa.api.baseUrl+",liveApiPrefix:"+o),o&&(e.url=(_isRelativePath(r)?spa.api.baseUrl||"":"")+r+(spa.api.liveUrlSuffix||""),spa.api.baseUrl&&(e.crossDomain=!0));if(spa.console.log("Remove mock params if any in URL>",e.url),e.url=e.url.replace(/{{([^}])*}}(\/*)/g,""),i.test(e.url)){spa.console.log("URL has undefined params>",e.url,e.data);try{var l=spa.is(e.data,"string")?JSON.parse(e.data):e.data;e.url=spa.api.url(e.url.replace(/{</g,"{").replace(/>}/g,"}"),l)}catch(c){}}spa.console.log("Final Ajax URL>",e.url),(i.test(e.url)||/<([^>])*>/.test(e.url))&&(console.warn("URL has undefined params >>",e.url,e.data),e.url=e.url.replace(/[{<>}]/g,"_")),spa.ajaxPreProcess&&spa.ajaxPreProcess(e,a,t),n&&(e.headers=_.merge({},e.headers,{"Z-Live-URL":r,"Z-Payload":spa.is(e.data,"string")?e.data:JSON.stringify(e.data)}),delete e.data),(app.debug||spa.debug)&&console.log("ajax Options",e)}var win=this,spa=function(e){return e instanceof spa?e:this instanceof spa?void 0:new spa(e)};win.isSpaHashRouteOn=!1,win.spa=win.__=spa,spa.VERSION="2.48.0";var _$=document.querySelector.bind(document),_$$=document.querySelectorAll.bind(document);win._$||(win._$=_$),win._$$||(win._$$=_$$);var isById=document.getElementById,isByName=document.all;spa.isIE=isByName?!0:!1,spa.isNonIE=isById&&!isByName?!0:!1,spa.noop=function(){},spa.debug=!1,spa["debugger"]={on:function(){spa.debug=!0},off:function(){spa.debug=!1},toggle:function(){spa.debug=!spa.debug}},spa.cOut=function(e,a){spa.debug&&console[e]&&console[e](1===a.length?a[0]:a)},spa.console={clear:function(){console.clear()},assert:function(){spa.cOut("assert",arguments)},count:function(){spa.cOut("count",arguments)},debug:function(){spa.cOut("debug",arguments)},dir:function(){spa.cOut("dir",arguments)},dirxml:function(){spa.cOut("dirxml",arguments)},error:function(){spa.cOut("error",arguments)},exception:function(){spa.cOut("exception",arguments)},group:function(){spa.cOut("group",arguments)},groupCollapsed:function(){spa.cOut("groupCollapsed",arguments)},groupEnd:function(){spa.cOut("groupEnd",arguments)},info:function(){spa.cOut("info",arguments)},log:function(){spa.cOut("log",arguments)},markTimeline:function(){spa.cOut("markTimeline",arguments)},profile:function(){spa.cOut("profile",arguments)},profileEnd:function(){spa.cOut("profileEnd",arguments)},table:function(){spa.cOut("table",arguments)},time:function(){spa.cOut("time",arguments)},timeEnd:function(){spa.cOut("timeEnd",arguments)},timeStamp:function(){spa.cOut("timeStamp",arguments)},trace:function(){spa.cOut("trace",arguments)},warn:function(){spa.cOut("warn",arguments)}},spa.onUrlHashChange,Date.prototype.yyyymmdd=function(e){var a=this.getMonth()+1,t=this.getDate();return[this.getFullYear(),(a>9?"":"0")+a,(t>9?"":"0")+t].join(e||"")},Date.prototype.hhmmss=function(e){var a=this.getHours(),t=this.getMinutes(),n=this.getSeconds();return[(a>9?"":"0")+a,(t>9?"":"0")+t,(n>9?"":"0")+n].join(e||"")},String.prototype.trimLeftStr=function(e){return(""+this).replace(RegExp("^["+(e||"\\s")+"]+","g"),"")},String.prototype.trimRightStr=function(e){return(""+this).replace(RegExp("["+(e||"\\s")+"]+$","g"),"")},String.prototype.trimStr=function(e){return(""+this).trimLeftStr(e).trimRightStr(e)},String.prototype.getLeftStr=function(e){return"string"==typeof e&&(e=(""+this).indexOf(e)),e?(""+this).substr(0,e):""},String.prototype.getRightStr=function(e){var a=1;return"string"==typeof e&&(a=e.length,e=(""+this).indexOf(e)),0>e?"":(""+this).substr(e+a)},String.prototype.isBlankStr=function(){return""==(""+this).trimStr()},String.prototype.ifBlankStr=function(e,a){return e=e===void 0?"":e,a=a===void 0?(""+this).trimStr():a,(""+this).isBlankStr()?e:a},String.prototype.isNumberStr=function(){return 0==(""+this).replace(/[0-9.]/g,"").trimStr().length},String.prototype.normalizeStr=function(){return(""+this).trimStr().replace(/\s+/g," ")},String.prototype.beginsWithStr=function(e,a){a=a?"i":"";var t=RegExp("^"+e,a);return(""+this).normalizeStr().match(t)?!0:!1},String.prototype.beginsWithStrIgnoreCase=function(e){var a=RegExp("^"+e,"i");return(""+this).normalizeStr().match(a)?!0:!1},String.prototype.endsWithStr=function(e,a){a=a?"i":"";var t=RegExp(e+"$",a);return(""+this).normalizeStr().match(t)?!0:!1},String.prototype.endsWithStrIgnoreCase=function(e){var a=RegExp(e+"$","i");return(""+this).normalizeStr().match(a)?!0:!1},String.prototype.containsStr=function(e,a){a=a?"gi":"g";var t=RegExp(""+e,a);return t.test(""+this)},String.prototype.containsStrIgnoreCase=function(e){var a=RegExp(""+e,"gi");return a.test(""+this)},String.prototype.equals=function(e){return""+this==e},String.prototype.equalsIgnoreCase=function(e){return(""+this).toLowerCase()+""==(e+"").toLowerCase()},String.prototype.toProperCase=function(e){return(e===void 0||e?(""+this).normalizeStr():""+this).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})},String.prototype.capitalize=function(){return(""+this).charAt(0).toUpperCase()+(""+this).slice(1)},String.prototype.unCapitalize=function(){return(""+this).charAt(0).toLowerCase()+(""+this).slice(1)},String.prototype.splitToArray=String.prototype.toArray=function(e){return spa.isBlank(""+this)?[]:(""+this).split(e)},String.prototype.extractStrBetweenIn=function(e,a){return e||(e=(""+this).match(/[^a-z0-9\:\.\/\\]/i),e=e?e[0]:""),a=a||getMatchStr(e),(""+this).match(RegExp("\\"+e+"([^\\"+e+"\\"+a+"].*?)\\"+a,"g"))||[]},String.prototype.extractStrBetweenEx=function(e,a){e||(e=(""+this).match(/[^a-z0-9\:\.\/\\]/i),e=e?e[0]:""),a=a||getMatchStr(e);var t="\\"+e+"\\"+a,n=RegExp("["+t+"]","g");return((""+this).match(RegExp("\\"+e+"([^"+t+"].*?)\\"+a,"g"))||[]).map(function(e){return e.replace(n,"")})},spa.strToNative=function(e){function a(){var e=s.replace(/[0-9]/g,"");return s.length?e.length?"-"==e||"+"==e||"."==e:!0:!1}function t(){return"true"==s||"false"==s}function n(){return"["==s[0]&&"]"==s[s.length-1]}function r(){return"{"==s[0]&&"}"==s[s.length-1]}var s=e.trim();switch(!0){case a():return 1*s;case t():return"true"==s;case r():return s.toJSON();case n():return("{xArr:"+s+"}").toJSON().xArr;default:return e}},String.prototype.toNative=function(){return spa.strToNative(""+this)},spa.extractStrBetweenIn=function(e,a,t){return(e||"").extractStrBetweenInc(a,t)},spa.extractStrBetweenEx=function(e,a,t){return(e||"").extractStrBetweenExc(a,t)},spa.strToArray=function(e){return"string"==typeof e&&(e=[e]),e},spa.toJSON=function(str,key4PrimaryDataTypes){var thisStr;if(_.isString(str)){if(thisStr=str.trimStr(),!(thisStr.containsStr("{")||thisStr.containsStr(":")||thisStr.containsStr("\\[")||thisStr.containsStr("'")||thisStr.containsStr('"'))){if(thisStr.containsStr(",")||thisStr.containsStr(";"))return thisStr.replace(/ /g,"").replace(/;/g,",").split(",");if(!key4PrimaryDataTypes)return thisStr;thisStr="{"+key4PrimaryDataTypes+":"+thisStr+"}"}thisStr.containsStr(":")&&!thisStr.containsStr(",")&&thisStr.containsStr(";")&&(thisStr=thisStr.replace(/\;/g,",")),thisStr.beginsWithStr("{")||thisStr.beginsWithStr("\\[")?thisStr.beginsWithStr("{")&&!thisStr.containsStr(":")&&thisStr.containsStr("=")&&(thisStr=""+thisStr.replace(/=/g,":")+""):thisStr=thisStr.containsStr(":")?"{"+thisStr+"}":thisStr.containsStr("=")?"{"+thisStr.replace(/=/g,":")+"}":"["+thisStr+"]",!thisStr.beginsWithStr("{")&&key4PrimaryDataTypes&&(thisStr="{"+key4PrimaryDataTypes+":"+thisStr+"}")}var jsonObj={};try{jsonObj=!_.isString(str)&&_.isObject(str)?str:spa.isBlank(str)?null:eval("("+thisStr+")")}catch(e){console.warn('Error JSON Parse: Invalid String >> "'+str+'"'),console.error(e)}return jsonObj},String.prototype.toJSON=function(){return spa.toJSON(""+this)},String.prototype.toBoolean=function(){var e=!0;switch((""+this).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":e=!1}return e&&(e=!(""+this).trimStr().beginsWithStr("-")),e},Boolean.prototype.toValue=function(e,a){return e===void 0&&(e=!0),a===void 0&&(a=!1),(""+this).valueOf()?e:a},Boolean.prototype.toHtml=function(e,a){return $((""+this).valueOf()?e:a).html()},String.prototype.padStr=function(e,a,t){e=e||"",a=a||1,t=t||2;for(var n="",r=0;a>r;r++)n+=e;return(-1===t||2===t?n:"")+(""+this)+(1===t||2===t?n:"")},spa.lastSplitResult=[],spa.getOnSplit=spa.pickOnSplit=function(e,a,t){return spa.lastSplitResult=e.split(a),spa.getOnLastSplit(t)},spa.getOnLastSplit=spa.pickOnLastSplit=function(e){return 0>e?_.last(spa.lastSplitResult):spa.lastSplitResult[e]},spa.isBlank=spa.isEmpty=function(e){var a=!0;if(void 0!==e&&null!==e)switch(!0){case _.isString(e):a=0==e.trimStr().length;break;case _.isFunction(e):a=!1;break;case _.isArray(e):case _.isObject(e):a=_.isEmpty(e);break;default:a=0==(""+e).trimStr().length}return a},spa.isNumber=function(e){return 0==(""+e).replace(/[0-9.]/g,"").trimStr().length},spa.toBoolean=function(e){var a=!0;switch((""+e).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":a=!1}return a},spa.toInt=function(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=spa.isBlank(e)?"0":e.indexOf(".")>=0?e.substring(0,e.indexOf(".")):e,parseInt(1*e,10)},spa.toFloat=function(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=spa.isBlank(e)?"0":e,parseFloat(1*e)},spa.toString=function(e){spa.console.warn("spa.toString is deprecated. use spa.toStr instead.");var a=""+e;return _.isObject(e)&&(a=JSON.stringify(e)),a},spa.toStr=function(e){var a=""+e;return _.isObject(e)&&(a=JSON.stringify(e)),a},spa.dotToX=function(e,a){return e.replace(/\./g,a)},spa.dotToCamelCase=function(e){var a=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return a[0].toLowerCase()+a.substring(1)},spa.dotToTitleCase=function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")},spa.toDottedPath=function(e){return(e||"").replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,".").trimStr("\\.")},spa.ifBlank=spa.ifEmpty=spa.ifNull=function(e,a,t){return a=(""+(a||"")).trimStr(),t=t===void 0?(""+e).trimStr():t,spa.isBlank(e)?a:t},spa.now=function(){return""+(new Date).getTime()},spa.year=function(e){return e=e||0,(new Date).getFullYear()+spa.toInt(e)},spa.range=function(e){var a=e.toUpperCase().split(".."),t=""+a[0],n=""+a[1],r="1";n.indexOf(":")>0&&(n=""+a[1].split(":")[0],r=""+a[1].split(":")[1]),t.indexOf("Y")>=0&&(t=spa.year(t.split(/[^0-9+-]/)[1])),n.indexOf("Y")>=0&&(n=spa.year(n.split(/[^0-9+-]/)[1]));var s=spa.toInt(t),o=spa.toInt(n),i=spa.toInt(r);return t>n?_.range(o,s+1,i).reverse():_.range(s,o+1,i)},spa.checkAndPreventKey=function(e,a){a||(a="");var t=a.indexOf("+shift")>=0,n=""+e.keyCode,r=a.padStr(",").indexOf(n.padStr(","))>=0&&(t?e.shiftKey?!0:!1:e.shiftKey?!1:!0);return r&&(e.preventDefault(),spa.console.info("Key ["+n+(t?"+Shift":"")+"] has been disabled in this element.")),r},spa._trackAndControlKey=function(e){var a=e.currentTarget,t=$(a),n=(""+t.data("disableKeys")).toLowerCase();spa.checkAndPreventKey(e,n);var r=!spa.isBlank((""+t.data("focusNext")).replace(/undefined/,"").toLowerCase()),s=!spa.isBlank((""+t.data("focusBack")).replace(/undefined/,"").toLowerCase());r&&spa.checkAndPreventKey(e,"9")&&$(t.data("focusNext")).get(0).focus(),s&&spa.checkAndPreventKey(e,"9,+shift")&&$(t.data("focusBack")).get(0).focus()},spa.initKeyTracking=function(){var e=arguments.length?arguments[0]:"[data-disable-keys],[data-focus-next],[data-focus-back]";spa.console.info("Finding Key-Tracking for element(s): "+e),$(e).each(function(e,a){$(a).keydown(spa._trackAndControlKey),spa.console.info("SPA is tracking keys on element:"),spa.console.info(a)})};var keyPauseTimer;spa.getDocObj=function(e){var a="object"==typeof e?e:(e.beginsWithStr("#")?"":"#")+e;return $(a).get(0)},spa.getDocObjs=function(e){var a=(e.beginsWithStr("#")?"":"#")+e;return $(a).get()},spa.setFocus=function(e,a){var t=spa.getDocObj(e);t&&(t.focus(),a&&t.select())},spa.isElementExist=function(e){return!$.isEmptyObject($(e).get())},spa.swapClass=spa.swapObjClass=function(e,a,t){$(e).removeClass(a),$(e).addClass(t)},spa.docObjValue=function(e,a){var t=spa.getDocObj(e),n="";return t&&(n=t.value,2===arguments.length&&(t.value=a)),n},spa.optionSelectedIndex=function(e,a){var t=-1,n=spa.getDocObj(e);return n&&(t=n.selectedIndex,2===arguments.length&&(n.selectedIndex=a)),t},spa.optionIndexOfValue=function(e,a){var t=-1,n=spa.getDocObj(e);if(n)for(var r=0;n.length>r;r++)if((""+a).equalsIgnoreCase(n.options[r].value)){t=r;break}return t},spa.optionIndexOfText=function(e,a){var t=-1,n=spa.getDocObj(e);if(n)for(var r=0;n.length>r;r++)if(a.equalsIgnoreCase(n.options[r].text)){t=r;break}return t},spa.optionIndexOfValueBeginsWith=function(e,a){var t=-1,n=spa.getDocObj(e);if(n)for(var r=0;n.length>r;r++)if(n.options[r].value.beginsWithStrIgnoreCase(a)){t=r;break}return t},spa.optionsSelectedValues=function(e,a){return e=(e.beginsWithStr("#")?"":"#")+e,a=a||",",$.map($(e+" option:selected"),function(e){return e.value}).join(a)},spa.optionsSelectedTexts=function(e,a){return e=(e.beginsWithStr("#")?"":"#")+e,a=a||",",$.map($(e+" option:selected"),function(e){return e.text}).join(a)},spa.optionValueOfIndex=function(e,a){var t="",n=spa.getDocObj(e);return n&&a>=0&&n.length>a&&(t=n.options[a].value),t},spa.optionTextOfIndex=function(e,a){var t="",n=spa.getDocObj(e);return n&&a>=0&&n.length>a&&(t=n.options[a].text),t},spa.selectOptionForValue=function(e,a){var t=-1,n=spa.getDocObj(e);return n&&(t=spa.optionIndexOfValue(e,a),n.selectedIndex=t),t},spa.selectOptionForValueBeginsWith=function(e,a){var t=-1,n=spa.getDocObj(e);return n&&(t=spa.optionIndexOfValueBeginsWith(e,a),n.selectedIndex=t),t},spa.selectOptionsForValues=function(e,a,t){t=t||",",a=(t+a+t).toLowerCase();var n,r=spa.getDocObj(e);if(r)for(var s=0;r.length>s;s++)n=(t+r.options[s].value+t).toLowerCase(),r.options[s].selected=a.indexOf(n)>=0},spa.selectOptionForText=function(e,a){var t=-1,n=spa.getDocObj(e);return n&&(t=spa.optionIndexOfText(e,a),n.selectedIndex=t),t},spa.selectOptionsAll=function(e){var a=spa.getDocObj(e);if(a)for(var t=0;a.length>t;t++)a.options[t].selected=!0},spa.selectOptionsNone=function(e){var a=spa.getDocObj(e);if(a)for(var t=0;a.length>t;t++)a.options[t].selected=!1},spa.optionsReduceToLength=function(e,a){a=a||0;var t=spa.getDocObj(e);t&&(spa.selectOptionsNone(e),t.length=a)},spa.optionsRemoveAll=function(e){spa.optionsReduceToLength(e,0)},spa.optionRemoveForIndex=function(e,a){e=(e.beginsWithStr("#")?"":"#")+e;var t=spa.getDocObj(e);t&&((""+a).equalsIgnoreCase("first")&&(a=0),(""+a).equalsIgnoreCase("last")&&(a=t.length-1),t.remove(a))},spa.optionRemoveForValue=function(e,a){spa.optionRemoveForIndex(e,spa.optionIndexOfValue(e,a))},spa.optionRemoveForText=function(e,a){spa.optionRemoveForIndex(e,spa.optionIndexOfText(e,a))},spa.optionRemoveForValueBeginsWith=function(e,a){spa.optionRemoveForIndex(e,spa.optionIndexOfValueBeginsWith(e,a))},spa.optionAppend=function(e,a,t,n){var r=-1,s=spa.getDocObj(e);if(s)if(n===void 0){var o=s.length;s.length=o+1,s.options[o].value=a,s.options[o].text=t,r=o}else $(s).find("option").eq(n).before('<option value="'+a+'">'+t+"</option>"),r=n;return r},spa.optionsLoad=function(e,a,t,n){var r=["","key","value"];if(t=t||0,n=n||0,_.isString(a)&&a.indexOf("..")>0&&(a=spa.range(a)),t>=0&&spa.optionsReduceToLength(e,t),_.isArray(a))_.each(a,function(a){spa.optionAppend(e,a,a)});else if(n>0){var s=[];for(var o in a)s.push({key:o,value:a[o]});var i=_.sortBy(s,r[n]);_.each(i,function(a){spa.optionAppend(e,a.key,a.value)})}else _.each(a,function(a,t){spa.optionAppend(e,t,a)})},spa.checkedState=function(e,a){var t=!1,n=spa.getDocObj(e);return n&&(t=n.checked,2===arguments.length&&(n.checked=a)),t},spa.isChecked=function(e,a){return $(e).find("input[name="+a+"]:checked").length>0},spa.radioSelectedValue=function(e,a){var t=$(e).find("input[name="+a+"]:checked").val();return t?t:""},spa.radioClearSelection=function(e,a){$(e).find("input[name="+a+"]:checked").attr("checked",!1)},spa.radioSelectForValue=function(e,a,t){$(e).find("input[name="+a+"]:radio").each(function(e){e.checked=e.value.equalsIgnoreCase(t)})},spa.checkboxCheckedValues=function(e,a,t){return t=t||",",$(e).find("input[name="+a+"]:checked").map(function(){return this.value}).get().join(t)},spa.sleep=function(e){var a=new Date;for(a.setTime(a.getTime()+1e3*e);a.getTime()>(new Date).getTime(););},spa.filterJSON=function(e,a){return $(e).filter(function(e,t){for(var n in a)if(!(""+t[n]).match(a[n]))return null;return t})},spa.randomPassword=function(e,a){for(var t=a||"9a8b77C8D9E8dkfhseidF7G6H5QJ3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",n="",r=0;(e||8)>r;r++){var s=Math.floor(Math.random()*t.length);n+=t.charAt(s)}return n},spa.rand=function(e,a){return Math.floor(Math.random()*(a-e+1))+e},spa.htmlEncode=function(e){return $("<div/>").text(e).html()},spa.htmlDecode=function(e){return $("<div/>").html(e).text()},spa.appendToObj=function(e,a,t){_.has(e,a)?(_.isArray(e[a])||(e[a]=[e[a]]),e[a].push(t)):e[a]=t},spa.parseKeyStr=function(e,a){return(a?e.toLowerCase():e).replace(/[^_0-9A-Za-z\[\]\?\*-]/g,"")};var arrayIndexPointsToMap={};spa.setObjProperty=function(e,a,t,n){a=""+a,n=n||!1;var r,s,o,i,p=e,l=a.indexOf(".")>=0||a==a.toUpperCase()?a.split("."):a.split(/(?=[A-Z])/),c=$.trim(a.replace(/[0-9A-Za-z\[\]\?\*\_]/g,""));c&&""!=c&&(l=a.split(c[0]));for(var u="";l.length>1;)r=spa.parseKeyStr(l.shift(),n),""!=$.trim(r)&&(u+=r.replace(/[\?\[\]\*\_]/g,""),r.indexOf("[")>0&&r.indexOf("]")==r.length-1?(s=r.substring(0,r.length-1).replace(/\[/g,".").split("."),o=s[0],i=s[1],p[o]===void 0&&(p[o]=[]),i.replace(/[0-9]/g,"")&&(i=i.replace(/[^0-9]/g,""),arrayIndexPointsToMap.hasOwnProperty(u)?i=arrayIndexPointsToMap[u]:p[o][i]===void 0&&(arrayIndexPointsToMap[u]=p[o].length,i=p[o].length)),p[o][i]===void 0&&(p[o][i]={}),p=p[o][i]):(p[r]===void 0&&(p[r]={}),p=p[r]));return r=spa.parseKeyStr(l.shift(),n),spa.appendToObj(p,r,t),e},spa.setSimpleObjProperty=function(e,a,t){a=""+a;for(var n,r=e,s=a.split(".");s.length>1;)n=spa.parseKeyStr(s.shift(),!1),""!=$.trim(n)&&(r[n]===void 0&&(r[n]={}),r=r[n]);return n=spa.parseKeyStr(s.shift(),!1),r[n]=t,e},spa.objProp=spa.objProperty=spa.objectProp=spa.objectProperty=function(){var e=arguments[0],a=arguments[1],t=arguments[2];return 3==arguments.length?spa.setSimpleObjProperty(e,a,t):2==arguments.length?spa.findSafe(e,a):e},spa.getElValue=function(e,a){if(e=$(e).get(0)){var t,n;switch(e.tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"checkbox":n=$(e).data("unchecked"),t=e.checked?e.value:n===void 0?"":n;break;case"radio":t=e.checked?e.value:"";break;default:t=$(e).val()}break;case"SELECT":t=$.map($(e).find("option:selected"),function(e){return e.value}).join(",");break;case"TEXTAREA":t=$(e).val();break;default:t=a?$(e).text():$(e).html()}return t}},spa.serialize=function(e,a,t){_.isBoolean(e)&&(t=e,e=""),_.isBoolean(a)&&(t=a,a=""),e=e||"body";var n,r,s,o,i={},p=a?'[data-serialize-context*="'+a+'"]':"";return $(e).find("[data-serialize]"+p+",input[name]"+p+",select[name]"+p+",textarea[name]"+p+"").each(function(e,a){s=$(a).data(),n=a.name||s.serialize,o=s.serializeType?s.serializeType.equalsIgnoreCase("text"):t,r=spa.getElValue(a,o),i.hasOwnProperty(n)?spa.isBlank(r)||(spa.isBlank(i[n])?i[n]=r:_.isArray(i[n])?i[n].push(r):i[n]=[i[n],r]):i[n]=r}),i},spa.serializeToQueryString=function(e,a){return spa.toQueryString(spa.serialize(e,a))},spa.serializeDisabled=function(e){var a="";return $(e).find("[disabled][name]").each(function(){a+=(a?"&":"")+$(this).attr("name")+"="+spa.getElValue(this)}),a},spa.serializeForms=function(e,a){var t,n,r=$(e).serialize();return $(e).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){n=$(this).data("unchecked"),r+=(r?"&":"")+$(this).attr("name")+"="+(n===void 0?"":n)}),a&&(t=spa.serializeDisabled(e),r+=(r&&t?"&":"")+t),r},spa.queryStringToJson=spa.queryStringToObject=function(e){var a={},t=e||location.search,n=(""+t).indexOf("?"),r=(""+t).indexOf("&");return t&&t.length>0&&n>=0&&(0==n||r>n)&&(t=t.substring(n+1)),_.each(t.split("&"),function(e){e=e.split("="),e[0]&&spa.appendToObj(a,e[0],decodeURIComponent(e[1]||""))}),a},spa.toQueryString=spa.ObjectToQueryString=spa.objectToQueryString=spa.JsonToQueryString=spa.jsonToQueryString=function(e){return _.isObject(e)?Object.keys(e).reduce(function(a,t,n){var r,s;return r=0===n?"":"&",t=encodeURIComponent(t),s=_.isArray(e[t])?e[t].map(function(e){return encodeURIComponent(e)}).join(","):encodeURIComponent(e[t]),[a,r,t,"=",s].join("")},""):""},$.fn.serializeUncheckedCheckboxes=function(e){var a,t,n,r,s="object"==typeof e,o=s?e:{},i=s&&!e?"":e;return $(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(e,p){a=$(p),n=a.attr("name"),t=a.data("unchecked"),r=t===void 0?"":t,s?spa.appendToObj(o,n,r):i+=(i?"&":"")+n+"="+r}),s?o:i},spa.serializeUncheckedCheckboxes=function(e,a){return $(e).serializeUncheckedCheckboxes(a)},$.fn.serializeFormToJSON=$.fn.serializeFormToObject=function(e,a,t){var n,r,s=this.serializeArray(),o=$(this).data(),i="object"==typeof e?e:{},p="boolean"==typeof e?e:a||!1,l=o.serializeIgnorePrefix,c=o.hasOwnProperty("typeNative");return arrayIndexPointsToMap={},t&&(l=t),$.each(s,function(){n=l?this.name.replace(l,""):this.name,i=spa.setObjProperty(i,n,c?this.value.toNative():this.value,p)}),$(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){n=$(this).attr("name"),n&&(r=$(this).data("unchecked"),l&&(n=n.replace(l,"")),r=""+(r===void 0?"":r),i=spa.setObjProperty(i,n,c?r.toNative():r,p))}),i},spa.serializeFormToJSON=spa.serializeFormToObject=function(e,a,t,n){return $(e).serializeFormToJSON(a,t,n)},$.fn.serializeFormToSimpleJSON=$.fn.serializeFormToSimpleObject=function(e,a){var t,n,r,s,o=this.serializeArray(),i="object"==typeof e?e:{},p="boolean"==typeof e?e:a||!1;return $.each(o,function(){spa.appendToObj(i,this.name,this.value)}),p&&$(this).find("[disabled][name]").each(function(){spa.appendToObj(i,this.name,spa.getElValue(this))}),$(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){r=$(this).attr("name"),s=$(this).data("unchecked"),s=""+(s===void 0?"":s),spa.appendToObj(i,r,s)}),$(this).find("[data-to-json-group][name]").each(function(){t=this.name,n=$(this).data("toJsonGroup"),n&&(i[n]||(i[n]={}),spa.appendToObj(i[n],t,spa.getElValue(this)))}),i},spa.serializeFormToSimpleJSON=spa.serializeFormToSimpleObject=function(e,a,t){return $(e).serializeFormToSimpleJSON(a,t)},spa.find=spa.locate=function(obj,path){var tObj=obj,retValue;return eval("tObj."+path)!==void 0&&(retValue=eval("tObj."+path)),retValue},spa.findSafe=spa.findInObj=spa.findInObject=spa.locateSafe=spa.valueOfPath=function(e,a,t){for(var n=0,r=spa.toDottedPath(a).split("."),s=r.length;s>n;n++){if(!e||e===void 0)return t;e=e[r[n]]}return e===void 0?t:e},spa.has=spa.hasKey=function(obj,path){var tObj=obj,retValue=!1;try{retValue=eval("tObj."+path)!==void 0}catch(e){spa.console.error("Key["+path+"] error in object.\n"+e.stack)}return retValue},spa.of=of,spa.is=is,spa.hasPrimaryKeys=function _spa_hasPrimaryKeys(e,a){return _isObjHasKeys(e,a)},spa.hasKeys=function _spa_hasKeys(e,a){return _isObjHasKeys(e,a,!0)},spa.hasIgnoreCase=spa.hasKeyIgnoreCase=function(e,a){var t="",n=e||{},r=""+spa.toDottedPath(a),s=spa.keysDottedAll(n);return s&&!_.isEmpty(s)&&(spa.console.debug(s),_.some(s,function(e){var a=e.equalsIgnoreCase(r);return a||(a=e.beginsWithStrIgnoreCase(r+"."),a&&(e=e.slice(0,e.lastIndexOf(".")))),a&&(t=e),a})),t},spa.findIgnoreCase=function(e,a,t){var n=t,r=spa.hasIgnoreCase(e,a);return r&&(n=spa.findSafe(e,r,t)),n},spa.keysDottedAll=function(e){var a=spa.keysDotted(e);return a&&!_.isEmpty(a)&&(a=spa.toDottedPath(a.join(",")).split(",")),a},spa.keysDotted=function(e){e=e||{};var a,t,n,r=[];return function(e,s){if(s=s||"","object"!=typeof e)return!0;for(var o in e)n=s.substring(1),a=spa.isNumber(o)?"[":".",t=n&&"["==a?"]":"",arguments.callee(e[o],s+a+o+t)&&r.push(n+(n?a:"")+o+t);return!1}(e),r},spa.keysCamelCase=function(e){return _.map(spa.keysDotted(e),function(e){var a=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return a[0].toLowerCase()+a.substring(1)})},spa.keysTitleCase=function(e){return _.map(spa.keysDotted(e),function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")})},spa.keys_=function(e){return _.map(spa.keysDotted(e),function(e){return e.replace(/\./g,"_")})},Object.defineProperties(Array.prototype,{__toObject:{value:function(e){var a,t={};return this.forEach(function(n,r){is(n,"object")&&(a=e?is(n,"object")?spa.findSafe(n,e):r:r,t[a]=n)}),t},enumerable:!1,configurable:!1}}),Object.defineProperties(Object.prototype,{__keys:{value:function _obj_keys(e){return e?spa.keysDotted(this):Object.keys(this)},enumerable:!1,configurable:!1},__keysAll:{value:function _obj_keysAll(){return spa.keysDotted(this)},enumerable:!1,configurable:!1},__hasKey:{value:function _obj_hasKey(e){return spa.hasKey(this,e)},enumerable:!1,configurable:!1},__hasKeys:{value:function _obj_hasKeys(e){return _isObjHasKeys(this,e,!0)},enumerable:!1,configurable:!1},__hasPrimaryKeys:{value:function _obj_hasPrimaryKeys(e){return _isObjHasKeys(this,e)},enumerable:!1,configurable:!1},__valueOf:{value:function _obj_getValueOf(e,a){return spa.findSafe(this,e,a)},enumerable:!1,configurable:!1},__clone:{value:function _obj_clone(){return Array.prototype.unshift.call(arguments,{},this),_.merge.apply(void 0,arguments)},enumerable:!1,configurable:!1},__merge:{value:function _obj_merge(){return Array.prototype.unshift.call(arguments,this),_.merge.apply(void 0,arguments)},enumerable:!1,configurable:!1},__stringify:{value:function(){return JSON.stringify(this)},enumerable:!1,configurable:!1},__toQueryString:{value:function(){return spa.toQueryString(this)},enumerable:!1,configurable:!1}}),$.cachedScript=function(e,a){return a=$.extend(a||{},{dataType:"script",cache:!0,url:e}),spa.console.info("$.cachedScript('"+e+"')"),$.ajax(a)},$.cachedStyle=function(e,a,t){return t=$.extend(t||{},{dataType:"text",cache:!0,url:a,success:function(a){$("head").append("<style id='"+e+"' type='text/css'>"+a+"</style>")}}),spa.console.info("$.cachedScript('"+a+"')"),$.ajax(t)},spa.addScriptTag=function(e,a){if(e=e.replace(/#/,""),spa.console.group("spaAddScriptTag"),spa.isElementExist("#spaScriptsContainer")||(spa.console.info("#spaScriptsContainer NOT Found! Creating one..."),$("body").append("<div id='spaScriptsContainer' style='display:none' rel='Dynamic Scripts Container'></div>")),spa.isElementExist("#"+e))spa.console.info("script ["+e+"] already found in local.");else{spa.console.info("script ["+e+"] NOT found. Added script tag with src ["+a+"]");var t=a?"src='"+a+"'":"";$("#spaScriptsContainer").append("<script id='"+e+"' type='text/javascript' "+t+"></script>")}spa.console.groupEnd("spaAddScriptTag")},spa.addStyle=function(e,a){e=e.replace(/#/,""),spa.console.group("spaAddStyle"),spa.isElementExist("#spaStylesContainer")||(spa.console.info("#spaStylesContainer NOT Found! Creating one..."),$("body").append("<div id='spaStylesContainer' style='display:none' rel='Dynamic Styles Container'></div>")),spa.isElementExist("#"+e)?spa.console.info("style ["+e+"] already found in local."):(spa.console.info("style ["+e+"] NOT found. Added link tag with href ["+a+"]"),$("#spaStylesContainer").append("<link id='"+e+"' rel='stylesheet' type='text/css' href='"+a+"'/>")),spa.console.groupEnd("spaAddStyle")
},spa.loadScript=function(e,a,t,n){return e=e.replace(/#/,""),t=t||!1,n=n||[],spa.console.group("spaScriptsLoad"),spa.isBlank(a)?spa.console.error("script path ["+a+"] for ["+e+"] NOT defined."):t?spa.addScriptTag(e,a):n.push($.cachedScript(a).done(function(t,n){spa.console.info("Loaded script ["+e+"] from ["+a+"]. STATUS: "+n)})),spa.console.groupEnd("spaScriptsLoad"),n},spa.getComponentsFullPath=function(e){return e=spa.strToArray(spa.toJSON(e)),_.map(e,function(e){return spa.defaults.components.rootPath+(spa.defaults.components.inFolder?e:"")+"/"+e+".js"})},spa.loadComponents=function(e,a,t){var n=_.filter(spa.strToArray(spa.toJSON(e)),function(e){return!spa.components.hasOwnProperty(e)});spa.loadScripts(spa.getComponentsFullPath(n),a,t)},spa.loadScripts=function(e,a,t){if(e=spa.strToArray(spa.toJSON(e)),!spa.isBlank(e)){var n=[];_.each(e,function(e){n.push($.cachedScript(e).done(function(a,t){spa.console.info("Loaded script from ["+e+"]. STATUS: "+t)}).fail(function(){spa.console.info("Failed Loading script from ["+e+"].")}))}),$.when.apply($,n).then(function(){spa.renderUtils.runCallbackFn(a)}).fail(function(){spa.renderUtils.runCallbackFn(t)})}},spa.loadScriptsSync=function(e,a,t){if(e=spa.strToArray(spa.toJSON(e)),spa.isBlank(e))spa.renderUtils.runCallbackFn(a);else{var n=e.shift();$.cachedScript(n).done(function(t,r){spa.console.info("Loaded script from ["+n+"]. STATUS: "+r),spa.loadScriptsSync(e,a)}).fail(function(){spa.console.info("Failed Loading script from ["+n+"]."),spa.renderUtils.runCallbackFn(t)})}},spa.loadStyle=function(e,a,t,n){return e=e.replace(/#/,""),t=t||!1,n=n||[],spa.console.group("spaStylesLoad"),spa.isBlank(a)?spa.console.error("style path ["+a+"] for ["+e+"] NOT defined."):t?spa.addStyle(e,a):n.push($.cachedStyle(e,a).done(function(t,n){spa.console.info("Loaded style ["+e+"] from ["+a+"]. STATUS: "+n)})),spa.console.groupEnd("spaStylesLoad"),n},spa.addTemplateScript=function(e,a,t){e=e.replace(/#/,""),t=t||"x-template",spa.isElementExist("#spaViewTemplateContainer")||(spa.console.info("#spaViewTemplateContainer NOT Found! Creating one..."),$("body").append("<div id='spaViewTemplateContainer' style='display:none' rel='Template Container'></div>")),spa.console.info("Adding <script id='"+e+"' type='text/"+t+"'>"),a=a.replace(/<( )*script/gi,"<_SCRIPTTAGINTEMPLATE_").replace(/<( )*(\/)( )*script/gi,"</_SCRIPTTAGINTEMPLATE_").replace(/<( )*link/gi,"<_LINKTAGINTEMPLATE_").replace(/<( )*(\/)( )*link/gi,"</_LINKTAGINTEMPLATE_"),$("#spaViewTemplateContainer").append("<script id='"+e+"' type='text/"+t+"'>"+a+"</script>")},spa.updateTemplateScript=function(e,a,t){e=e.replace(/#/,"");var n=$("#spaViewTemplateContainer").find("#"+e);n.length&&n.remove(),spa.addTemplateScript(e,a,t)},spa.loadTemplate=function(e,a,t,n,r,s){if(e=e.replace(/#/g,""),a=a.ifBlankStr("inline").trimStr(),t=t||"x-template",n=n||"#DummyInlineTemplateContainer",r=r||[],spa.console.group("spaTemplateAjaxQue"),spa.isElementExist("#"+e)){var o=$("#"+e);if(s)spa.console.warn("Reload Template["+e+"] of ["+t+"]"),o.remove(),r=spa.loadTemplate(e,a,t,n,r,s);else if(spa.isBlank(o.html())){spa.console.warn("Template["+e+"] of ["+t+"] script found EMPTY!");var i=""+o.attr("path");spa.isBlank(i)||(t=(o.attr("type")||"").ifBlankStr(t).toLowerCase().replace(/text\//gi,""),spa.console.info("prepare/remove to re-load Template["+e+"]  of ["+t+"] from external path: ["+i+"]"),o.remove(),r=spa.loadTemplate(e,i,t,n,r,s))}else spa.console.info("Template["+e+"]  of ["+t+"] already found in local.")}else if(spa.console.info("Template["+e+"] of ["+t+"] NOT found. Source ["+a+"]"),a&&"undefined"==a)spa.addTemplateScript(e,"",t),spa.console.info("Loaded Empty Template["+e+"] of ["+t+"]");else if(a.equalsIgnoreCase("inline")||a.beginsWithStr("#")){var p=a.equalsIgnoreCase("inline")?n:a,l=$(p),c=l.html();spa.isBlank(c)?spa.console.error("Template["+e+"] of ["+t+"] NOT defined inline in ["+p+"]."):(spa.addTemplateScript(e,c,t),a.equalsIgnoreCase("inline")&&l.html(""))}else if(a.equalsIgnoreCase("none"))spa.console.warn("Template["+e+"] of ["+t+"] defined as NONE. Ignoring template.");else if(a.equalsIgnoreCase("script"))spa.console.error("Template["+e+"] of ["+t+"] NOT defined in <script>.");else{var u;s?(spa.console.warn(">>>>>>>>>> Making New Template Request"),u=$.ajax({url:a,cache:!1,dataType:"html",success:function(n){spa.addTemplateScript(e,n,t),spa.console.info("Loaded Template["+e+"] of ["+t+"] from ["+a+"]")},error:function(n,r,s){spa.console.error("Failed Loading Template["+e+"] of ["+t+"] from ["+a+"]. ["+r+":"+s+"]")}})):u=$.get(a,function(n){spa.addTemplateScript(e,n,t),spa.console.info("Loaded Template["+e+"] of ["+t+"] from ["+a+"]")},"html"),r.push(u)}return spa.console.groupEnd("spaTemplateAjaxQue"),r},spa.urlParams=function(e){e=e||window.location.search||"",e=e.beginsWithStr("\\?")||7>e.indexOf("//")?e.substr(e.indexOf("?")+1):e;var a={};return e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,t,n){(a[t]=a[t]||[]).push(decodeURIComponent(n))}),_.each(a,function(e,t){a[t]=_.isArray(e)&&1==e.length?e[0]:e}),a},spa.urlParam=function(e,a){return spa.urlParams(a)[e]},spa.getLocHash=function(){return window.location.hash||""},spa.urlHash=function(e,a){var t=(spa.getLocHash()||"#").substring(1);if(e||_.isNumber(e)){a=a||"/",t=t.beginsWithStr(a)?t.substring(t.indexOf(a)+a.length):t;var n=t.length?t.split(a):[];_.isNumber(e)?t=n&&n.length>e?n[e]:"":_.isArray(e)?t=0===e.length?n:_.zipObject(e,n):_.isString(e)&&"?"==e&&(t=t.containsStr("\\?")?spa.getOnSplit(t,"?",1):"")}return t},spa.hashParam=function(e){var a=""+spa.urlHash("?");return void 0===e||spa.isBlank(a)||(a=spa.urlParam(""+e,a)),a},spa.routeMatch=function(e,a){var t=RegExp(":[a-zA-Z0-9\\_\\-]+","g"),n=RegExp(e.replace(t,"([\\w\\+\\-\\|\\.\\?]+)")),r=e.match(t),s=a.match(n),o=s&&!_.isEmpty(s)?s.shift():"",i=r&&!_.isEmpty(r)?r.join(",").replace(/:/g,"").split(","):[],s=s&&!_.isEmpty(s)?s.join(",").replace(/\?/g,"").split(","):[],p=void 0;return o&&(p={hkeys:r,params:_.zipObject(i,s)}),p},spa.i18n={},spa.i18n.loaded=!1,spa.i18n.settings={name:"Language",path:"language/",ext:".txt",encoding:"UTF-8",cache:!0,async:!0,mode:"map",callback:null},spa.i18n.browserLang=function(){return navigator?navigator.language||navigator.userLanguage||"en_US":"en_US"},spa.i18n.setLanguage=function(e,a){$.i18n&&($.i18n.map={},e=(e||spa.i18n.browserLang()).replace(/-/g,"_"),a=$.extend(spa.i18n.settings,a),$.i18n.properties({name:a.name,language:e,path:a.path,ext:a.ext,encoding:a.encoding,cache:a.cache,async:a.async,mode:a.mode,callback:function(){spa.isElementExist("#i18nSpaRunTime")||$("body").append('<div id="i18nSpaRunTime" style="display:none"></div>'),$.i18n.loaded=$.i18n.loaded===void 0?!$.isEmptyObject($.i18n.map):$.i18n.loaded,spa.i18n.loaded=spa.i18n.loaded||$.i18n.loaded,e.length>1&&!$.i18n.loaded&&(spa.console.warn("Error Loading Language File ["+e+"]. Loading default."),spa.i18n.setLanguage("_",a)),spa.i18n.apply(),a.callback&&a.callback($.i18n.loaded)}}))},spa.i18n.setLang=function(e,a){spa.i18n.setLanguage(e,_.merge({path:"app/language/"},spa.findSafe(window,"app.conf.lang",{}),spa.findSafe(window,"app.lang",{}),a||{}))},spa.i18n.value=function(i18nKey){if(i18nKey=(""+i18nKey).replace(/i18n:/i,"").trim(),i18nKey.beginsWithStrIgnoreCase("@")){i18nKey=i18nKey.substr(1).trim();try{i18nKey=eval("("+i18nKey+")")}catch(e){spa.console.error(e)}}var retValue=i18nKey;try{retValue=!spa.i18n.loaded&&window.Liferay?Liferay.Language.get(i18nKey):$.i18n.prop(i18nKey)}catch(e){spa.console.error(e)}return retValue},spa.i18n.text=function(e,a){var t=spa.i18n.value(e);if(a&&spa.is(a,"object")){var n="";_.each(_.keys(a),function(e){n=""+a[e],n&&n.beginsWithStrIgnoreCase("i18n:")&&(n=spa.i18n.value(n.replace(/i18n:/gi,""))),t=t.replace(RegExp("{"+e+"}","gi"),n)})}return(""+t).trimLeftStr("[").trimRightStr("\\]")},spa.i18n.update=function(e,a,t){a=a||"";var n,r,s=$(e),o=s.attr("data-i18n")||"",i="";if(spa.isBlank(o)||0==a.indexOf(":")||0==a.indexOf("=")||0>=o.indexOf(":")&&0>=a.indexOf(":"))i=a.trimLeftStr(":").trimLeftStr("=");else{n=o.indexOf(":")>0?spa.toJSON(o||{}):{html:o.trimLeftStr(":").replace(/'/g,"")},r=a.indexOf(":")>0?spa.toJSON(a||{}):{html:a.trimLeftStr(":").replace(/'/g,"")},_.each(Object.keys(n),function(e){_.each(e.split("_"),function(a){a&&(n[a]=n[e])})}),_.each(Object.keys(r),function(e){_.each(e.split("_"),function(a){a&&(r[a]=r[e])})});var p=_.merge({},n,r);_.each(Object.keys(p),function(e){0>=e.indexOf("_")&&(i+=e+":'"+p[e]+"',")}),i=i.trimRightStr(",")}return s.attr("data-i18n",i).data("i18n",i),(t||spa.is(t,"undefined"))&&spa.i18n.apply(e),s},spa.i18n.apply=spa.i18n.render=function(e,a){if(spa.i18n.loaded||window.Liferay){e=e||"html",a=a||"";var t=e.beginsWithStr("<");t&&($("#i18nSpaRunTime").html(e),e="#i18nSpaRunTime");var n=$(e).find(a+"[data-i18n]");n.length||(n=$(e).filter(a+"[data-i18n]")),n.each(function(e,a){var t=$(a),n=t.data("i18n")||"";n&&!n.containsStr(":")&&(n="html:'"+n+"'");var r=spa.toJSON(n||"{}"),s=r.data||r.i18ndata;s?(delete r.data,delete r.i18ndata):s=spa.toJSON(t.data("i18nData")||"{}"),r&&!$.isEmptyObject(r)&&_.each(_.keys(r),function(e){var a=r[e],n=spa.i18n.text(a,s);_.each(e.split("_"),function(e){switch(e.toLowerCase()){case"html":t.html(n);break;case"text":t.text(n);break;default:t.attr(e,n)}})})})}return t?$("#i18nSpaRunTime").html():void 0},$.fn.extend({i18n:function(e){return this.each(function(){e&&$(this).attr("data-i18n",e).data("i18n",e),spa.i18n.apply(this)}),this}}),spa.dataBind=spa.bindData=function(e,a,t){e=e||"body",t=t||"";var n=$(e).find(t+"[data-bind]");n.length||(n=$(e).filter(t+"[data-bind]"));var r,s,o,i,p,l,c,u,d;_.each(n,function(e){r=$(e),s=r.data("bind")||"",s&&!s.containsStr(":")&&(s="html:'"+s+"'"),o=spa.toJSON(s||"{}"),d=spa.renderUtils.getFn(r.data("bindCallback")||""),o&&!$.isEmptyObject(o)&&_.each(_.keys(o),function(t){i=(o[t]+"|").split("|"),p=i[0].trimStr(),l=spa.renderUtils.getFn(i[1].trimStr()),c=spa.findSafe(a,p),l&&(c=l(c,e)),_.each(t.split("_"),function(e){switch(e.toLowerCase()){case"html":r.html(c);break;case"text":r.text(c);break;default:r.attr(e,c),e.beginsWithStr("data-")&&(u=spa.dotToCamelCase(e.getRightStr("-").replace(/-/g,".")),u&&r.data(u,c))}}),d&&d(e)})})},spa.togglePassword=function(e){if(!$(e).next(".icon.eye").length){var a=$('<i class="icon eye"></i>');a.on("click",function(){var e=$(this),a=e.prevAll(".toggle-password"),t="text"==a.attr("type")?"password":"text";a.attr("type",t).toggleClass("text").focus()}),$(a).insertAfter(e)}},spa.initTogglePassword=function(e){$(e||"body").find(".toggle-password").each(function(e,a){spa.console.info("Initializing toggle password",a),spa.togglePassword(a)})},spa.isElValueChanged=function(a){var t,n,r=$(a);if(r.length)if(n=r[0],"checkbox"==n.type)t=n.checked!=n.defaultChecked;else if("radio"==n.type)$(n).closest("form").find(':radio[name="'+n.name+'"]').each(function(e,a){a.checked==a.defaultChecked&&$(a).removeClass("changed"),t=t||a.checked!=a.defaultChecked});else if("INPUT,TEXTAREA".indexOf(n.tagName)>=0)t=n.value!=n.defaultValue,triggerFormChange="change"!=e.type;else if("SELECT"==n.tagName){var s,o,i,p=0;for(s=0,o=n.options.length;o>s;s++)i=n.options[s],t=t||i.selected!=i.defaultSelected,i.defaultSelected&&(p=s);t&&!n.multiple&&(t=p!=n.selectedIndex)}return t},spa.resetElDefaultValue=function(e){var a,t=$(e);if(t.length)if(a=t[0],"~checkbox,radio".indexOf(a.type)>0)a.defaultChecked=a.checked;else if("~INPUT,TEXTAREA".indexOf(a.tagName)>0)a.defaultValue=a.value;else if("SELECT"==a.tagName){var n,r,s;for(n=0,r=a.options.length;r>n;n++)s=a.options[n],s.defaultSelected=s.selected}},spa.updateTrackFormCtrls=function(e){if(e){var a,t,n,r,s=$(e),o=s.find(".tracking-change.changed").length,i=!spa.isBlank(spa.validateForm("#"+s.attr("id")))||s.find(".validation-error,.validation-pending").length,p=o>0&&!i,l=!i,c=s.find(".ctrl-on-change,.ctrl-on-validate");s.attr("data-changed",o).data("changed",o),c.each(function(e,s){a=$(s),t=a.hasClass("ctrl-on-change")?p:l,n=a.attr("onBeforeChange"),spa.isBlank(n)||(n.indexOf("(")>0&&(n=n.getLeftStr("(")),r=spa.findSafe(window,n.trim(),void 0),t=spa.is(r,"function")?!!r.call(s,t):t),a.is(":disabled")==t&&(a.prop("disabled",!t).addClass(t?"":"disabled").removeClass(t?"disabled":""),a.trigger("change"))})}},spa.trackFormElChange=function _trackFormElChange(e,a){function t(e){if("change"==e.type||e.key&&(1==e.key.length||"~BackspaceDelete".indexOf(e.key)>0)){var a,t,n=!1,r=$(this).closest("form"),s=r.find(".tracking-change.changed").length;if("checkbox"==this.type)n=this.checked!=this.defaultChecked;else if("radio"==this.type)r.find(':radio[name="'+this.name+'"]').each(function(e,a){a.checked==a.defaultChecked&&$(a).removeClass("changed"),n=n||a.checked!=a.defaultChecked});else if("INPUT,TEXTAREA".indexOf(this.tagName)>=0)n=this.value!=this.defaultValue,t="change"!=e.type;else if("SELECT"==this.tagName){var o,i,p,l=0;for(o=0,i=this.options.length;i>o;o++)p=this.options[o],n=n||p.selected!=p.defaultSelected,p.defaultSelected&&(l=o);n&&!this.multiple&&(n=l!=this.selectedIndex)}$(this)[n?"addClass":"removeClass"]("changed"),spa.updateTrackFormCtrls(r),s!=a&&t&&r.trigger("change")}}function n(e){var a="change",n=$(e);if("~checkbox,radio".indexOf(e.type)>0)e.defaultChecked=e.checked;else if("~INPUT,TEXTAREA".indexOf(e.tagName)>0)e.defaultValue=e.value,a="keyup change";else{if("SELECT"!=e.tagName)return!1;var r,s,o;for(r=0,s=e.options.length;s>r;r++)o=e.options[r],o.defaultSelected=o.selected}return n.removeClass("track-change changed"),spa.updateTrackFormCtrls(n.closest("form")),0>e.className.indexOf("tracking-change")&&n.addClass("tracking-change").on(a,t),!0}var r=$(a||"body").find(e);r.each(function(e,a){"FORM"==a.tagName?spa.trackFormElChange($(a).find(".track-change").length?".track-change":"input,textarea,select",a):n(a)})},spa.initTrackFormElChanges=function(e){$(e||"body").find("form.track-changes").each(function(e,a){spa.console.info("Initializing Form Elements Track: Form ["+(a.id||a.name)+"]"),spa.trackFormElChange(a)})},spa.getModifiedElement=function(e){var a,t=void 0,n=$(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])");return _.every(n,function(e){return a||(e.tagName.match(/^(select|textarea)$/i)&&e.value!=e.defaultValue?a=!0:e.tagName.match(/^input$/i)&&(e.type.match(/^(checkbox|radio)$/i)&&e.checked!=e.defaultChecked?a=!0:e.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&e.value!=e.defaultValue&&(a=!0)),a&&(t=e)),!a}),t},spa.getModifiedElements=function(e){var a,t=[],n=$(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])");return n.each(function(e,n){a=!1,n.tagName.match(/^(select|textarea)$/i)&&n.value!=n.defaultValue?a=!0:n.tagName.match(/^input$/i)&&(n.type.match(/^(checkbox|radio)$/i)&&n.checked!=n.defaultChecked?a=!0:n.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&n.value!=n.defaultValue&&(a=!0)),a&&t.push(n)}),t},spa.initTrackElValueChanges=spa.resetElementsDefaultValue=function(e){$(e||"form :input:not(:disabled)").each(function(e,a){a.defaultValue=a.value,a.tagName.match(/^input$/i)&&a.type.match(/^(checkbox|radio)$/i)&&a.checked!=a.defaultChecked&&(a.defaultChecked=a.checked)})},spa.trash={container:[],push:function(e){this.container.push(e)},empty:function(){this.container=[]},pick:function(e){return e?this.container[e]:this.container}},spa.fillData=function(e,a,t){function n(){var t=s.keyFormat;t=null!=t.match(/^[a-z]/)?"aBc":t,t=null!=t.match(/^[A-Z]/)?"AbC":t;var n=spa.keysDotted(e);spa.console.group("fillData"),spa.console.info(n),_.each(n,function(n){spa.console.group(">>"+n);var r=""+(n.replace(/[\[\]]/g,"_")||""),o=n.replace(/\[[0-9]+\]/g,""),i=/\[[0-9]+\]/.test(n);switch(t){case"_":r=spa.dotToX(r,"_"),o=spa.dotToX(o,"_");break;case"AbC":r=spa.dotToTitleCase(r),o=spa.dotToTitleCase(o);break;default:r=spa.dotToCamelCase(r),o=spa.dotToCamelCase(o)}var p={patternKey:r+(i?" || "+o:""),formatterKey:o,isArrayChild:i};spa.trash.push(p),spa.console.info(p),spa.trash.empty();var l=s.selectPattern.replace(/\?/g,r);(s.keysMap[r]||s.keysMap[o])&&(s.keysMap[r]=s.keysMap[r]||{},s.keysMap[o]=s.keysMap[o]||{},s.keysMap[r].pattern=s.keysMap[r].pattern||s.keysMap[o].pattern,s.keysMap[r].pattern&&(l=s.keysMap[r].pattern.replace(/\?/g,r)),s.keysMap[o].formatter&&(s.formatterOnKeys=s.formatterOnKeys||{},s.formatterOnKeys[o]=s.keysMap[o].formatter));var c=$(a).find(l).length;spa.console.info(">> "+l+" found: "+c);var u=null;c>0&&(u=spa.find(e,n),!s.formatterOnKeys&&s.formatterCommon&&(u=s.formatterCommon(u,n,e)),s.formatterOnKeys&&(s.formatterOnKeys[o]?u=s.formatterOnKeys[o](u,n,e):s.formatterCommon&&(u=s.formatterCommon(u,n,e))),spa.console.info({value:u})),$(a).find(l).each(function(e,a){switch(spa.console.info(a),a.tagName.toUpperCase()){case"INPUT":switch(a.type.toLowerCase()){case"text":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"search":case"tel":case"time":case"url":case"range":case"button":case"submit":case"reset":$(a).val(u),!s.resetElDefaultInContext&&s.resetElDefault&&(a.defaultValue=a.value);break;case"checkbox":case"radio":a.checked=a.value.equalsIgnoreCase(u),!s.resetElDefaultInContext&&s.resetElDefault&&(a.defaultChecked=a.checked)}break;case"SELECT":spa.selectOptionForValue(a,u),!s.resetElDefaultInContext&&s.resetElDefault&&(a.defaultValue=a.value);break;case"TEXTAREA":$(a).val(u),!s.resetElDefaultInContext&&s.resetElDefault&&(a.defaultValue=a.value);break;default:$(a).html(u)}}),spa.console.groupEnd(">>"+n)}),spa.console.groupEnd("fillData"),s.resetElDefaultInContext&&spa.resetElementsDefaultValue(a+" :input")}var r="object"==typeof e;a&&"object"==typeof a&&(t=a,a=null),a=a||"body";var s={dataParams:{},method:"GET",async:!0,dataCache:!1,keyFormat:"aBc",selectPattern:"[name='?']",formatterCommon:null,formatterOnKeys:null,resetElDefault:!0,resetElDefaultInContext:!0,keysMap:{}};$.extend(s,t),r||$.ajax({url:e,method:(""+(s.method||"GET")).toUpperCase(),data:s.dataParams,cache:s.dataCache,async:s.async,dataType:"text",success:function(a){e=spa.toJSON(""+a),r="object"==typeof e,n()},error:function(a,t,n){spa.console.error("Failed loading data from ["+e+"]. ["+t+":"+n+"]"),spa.api.onReqError(a,t,n)}})},spa.toRenderDataStructure=function(e,a,t){var n={},r={},s={},o={},i=function(e,a){return a&&Object.keys(a).length&&_.each(Object.keys(a),function(t){e=e.replace(RegExp("{"+t+"}","gi"),a[t])}),e};switch(a&&(o=_.isString(a)?spa.queryStringToJson(a):_.isObject(a)?a:{}),!0){case _.isString(e):e.containsStr("\\|")&&(n.dataModel=spa.getOnSplit(e,"|",0),e=spa.getOnLastSplit(1)),n.dataUrl=i(e,t),_.isEmpty(o)||(n.dataParams=o);break;case _.isArray(e):r={urls:[]},s={},_.each(e,function(e){s={url:i(e,t),params:o},e.containsStr("\\|")&&(s.target=spa.getOnSplit(e,"|",0),s.url=i(spa.getOnLastSplit(1),t)),r.urls.push(s)});break;case _.isObject(e):r={urls:[]},s={},_.each(_.keys(e),function(a){s={name:a,url:i(e[a],t),params:o},e[a].containsStr("\\|")&&(s.target=spa.getOnSplit(e[a],"|",0),s.url=i(spa.getOnLastSplit(1),t)),r.urls.push(s)})}return _.isEmpty(r.urls)||(n.dataCollection=r),n},spa.compiledTemplates={},spa.viewModels={},spa.renderHistory={},spa.renderHistoryMax=0,spa.components={},spa.defaults={dataTemplateEngine:"handlebars",components:{rootPath:"app/components/",inFolder:!0,templateExt:".html",scriptExt:".js",callback:""},set:function(e,a){return"object"==typeof e?(e.hasOwnProperty("set")&&delete e.set,_.merge(this,e)):"string"==typeof e&&spa.setSimpleObjProperty(this,e,a),this}};var reservedCompNames="api,debug,lang";spa.component=spa.$=spa.registerComponent=function(e,a){return reservedCompNames.indexOf(e)>=0?(console.error("Invalid component name "+e+". Reserved component names: api,debug,lang"),void 0):e.replace(/[a-z0-9]/gi,"")?(console.error("Invalid component name "+e+". Component name has invalid character."),void 0):(a=a||{},is(e,"object")&&(a=_.merge({},e),e=a.name||a.componentName||""+spa.now()),is(e,"string")&&e&&(e=e.trim(),e&&(a.componentName=e,a.hasOwnProperty("beforeRender")||(a.beforeRender="app."+e+".beforeRender"),a.hasOwnProperty("renderCallback")||(a.renderCallback="app."+e+".renderCallback"),a.hasOwnProperty("require")&&spa.loadComponents(a.require,function(){spa.console.log("Required components successfully loaded.")},function(){spa.console.log("Failed to load required components.")}),a=adjustComponentOptions(e,a),spa.components[e]=a,spa.extendComponent(e))),void 0)},spa.$$=spa.registerComponents=function(){if(arguments.length){var e=arguments;1==arguments.length&&(e=_.isArray(arguments[0])?arguments[0]:_.isString(arguments[0])?arguments[0].split(","):arguments[0]),spa.is(e,"object")?_.each(Object.keys(e),function(a){spa.console.info("Registering spa-component:["+a+"]"),spa.registerComponent(a,e[a])}):e&&e.length&&_.each(e,function(e){spa.console.info("Registering spa-component:["+e+"]"),spa.registerComponent(e.trim())})}},spa.extendComponent=spa.$extend=spa.module=function(e,a){if(is(e,"object")&&(a=_.merge({},e),e=a.name||a.componentName||""+spa.now()),is(e,"string")&&e&&(e=e.trim())){if(reservedCompNames.indexOf(e)>=0)return console.error("Invalid component name "+e+". Reserved component names: "+reservedCompNames.join()),void 0;window.app=window.app||{},window.app[e]=window.app[e]||{},a&&_.isFunction(a)&&(a=a.call(spa.components[e]||{})),a=spa.is(a,"object")?a:{},spa.components[e]||(spa.components[e]={componentName:e,beforeRender:"app."+e+".beforeRender",renderCallback:"app."+e+".renderCallback"}),spa.components[e]&&(a.__prop__&&_.merge(spa.components[e],$.extend({},a.__prop__)),a.__prop__=spa.components[e]),$.extend(window.app[e],a),window["$$"+e]=window.app[e]}},spa.extendComponents=spa.$$extend=function(){if(arguments.length){var e=arguments;1==arguments.length&&(e=_.isArray(arguments[0])?arguments[0]:_.isString(arguments[0])?arguments[0].split(","):arguments[0]),spa.is(e,"object")?_.each(Object.keys(e),function(a){spa.console.info("Extend spa-component:["+a+"]"),spa.extendComponent(a,e[a])}):e&&e.length&&_.each(e,function(e){spa.console.info("Extend spa-component:["+e+"]"),spa.extendComponent(e.trim())})}},spa.$renderCount=function(e){return spa.findSafe(window,"app."+e+".__renderCount__",0)},spa.removeComponent=function(e){var a=$('[data-rendered-component="'+e.trim()+'"]');a.length&&a.html("").text("").val("").data("renderedComponent","").removeAttr("data-rendered-component")},spa.destroyComponent=function(e){spa.removeComponent(e),delete app[e.trim()]},spa.refreshComponent=spa.$refresh=function(e,a){e&&(a=a||{},spa.is(a,"object")&&(a.hasOwnProperty("beforeRender")||(a.beforeRender=a.beforeRefresh||"app."+e+".beforeRefresh"),a.hasOwnProperty("renderCallback")||(a.renderCallback=a.refreshCallback||"app."+e+".refreshCallback"),a.isRefreshCall=!0,spa.console.info("Calling refreshComponent: "+e+" with below options"),spa.console.info(a),spa.$render(e,a)))},spa.renderComponent=spa.$render=function(e,a){if(e){if(!(a&&is(a,"object")&&a.isRefreshCall)&&spa.$renderCount(e)&&spa.findSafe(window,"app."+e+".refreshCallback",""))return spa.console.info("Component ["+e+"] has been rendered already. Refreshing instead of re-render."),spa.refreshComponent(e,a),void 0;is(e,"object")&&(a=_.merge({},e),e=a.name||a.componentName||""+spa.now(),a.componentName=e),spa.console.info("Called renderComponent: "+e+" with below options"),spa.console.info(a);var t="_rtt_"+e,n="";a=adjustComponentOptions(e,a);var r=spa.defaults.components.rootPath+(spa.defaults.components.inFolder?e+"/":"")+e,s=r+spa.defaults.components.templateExt,o=spa.defaults.components.scriptExt,i=a&&_.isObject(a)&&a.hasOwnProperty("script")?a.script:o?r+o:"",p=function(){spa.console.info("_renderComp > "+e+" with below options"),spa.console.info(a),spa.components[e].hasOwnProperty("template")||(spa.components[e].hasOwnProperty("templateStr")||spa.components[e].hasOwnProperty("templateString")?(n=spa.components[e].templateStr||spa.components[e].templateString||"",spa.updateTemplateScript(t,n),spa.components[e].template="#"+t):spa.components[e].template=spa.hasPrimaryKeys(spa.components[e],"templateUrl")?spa.components[e].templateUrl:s),spa.console.info("render-options: spa.components["+e+"]"),spa.console.info(spa.components[e]);var o=a&&a.saveOptions?spa.components[e]:$.extend({},spa.components[e]);a&&(a.hasOwnProperty("mountComponent")||delete o.mountComponent,$.extend(o,a),spa.console.info("Extended> render-options: spa.components["+e+"]"),spa.console.info(o)),o.hasOwnProperty("style")&&spa.is(o.style,"string")&&(o.dataStyles={},o.dataStyles[e+"Style"]="."==o.style||"$"==o.style?r+".css":o.style,delete o.style,spa.console.info("Using component style for ["+e+"]"),spa.console.info(o)),spa.render(o)},l=function(){i?spa.console.info("Loaded component ["+e+"] source from ["+i+"]"):spa.console.info("Skipped Loading component ["+e+"] source from script file."),spa.console.info("In Source> spa.components["+e+"]"),spa.console.info(spa.components[e]),spa.components.hasOwnProperty(e)||(spa.console.warn("spa.components["+e+"] NOT DEFINED in ["+(i||"spa.components")+"]. Defining *NEW*"),a.hasOwnProperty("componentName")||(a.componentName=e),spa.components[e]=a,spa.console.info("NEW> spa.components["+e+"]"),spa.console.info(spa.components[e])),p()};spa.components.hasOwnProperty(e)?(spa.console.info("Re-rending spa.components["+e+"]"),spa.console.info(spa.components[e]),p()):i?(spa.console.info("Loading component ["+e+"] source from ["+i+"]"),$.cachedScript(i,{success:l}).done(spa.noop).fail(function(){spa.console.error("Failed Loading component ["+e+"] source from ["+i+"]"),spa.console.warn("Continue Loading component ["+e+"] without script source from ["+i+"]"),l()})):l()}},spa.renderComponents=spa.$$render=function(){if(arguments.length){var e=arguments;1==arguments.length&&(e=_.isArray(arguments[0])?arguments[0]:_.isString(arguments[0])?arguments[0].split(","):arguments[0]),spa.is(e,"object")?_.each(Object.keys(e),function(a){spa.console.info("Rendering spa-component:["+a+"]"),spa.renderComponent(a,e[a])}):e&&e.length&&_.each(e,function(e){spa.console.info("Rendering spa-component:["+e+"]"),spa.renderComponent(e.trim())})}},spa.refreshComponents=spa.$$refresh=function(){if(arguments.length){var e=arguments;1==arguments.length&&(e=_.isArray(arguments[0])?arguments[0]:_.isString(arguments[0])?arguments[0].split(","):arguments[0]),spa.is(e,"object")?_.each(Object.keys(e),function(a){spa.console.info("Rendering spa-component:["+a+"]"),spa.refreshComponent(a,e[a])}):e&&e.length&&_.each(e,function(e){spa.console.info("Rendering spa-component:["+e+"]"),spa.refreshComponent(e.trim())})}},spa.removeComponents=spa.$remove=spa.$$remove=function(){if(arguments.length){var e=arguments;1==arguments.length&&(_.isArray(arguments[0])?e=arguments[0]:_.isString(arguments[0])&&(e=arguments[0].split(","))),e&&e.length&&_.each(e,function(e){spa.console.info("Removing spa-component:["+e.trim()+"]"),spa.removeComponent(e.trim())})}},spa.destroyComponents=spa.$destroy=spa.$$destroy=function(){if(arguments.length){var e=arguments;1==arguments.length&&(_.isArray(arguments[0])?e=arguments[0]:_.isString(arguments[0])&&(e=arguments[0].split(","))),e&&e.length&&_.each(e,function(e){spa.console.info("Destroying spa-component:["+e.trim()+"]"),spa.destroyComponent(e.trim())})}},spa.renderComponentsInHtml=function(e,a,t){e=e||"body";var n=$(e).find("[data-spa-component"+(a?"="+a:"")+"]"),r={},s=!t;n.length&&n.each(function(a,t){var n,o,i,p=$(t),l=p.data();if(n=l.spaComponent,t.id||(i="spaCompContainer_"+n+"_"+($("body").find("[rel=spaComponentContainer_"+n+"]").length+1),t.id=i,t.setAttribute("rel","spaComponentContainer_"+n)),o=_.merge({target:"#"+t.id},l,spa.toJSON(l.spaComponentOptions||"{}")),s){if(!r.hasOwnProperty(n)){var c=$(e).find("[data-spa-component="+n+"]");spa.console.log("component: "+n+" to render : "+c.length),c.length>1&&(o.mountComponent={scope:e,name:n}),r[n]=spa.renderComponent(n,o)}}else spa.renderComponent(n,o)})},spa.renderUtils={array2ObjWithKeyPrefix:function(e,a,t){var n={};return _.each(e,function(e){e=(""+e).trimStr(),e&&(n[a+(e.equals(".")?t:e).replace(/[^a-z0-9]/gi,"_")]=""+e)}),spa.console.log([a,n]),n},getFn:function(e){var a,t=e;return e&&_.isString(e)&&(t=spa.findSafe(window,e)),t&&_.isFunction(t)?t:a},runCallbackFn:function(e,a,t){if(e){var n,r=e,s=t;_.isString(r)&&(s||(e.match("]$")?n=e.substring(0,e.lastIndexOf("[")):e.indexOf(".")>0&&(n=e.substring(0,e.lastIndexOf("."))),s=n?spa.findSafe(window,n):window),r=spa.findSafe(window,r)),r?_.isFunction(r)?(spa.console.info("calling callback: "+e),r.call(s,a)):spa.console.error("CallbackFunction <"+e+" = "+r+"> is NOT a valid FUNCTION."):(""+e).beginsWithStr("spa")&&(""+e).endsWithStr("_renderCallback")?spa.console.warn("Default Route renderCallback function <"+e+"> is NOT defined."):spa.console.error("CallbackFunction <"+e+"> is NOT defined.")}},registerComponentEvents:function(e){e&&app[e]&&app[e].hasOwnProperty("events")&&_.each(Object.keys(app[e].events),function(a){app[e].events[a].hasOwnProperty("target")&&!spa.isBlank(app[e].events[a].target)&&$("body").find(app[e].events[a].target).filter(":not([spa-events-"+a+'="'+e+'"])').attr("spa-events-"+a,e).each(function(t,n){_.each(Object.keys(app[e].events[a]),function(t){0==t.indexOf("on")&&_.each(t.split("_"),function(r){spa.console.log("registering component ["+e+"] event: "+a+"-"+r),$(n).on(r.trimLeftStr("on").toLowerCase(),app[e].events[a][t])})})})})}},spa.render=function(viewContainerId,uOptions){if(arguments.length){if(1===arguments.length&&"object"==typeof viewContainerId)return uOptions=_.merge({},viewContainerId),uOptions.hasOwnProperty("target")?(viewContainerId=uOptions.target,delete uOptions.target):viewContainerId="dynRender_"+spa.now()+"_"+spa.rand(1e3,9999),spa.render(viewContainerId,uOptions),void 0;uOptions&&function transOptions(e){var a={template:"dataTemplate",templates:"dataTemplates",templateCache:"dataTemplatesCache",templatesCache:"dataTemplatesCache",html:"dataTemplate",htmls:"dataTemplates",htmlCache:"dataTemplatesCache",htmlsCache:"dataTemplatesCache",script:"dataScripts",scripts:"dataScripts",scriptCache:"dataScriptsCache",scriptsCache:"dataScriptsCache",style:"dataStyles",styles:"dataStyles",styleCache:"dataStylesCache",stylesCache:"dataStylesCache",renderType:"dataRenderType",beforeRender:"dataBeforeRender",dataRenderCallBack:"dataRenderCallback",renderCallback:"dataRenderCallback",renderCallBack:"dataRenderCallback",callback:"dataRenderCallback",callBack:"dataRenderCallback",dataRenderMode:"dataRenderMode",renderMode:"dataRenderMode",renderId:"dataRenderId"};_.each(a,function(a,t){e.hasOwnProperty(t)&&(e[a]=uOptions[t],delete e[t])})}(uOptions);var retValue={id:"",view:{},model:{},cron:"",elDataAttr:{},target:viewContainerId,iOptions:uOptions},spaAjaxRequestsQue=[],doDeepRender=!1,foundViewContainer=spa.isElementExist(viewContainerId);foundViewContainer&&(retValue.elDataAttr=$(viewContainerId).data());var noOfArgs=arguments.length,useOptions=noOfArgs>1,useParamData=useOptions&&uOptions.hasOwnProperty("data"),dataFound=!0,rCompName=uOptions&&uOptions.componentName?uOptions.componentName:"",spaRVOptions={data:{},dataUrl:"",dataUrlParams:{},dataUrlMethod:"GET",dataUrlErrorHandle:"",dataUrlHeaders:{},dataParams:{},dataType:"",dataExtra:{},data_:{},dataDefaults:{},dataModel:"",dataValidate:!1,dataProcess:"",dataCache:!1,dataCollection:{},dataTemplates:{},dataTemplate:"",dataTemplatesCache:!0,dataScripts:{},dataScriptsCache:!0,dataStyles:{},dataStylesCache:!0,dataBeforeRender:"",dataRenderCallback:"",dataRenderMode:"",skipDataBind:!1,dataRenderId:""};if(foundViewContainer||(spa.isElementExist("#spaRunTimeHtmlContainer")||$("body").append("<div id='spaRunTimeHtmlContainer' style='display:none;'></div>"),$("#spaRunTimeHtmlContainer").append("<div id='"+viewContainerId.replace(/\#/gi,"")+"'></div>")),useOptions){var saveOptions=uOptions.hasOwnProperty("saveOptions")&&uOptions.saveOptions;
for(var key in uOptions)spaRVOptions[key]=uOptions[key],saveOptions&&"data"!==key&&"saveOptions"!==key&&$(viewContainerId).data(""+(""+(_.at(""+key,4)||"")).toLowerCase()+key.slice(5),spa.toStr(uOptions[key]))}spa.console.log("spa.render with options:"),spa.console.log(spaRVOptions);var $viewContainerId=$(viewContainerId),_renderOptionInAttr=function(e){return(""+$viewContainerId.data(e)).replace(/undefined/,"")},_renderOption=function(e,a){return spa.isBlank(spaRVOptions[e])?_renderOptionInAttr(a):spaRVOptions[e]},spaRenderId=_renderOption("dataRenderId","renderId");retValue.id=spaRenderId.ifBlankStr("spaRender"+spa.now()+spa.rand(1e3,9999));var targetRenderMode=_renderOption("dataRenderMode","renderMode");spa.console.log("Render Mode: <"+targetRenderMode+">");var spaTemplateType="x-spa-template",spaTemplateEngine=spa.defaults.dataTemplateEngine||"handlebars";if(spa.console.group("spaLoadingViewScripts"),useOptions&&uOptions.hasOwnProperty("dataScriptsCache"))spa.console.info("Override [data-scripts-cache] with user option [dataScriptsCache]: "+spaRVOptions.dataScriptsCache);else{var scriptsCacheInTagData=_renderOptionInAttr("scriptsCache");spa.isBlank(scriptsCacheInTagData)||(spaRVOptions.dataScriptsCache=scriptsCacheInTagData.toBoolean(),spa.console.info("Override [data-scripts-cache] with [data-scripts-cache] option in tag-attribute: "+spaRVOptions.dataScriptsCache))}var vScriptsList=_renderOptionInAttr("scripts");vScriptsList&&spa.isBlank((vScriptsList||"").replace(/[^:'\"]/g,""))&&(vScriptsList="'"+vScriptsList.split(",").join("','")+"'");var vScripts=spa.toJSON(vScriptsList||"{}");if(!_.isObject(spaRVOptions.dataScripts)&&_.isString(spaRVOptions.dataScripts)&&(vScriptsList=(spaRVOptions.dataScripts||"").trimStr(),spa.isBlank((vScriptsList||"").replace(/[^:'\"]/g,""))&&(vScriptsList="'"+vScriptsList.split(",").join("','")+"'"),spaRVOptions.dataScripts=spa.toJSON(vScriptsList)),$.isEmptyObject(spaRVOptions.dataScripts)||(vScripts=spaRVOptions.dataScripts),_.isArray(vScripts)&&_.remove(vScripts,function(e){return!e}),spa.console.info(vScripts),vScripts&&!$.isEmptyObject(vScripts)){if(_.isArray(vScripts)){spa.console.info("Convert array of script(s) without scriptID to object with scriptID(s).");var newScriptsObj=spa.renderUtils.array2ObjWithKeyPrefix(vScripts,"__scripts_",viewContainerId);spa.console.info("Scripts(s) with scriptID(s)."),spa.console.log(newScriptsObj),vScripts=_.isEmpty(newScriptsObj)?{}:newScriptsObj}spa.console.info("External scripts to be loaded [cache:"+spaRVOptions.dataScriptsCache+"] along with view container ["+viewContainerId+"] => "+JSON.stringify(vScripts));var vScriptsNames=_.keys(vScripts);spa.console.group("kLoadingScripts"),_.each(vScriptsNames,function(e){spaAjaxRequestsQue=spa.loadScript(e,vScripts[e],spaRVOptions.dataScriptsCache,spaAjaxRequestsQue)}),spa.console.info("External Scripts Loading Status: "+JSON.stringify(spaAjaxRequestsQue)),spa.console.groupEnd("kLoadingScripts")}else spa.console.info("No scripts defined [data-scripts] in view container ["+viewContainerId+"] to load.");spa.console.groupEnd("spaLoadingViewScripts"),$.when.apply($,spaAjaxRequestsQue).then(function(){spa.console.info("External Scripts Loaded.")}).fail(function(){spa.console.error("External Scripts Loading Failed! Unexpected!? Check the Script Path/Network.")}),spa.console.group("spaDataModel");var dataModelName=_renderOption("dataModel","model"),dataModelUrl=_renderOption("dataUrl","url"),viewDataModelName,isLocalDataModel=useParamData||dataModelUrl.beginsWithStrIgnoreCase("local:"),defaultDataModelName=dataModelUrl.beginsWithStrIgnoreCase("local:")?dataModelUrl.replace(/local:/gi,""):"data";dataModelName=dataModelName.ifBlankStr(defaultDataModelName),viewDataModelName=dataModelName.replace(/\./g,"_");var spaTemplateModelData={};if(useParamData)spaTemplateModelData[viewDataModelName]=spa.is(spaRVOptions.data,"function")?spaRVOptions.data():spaRVOptions.data,spa.console.info("Loaded data model ["+dataModelName+"] from argument");else{if(useOptions&&uOptions.hasOwnProperty("dataCache"))spa.console.info("Override [data-cache] with user option [dataCache]: "+spaRVOptions.dataCache);else{var dataCacheInTagData=_renderOptionInAttr("cache");spa.isBlank(dataCacheInTagData)||(spaRVOptions.dataCache=dataCacheInTagData.toBoolean(),spa.console.info("Override [data-cache] with [data-cache] option in tag-attribute: "+spaRVOptions.dataCache))}if(spa.isBlank(dataModelUrl)){spaTemplateModelData[viewDataModelName]={};var dataModelCollection=_renderOptionInAttr("collection");dataModelCollection&&(dataModelCollection=spa.toJSON(dataModelCollection)),spa.isBlank(spaRVOptions.dataCollection)||(dataModelCollection=spaRVOptions.dataCollection),_.isArray(dataModelCollection)&&(dataModelCollection={urls:dataModelCollection});var dataModelUrls=dataModelCollection.urls;if(spa.isBlank(dataModelUrls))spa.console.warn("Model Data ["+dataModelName+"] or [data-url] or [data-collection] NOT found! Check the arguments or html markup. Rendering with options."),spaTemplateModelData[viewDataModelName]=_.merge({},spaRVOptions);else if(_.isArray(dataModelUrls)){spa.console.info("Processing data-URLs");var dataIndexApi=0,defaultAutoDataNamePrefix=dataModelCollection.nameprefix||"data";_.each(dataModelUrls,function(e){var a=defaultAutoDataNamePrefix+dataIndexApi,t=_.has(e,"name")?(""+e.name).replace(/[^a-zA-Z0-9]/gi,""):_.has(e,"target")?""+e.target:a,n=_.has(e,"url")?e.url:_.has(e,"path")?e.path:"";if(t.containsStr(".")&&(t=_.last(t.split("."),1)),t=t.ifBlankStr(a),spa.console.info("processing data-api for: "+t),spa.console.log(e),n){_.has(e,"urlParams")&&(n=spa.api.url(n,e.urlParams));var r=_.has(e,"headers")?e.headers:spaRVOptions.dataUrlHeaders;spa.isBlank(r)&&(r=spa.findSafe(window,"app.api.ajaxOptions.headers",{})),spaAjaxRequestsQue.push($.ajax({url:n,method:(""+(e.method||"GET")).toUpperCase(),headers:r,data:_.has(e,"params")?e.params:_.has(e,"data")?e.data:{},cache:_.has(e,"cache")?e.cache:spaRVOptions.dataCache,dataType:_.has(e,"type")?e.type:spaRVOptions.dataType||spa.findSafe(window,"app.api.ajaxOptions.dataType","text"),success:function(a,r,s){var o,i=_.has(e,"target")?""+e.target:"",p=spa.is(a,"string")?spa.toJSON(""+a,"data"):a;if(i.indexOf(".")>0)o=spa.hasKey(p,i)?spa.find(p,i):p;else try{o=p.hasOwnProperty(i)?p[i]:p}catch(l){spa.console.error("Error in Data Model ["+i+"] in URL ["+n+"].\n"+l.stack)}spaTemplateModelData[viewDataModelName][t]?(spaTemplateModelData[viewDataModelName][t]=[spaTemplateModelData[viewDataModelName][t]],spaTemplateModelData[viewDataModelName][t].push(o)):spaTemplateModelData[viewDataModelName][t]=o,spa.console.info("Loaded data model ["+t+"] from ["+n+"]");var c=e.success||e.onsuccess||e.onSuccess;if(c||(c=dataModelCollection.success||dataModelCollection.onsuccess||dataModelCollection.onSuccess),c)if(_.isFunction(c))c.call(this,p,e,r,s);else if(_.isString(c)){var u=spa.findSafe(window,c);"function"==typeof u?u.call(this,p,e,r,s):spa.console.log("Unknown ajax success handle: "+c)}},error:function(a,t,r){spa.console.warn("Error processing data-api ["+n+"]");var s=e.error||e.onerror||e.onError;if(s||(s=dataModelCollection.error||dataModelCollection.onerror||dataModelCollection.onError,s||spa.isBlank(spaRVOptions.dataUrlErrorHandle)||(s=spaRVOptions.dataUrlErrorHandle)),s){if(_.isFunction(s))s.call(this,a,t,r);else if(_.isString(s)){var o=spa.findSafe(window,s);"function"==typeof o?o.call(this,oResult,e):spa.console.log("Unknown ajax error handle: "+s)}}else spa.api.onReqError.call(this,a,t,r)}}))}else spa.console.error("data-api-url not found. Please check the arguments or html markup. Skipped this data-api request");dataIndexApi++})}else spa.console.warn("Invalid [data-urls].Check the arguments or html markup. Rendering with empty data {}.")}else if(dataModelUrl.beginsWithStrIgnoreCase("local:")){var localDataModelName=dataModelUrl.replace(/local:/gi,""),localDataModelObj={};if(eval("("+localDataModelName+")")!==void 0&&eval("(localDataModelObj="+localDataModelName+")"),spa.console.info("Using LOCAL Data Model: "+localDataModelName),!isLocalDataModel&&dataModelName.indexOf(".")>0)spaTemplateModelData[viewDataModelName]=spa.hasKey(localDataModelObj,dataModelName)?spa.find(localDataModelObj,dataModelName):localDataModelObj;else try{spaTemplateModelData[viewDataModelName]=localDataModelObj.hasOwnProperty(dataModelName)?localDataModelObj[dataModelName]:localDataModelObj}catch(e){spa.console.error("Error in Data Model ["+dataModelName+"] in Local Object ["+localDataModelName+"].\n"+e.stack)}}else{spa.isBlank(spaRVOptions.dataUrlParams)||(dataModelUrl=spa.api.url(dataModelUrl,spaRVOptions.dataUrlParams)),spa.console.info("Request Data ["+dataModelName+"] [cache:"+spaRVOptions.dataCache+"] from URL =>"+dataModelUrl);var ajaxReqHeaders=spaRVOptions.dataUrlHeaders;spa.isBlank(ajaxReqHeaders)&&(ajaxReqHeaders=spa.findSafe(window,"app.api.ajaxOptions.headers",{})),spaAjaxRequestsQue.push($.ajax({url:dataModelUrl,method:(""+(_renderOption("dataUrlMethod","urlMethod")||"GET")).toUpperCase(),headers:ajaxReqHeaders,data:spaRVOptions.dataParams,cache:spaRVOptions.dataCache,dataType:spaRVOptions.dataType||spa.findSafe(window,"app.api.ajaxOptions.dataType","text"),success:function(e){var a=spa.is(e,"string")?spa.toJSON(""+e,"data"):e,t=_renderOption("dataValidate","validate");if(dataModelName.indexOf(".")>0)spaTemplateModelData[viewDataModelName]=spa.hasKey(a,dataModelName)?spa.find(a,dataModelName):a;else try{"data"!=dataModelName||a.hasOwnProperty(dataModelName)||(dataModelName="Data",viewDataModelName="Data"),spaTemplateModelData[viewDataModelName]=!t&&a.hasOwnProperty(dataModelName)?a[dataModelName]:a}catch(n){spa.console.error("Error in Data Model ["+dataModelName+"] in URL ["+dataModelUrl+"].\n"+n.stack)}spa.console.info("Loaded data model ["+dataModelName+"] from ["+dataModelUrl+"]")},error:function(e,a,t){var n=_renderOption("dataUrlErrorHandle","urlErrorHandle");if(spa.isBlank(n))spa.api.onReqError.call(this,e,a,t);else{var r=spa.findSafe(window,n);"function"==typeof r?r.call(this,e,a,t):spa.console.log("Unknown ajax error handle: "+n)}}}))}}if(spa.console.info("End of Data Processing"),spa.console.log({o:spaTemplateModelData}),spa.console.groupEnd("spaDataModel"),dataFound){var vTemplate2RenderInTag=_renderOptionInAttr("template")||_renderOptionInAttr("html"),vTemplatesList=_renderOptionInAttr("templates")||_renderOptionInAttr("htmls");vTemplatesList&&spa.isBlank((vTemplatesList||"").replace(/[^:'\"]/g,""))&&(vTemplatesList="'"+vTemplatesList.split(",").join("','")+"'");var vTemplates=spa.toJSON(vTemplatesList||"{}");if(!_.isObject(spaRVOptions.dataTemplates)&&_.isString(spaRVOptions.dataTemplates)&&(vTemplatesList=(spaRVOptions.dataTemplates||"").trimStr(),spa.isBlank((vTemplatesList||"").replace(/[^:'\"]/g,""))&&(vTemplatesList="'"+vTemplatesList.split(",").join("','")+"'"),spaRVOptions.dataTemplates=spa.toJSON(vTemplatesList)),$.isEmptyObject(spaRVOptions.dataTemplates)||(vTemplates=spaRVOptions.dataTemplates,vTemplatesList=""+JSON.stringify(vTemplates)),(_.isEmpty(spa.toJSON((vTemplatesList||"").trimStr()))||_.isArray(vTemplates)&&1==vTemplates.length&&spa.isBlank(vTemplates[0]))&&(vTemplates={},vTemplatesList=""),spa.console.info("Templates:"),spa.console.info(vTemplates),_.isArray(vTemplates)&&!_.isEmpty(vTemplates)){spa.console.info("Array of template(s) without templateID(s).");var newTemplatesObj=spa.renderUtils.array2ObjWithKeyPrefix(vTemplates,"__tmpl_",viewContainerId);spa.console.info("Template(s) with template ID(s)."),spa.console.log(newTemplatesObj),_.isEmpty(newTemplatesObj)?(vTemplates={},vTemplatesList=""):(vTemplates=newTemplatesObj,vTemplatesList=""+JSON.stringify(vTemplates))}if(!vTemplates||$.isEmptyObject(vTemplates)){vTemplates={};var _dataTemplate=spaRVOptions.dataTemplate,_tmplKey="",_tmplLoc="";spa.isBlank(_dataTemplate)&&(spa.isBlank(vTemplate2RenderInTag)||(spa.console.info("Template to load from location <"+vTemplate2RenderInTag+">"),_dataTemplate=vTemplate2RenderInTag)),_dataTemplate=(_dataTemplate||"").trimStr(),spa.console.info("Primary Template: <"+_dataTemplate+">"),spa.isBlank(_dataTemplate)||_dataTemplate.equalsIgnoreCase("inline")||_dataTemplate.equals(".")?(spa.console.info("Using target container (inline) content as template."),_tmplKey="_tmplInline_"+viewContainerId.trimStr("#")):_dataTemplate.beginsWithStr("#")?(spa.console.info("Using page container <"+_dataTemplate+"> content as template."),_tmplKey=_dataTemplate.trimStr("#")):(spa.console.info("External path <"+_dataTemplate+"> content as template."),_tmplKey="__tmpl_"+(""+_dataTemplate).replace(/[^a-z0-9]/gi,"_"),_tmplLoc=_dataTemplate),vTemplates[_tmplKey]=_tmplLoc.replace(/['\"]/g,""),spa.console.info(vTemplates)}if(spa.console.group("spaView"),vTemplates&&!$.isEmptyObject(vTemplates)){spa.console.info("Templates of ["+spaTemplateType+"] to be used in view container ["+viewContainerId+"] => "+JSON.stringify(vTemplates));var vTemplateNames=_.keys(vTemplates);if(spa.console.group("spaLoadingTemplates"),spa.console.group("spaLoadingTemplatesCache"),useOptions&&uOptions.hasOwnProperty("dataTemplatesCache"))spa.console.info("Override [data-templates-cache] with user option [dataTemplatesCache]: "+spaRVOptions.dataTemplatesCache);else{var templatesCacheInTagData=_renderOptionInAttr("templatesCache")||_renderOptionInAttr("templateCache")||_renderOptionInAttr("htmlsCache")||_renderOptionInAttr("htmlCache");spa.isBlank(templatesCacheInTagData)||(spaRVOptions.dataTemplatesCache=templatesCacheInTagData.toBoolean(),spa.console.info("Override [data-templates-cache] with [data-templates-cache] option in tag-attribute: "+spaRVOptions.dataTemplatesCache))}spa.console.groupEnd("spaLoadingTemplatesCache"),spa.console.info("Load Templates"),spa.console.info(vTemplates),_.each(vTemplateNames,function(e,a){spa.console.info([a,e,vTemplates[e],spaTemplateType,viewContainerId]),spaAjaxRequestsQue=spa.loadTemplate(e,vTemplates[e],spaTemplateType,viewContainerId,spaAjaxRequestsQue,!spaRVOptions.dataTemplatesCache)});var vTemplate2RenderID="#"+vTemplateNames[0].trimStr("#");if(spa.console.info("External Data/Templates Loading Status: "+JSON.stringify(spaAjaxRequestsQue)),spa.console.groupEnd("spaLoadingTemplates"),spa.console.info("Render TemplateID: "+vTemplate2RenderID),spa.console.group("spaLoadingViewStyles"),useOptions&&uOptions.hasOwnProperty("dataStylesCache"))spa.console.info("Override [data-styles-cache] with user option [dataStylesCache]: "+spaRVOptions.dataStylesCache);else{var stylesCacheInTagData=_renderOptionInAttr("stylesCache");spa.isBlank(stylesCacheInTagData)||(spaRVOptions.dataStylesCache=stylesCacheInTagData.toBoolean(),spa.console.info("Override [data-styles-cache] with [data-styles-cache] option in tag-attribute: "+spaRVOptions.dataStylesCache))}var vStylesList=_renderOptionInAttr("styles");vStylesList&&spa.isBlank((vStylesList||"").replace(/[^:'\"]/g,""))&&(vStylesList="'"+vStylesList.split(",").join("','")+"'");var vStyles=spa.toJSON(vStylesList||"{}");if($.isEmptyObject(spaRVOptions.dataStyles)||(vStyles=spaRVOptions.dataStyles),_.isArray(vStyles)&&_.remove(vStyles,function(e){return!e}),vStyles&&!$.isEmptyObject(vStyles)){if(_.isArray(vStyles)){spa.console.info("Convert array of style(s) without styleID to object with styleID(s).");var newStylesObj=spa.renderUtils.array2ObjWithKeyPrefix(vStyles,"__styles_",viewContainerId);spa.console.info("Style(s) with styleID(s)."),spa.console.log(newStylesObj),vStyles=_.isEmpty(newStylesObj)?{}:newStylesObj}spa.console.info("External styles to be loaded [cache:"+spaRVOptions.dataStylesCache+"] along with view container ["+viewContainerId+"] => "+JSON.stringify(vStyles));var vStylesNames=_.keys(vStyles);spa.console.group("spaLoadingStyles"),_.each(vStylesNames,function(e){spaAjaxRequestsQue=spa.loadStyle(e,vStyles[e],spaRVOptions.dataStylesCache,spaAjaxRequestsQue)}),spa.console.info("External Styles Loading Status: "+JSON.stringify(spaAjaxRequestsQue)),spa.console.groupEnd("spaLoadingStyles")}else spa.console.info("No styles defined [data-styles] in view container ["+viewContainerId+"] to load.");spa.console.groupEnd("spaLoadingViewStyles"),$.when.apply($,spaAjaxRequestsQue).then(function(){spa.console.group("spaRender["+spaTemplateEngine+"] - spa.renderHistory["+retValue.id+"]"),spa.console.info("Rendering "+viewContainerId+" using master template: "+vTemplate2RenderID),spa.isBlank(targetRenderMode)&&$(viewContainerId).html("");try{var e=!_renderOption("dataValidate","validate");if(!e){spa.console.info("Validating Data");var a=_renderOption("dataValidate","validate");a&&_.isString(a)&&(a=spa.findSafe(window,a)),e=a&&_.isFunction(a)?a.call(spaTemplateModelData[viewDataModelName],spaTemplateModelData[viewDataModelName]):spa.api.isCallSuccess(spaTemplateModelData[viewDataModelName])}if(e){var t=_renderOption("dataProcess","process");if(t&&_.isString(t)&&(t=spa.findSafe(window,t)),retValue.modelOriginal=$.extend({},spaTemplateModelData[viewDataModelName]),retValue.model=spaTemplateModelData[viewDataModelName],t&&_.isFunction(t)){var n=$.extend({},app[rCompName]||{},uOptions||{}),r=_.pick(n,["data","dataUrlParams","dataParams","dataExtra","dataXtra","dataDefaults","data_"]);retValue.model=t.call(n,spaTemplateModelData[viewDataModelName],r),_.isObject(retValue.model)||(retValue.model=retValue.modelOriginal)}if(rCompName){if(is(app,"object")&&app.hasOwnProperty(rCompName)){var s=_.merge({},is(retValue.model,"object")?retValue.model:{_noname:retValue.model});app[rCompName].$data=s.hasOwnProperty("spaComponent")?{}:_.merge({},spaRVOptions.dataDefaults,spaRVOptions.data_,spaRVOptions.dataExtra,spaRVOptions.dataParams,s),app[rCompName].__global__=window||{}}retValue.model._this=_.merge({},spa.findSafe(window,"app."+rCompName,{})),retValue.model._this_=_.merge({},spa.components[rCompName]||{},uOptions)}retValue.model._global_=window||{};var o,i=retValue.model,p=($(vTemplate2RenderID).html()||"").replace(/_SCRIPTTAGINTEMPLATE_/g,"script").replace(/_LINKTAGINTEMPLATE_/g,"link"),l=p.match(/({\s*\@\$(.*?)\s*})/g);!spaRVOptions.skipDataBind&&l&&_.forEach(l,function(e){p=p.replace(RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\@\$/g,"_global_.app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(rCompName||"")+"."))});var c=p.match(/({\s*\$(.*?)\s*})/g);if(!spaRVOptions.skipDataBind&&c&&_.forEach(c,function(e){p=p.replace(RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\$/g,"app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(rCompName||"")+"."))}),o=p,spa.console.log("Template Source:",p),spa.console.log("DATA for Template:",i),!spa.isBlank(i))if("undefined"!=typeof Handlebars&&Handlebars&&!spaRVOptions.skipDataBind){var u=spa.compiledTemplates[vTemplate2RenderID]||Handlebars.compile(p),d=is(i,"object")?_.merge({},retValue,spaRVOptions.dataDefaults,spaRVOptions.data_,spaRVOptions.dataExtra,spaRVOptions.dataParams,i):i;spa.compiledTemplates.hasOwnProperty(vTemplate2RenderID)||(spa.compiledTemplates[vTemplate2RenderID]=u),o=u(d)}else spa.console.error("handlebars.js is not loaded.");spa.console.log("Template Compiled:",o),doDeepRender=!1,retValue.view=o.replace(/\_\{/g,"{{").replace(/\}\_/g,"}}");var f=rCompName?_.merge({},app[rCompName]||{},{__prop__:_.merge({},uOptions||{})}):{};f.__prop__&&f.__prop__.data&&(delete f.__prop__.data._global_,delete f.__prop__.data._this_,delete f.__prop__.data._this),retValue.model&&(delete retValue.model._global_,delete retValue.model._this_,delete retValue.model._this);var g=_renderOption("dataBeforeRender","beforeRender");g&&spa.renderUtils.runCallbackFn(g,void 0,f);var m=_renderOption("dataRenderType","renderType");switch(m){case"value":$(viewContainerId).val(retValue.view);break;case"text":$(viewContainerId).text(retValue.view);break;default:if(doDeepRender=!0,spa.isBlank(targetRenderMode))$(viewContainerId).html(retValue.view);else switch(!0){case targetRenderMode.equalsIgnoreCase("append"):$(viewContainerId).append(retValue.view);break;case targetRenderMode.equalsIgnoreCase("prepend"):$(viewContainerId).prepend(retValue.view);break;default:$(viewContainerId).html(retValue.view)}}$(viewContainerId).attr("data-rendered-component",rCompName).data("renderedComponent",rCompName),_$renderCountUpdate(rCompName),spa.console.info("Render: SUCCESS");var h=_.keys(spa.renderHistory),v=h.length;v>spa.renderHistoryMax&&$.each(h.splice(0,v-spa.renderHistoryMax),function(e,a){delete spa.renderHistory[a]}),retValue.cron=""+spa.now(),spa.renderHistoryMax>0&&(spa.renderHistory[retValue.id]=retValue),doDeepRender&&(spa.reflowFoundation(viewContainerId),spa.initKeyTracking(),initKeyPauseEvent(viewContainerId),$(viewContainerId).find(".lang-icon,.lang-text,[data-i18n-lang]").length&&spa.i18n.displayLang(),spa.i18n.apply(viewContainerId),_initFormValidation(viewContainerId),spa.initRoutes(viewContainerId)),spa.console.log(retValue),spa.initTogglePassword(viewContainerId),spa.initTrackFormElChanges(viewContainerId),spa.renderUtils.registerComponentEvents(rCompName),spa.renderUtils.runCallbackFn(spa.defaults.components.callback,retValue,f);var y=_renderOptionInAttr("renderCallback");spaRVOptions.dataRenderCallback&&(y=spaRVOptions.dataRenderCallback);var b=_.isString(y)&&y.equalsIgnoreCase("off");spa.console.info("Processing callback: "+y),b||(isSpaHashRouteOn&&spa.routes&&spa.routes.hasOwnProperty("_renderCallback")&&_.isFunction(spa.routes._renderCallback)&&(spa.console.info("calling default callback: spa.routes._renderCallback"),spa.routes._renderCallback.call(f,retValue)),spa.renderUtils.runCallbackFn(y,retValue)),doDeepRender&&($(viewContainerId).find("[rel='spaRender'],[data-render],[data-sparender],[data-spa-render]").spaRender(),spaRVOptions.hasOwnProperty("mountComponent")&&(spa.console.info("mounting defered component",spaRVOptions.mountComponent),$(viewContainerId).removeAttr("data-spa-component"),spa.renderComponentsInHtml(spaRVOptions.mountComponent.scope,spaRVOptions.mountComponent.name,!0)),spa.renderComponentsInHtml(viewContainerId))}else spa.api.onResError(spaTemplateModelData[viewDataModelName],"Invalid-Data",void 0)}catch(S){spa.console.error("Error Rendering.\n"+S.stack)}spa.console.groupEnd("spaRender["+spaTemplateEngine+"] - spa.renderHistory["+retValue.id+"]")}).fail(function(){spa.console.error("External Data/Templates/Styles/Scripts Loading failed! Unexpected!! Check the template Path / Network. Rendering aborted.")}).done(spa.runOnceOnRender)}else spa.console.error("No templates defined [data-templates] in view container ["+viewContainerId+"] to render. Check HTML markup.");spa.console.groupEnd("spaView")}return retValue}},spa.hasAutoRoutes=function(e,a){var t="[data-sparoute-default]"+(e?"[href"+(a?a:"")+"='"+e+"']":"");return $(t).length>0},spa.routeCurLocHashAttemptDelaySec=3,spa.routeCurLocHashAttempt=0,spa.routeCurLocHash=function(){var e=(spa.getLocHash()||"").ifBlankStr(spa.routesOptions.defaultPageRoute);isSpaHashRouteOn&&e&&!spa.hasAutoRoutes(e)&&(spa.console.info("Route current url-hash."),spa.route(e)||(spa.console.warn("Current url-hash-route <"+e+"> FAILED and will try after "+spa.routeCurLocHashAttemptDelaySec+"sec."),5>spa.routeCurLocHashAttempt?(spa.routeCurLocHashAttempt++,setTimeout(spa.routeCurLocHash,1e3*spa.routeCurLocHashAttemptDelaySec)):spa.console.error("5 attempts to route current url-hash failed. Aborting further attempts.")))},spa.finallyOnRender=[],spa.runOnceOnRenderFunctions=[spa.routeCurLocHash],spa.runOnceOnRender=function(){spa.console.info("Render Complete."),(spa.runOnceOnRenderFunctions&&!_.isEmpty(spa.runOnceOnRenderFunctions)||spa.finallyOnRender&&!_.isEmpty(spa.finallyOnRender))&&(spa.runOnceOnRenderFunctions||(spa.runOnceOnRenderFunctions=[]),_.isArray(spa.runOnceOnRenderFunctions)||(spa.runOnceOnRenderFunctions=[spa.runOnceOnRenderFunctions]),_.isArray(spa.runOnceOnRenderFunctions)&&(spa.finallyOnRender&&(_.isArray(spa.finallyOnRender)||(spa.finallyOnRender=[spa.finallyOnRender]),spa.runOnceOnRenderFunctions=spa.runOnceOnRenderFunctions.concat(spa.finallyOnRender)),_.each(spa.runOnceOnRenderFunctions,function(e){_.isFunction(e)&&e()})),spa.finallyOnRender=spa.runOnceOnRenderFunctions=void 0)},spa.setElIdIfNot=function(e){var a=$(e);return spa.isBlank(a.attr("id"))&&a.attr("id","_el_"+spa.now()+"_"+spa.rand(1e3,9999)),a.attr("id")},spa.Foundation={autoReflow:!1},spa.reflowFoundation=function(e){"Foundation"in window&&spa.Foundation.autoReflow&&$(e||document).foundation("reflow")},$.expr[":"].regex=function(e,a,t){var n=t[3].split(","),r=/^(data|css):/,s={method:n[0].match(r)?n[0].split(":")[0]:"attr",property:n.shift().replace(r,"")},o="ig",i=RegExp(n.join("").replace(/^\s+|\s+$/g,""),o);return i.test($(e)[s.method](s.property))},$.fn.extend({spaRender:function(e){this.each(function(){__renderView(this,e)})}}),$.extend({spaRender:function(e,a){$(e).spaRender(a)}}),spa.initDataValidation=function(){spa.console.log("include validate framework lib (spa-validate.js) to use this feature!")},spa.doDataValidation=function(){spa.console.log("include validate framework lib (spa-validate.js) to use this feature!")},spa.properties={version:spa.VERSION},spa.routes={},spa.routesOptions={useHashRoute:!0,usePatterns:!0,defaultPageRoute:"",beforeRoute:"",defaultTemplateExt:".html",defaultScriptExt:".js",loadDefaultScript:!0,defaultRouteTargetContainerIdPrefix:"routeContainer_",defaultRouteTemplateContainerIdPrefix:"template_"},spa.routePatterns={routes:[],register:void 0,deregister:void 0},spa.routePatterns.register=function(e,a){if(e&&!_.isEmpty(e)){var t=function(e,a){_.has(e,"pattern")&&(e.pattern=e.pattern.replace(/\?/g,"\\?"),_.has(e,"name")||(e.name=e.pattern.replace(/[^a-z0-9_]/gi,"")),_.has(e,"routeoptions")||(e.routeoptions={}),_.find(spa.routePatterns.routes,{pattern:e.pattern})||(_.find(spa.routePatterns.routes,{name:e.name})?a&&spa.routePatterns.routes.push(e):spa.routePatterns.routes.push(e)))};_.isArray(e)?_.each(e,function(e){t(e,a)}):_.isObject(e)?t(e,a):spa.console.error("Invalid RoutePattern Options. Provide Array/Object of RouteOptions")}else spa.console.error("Empty RoutePattern Options.")},spa.routePatterns.deregister=function(e){if(e&&!_.isEmpty(e)){var a=function(e){if(e){var a=_.findIndex(spa.routePatterns.routes,function(a){return a.name==e||a.pattern==e});a>=0?_.pullAt(spa.routePatterns.routes,a):spa.console.error("Route Pattern Not Found for <"+e+">")}};_.isArray(e)?_.each(e,function(e){a(e)}):_.isString(e)?a(e):spa.console.error("Invalid RoutePattern Name/Pattern. Provide Array/Name of RouteNames/Patterns")}},spa.routeName=function(e){var a=e||spa.urlHash();return a.containsStr("\\?")&&(a=a.split("?")[0]),a.trimLeftStr("#").replace(/[^a-z0-9]/gi,"_")},spa.routeContainerId=function(e){var a=spa.routesOptions.defaultRouteTargetContainerIdPrefix.trimLeftStr("#");return a+spa.routeName(e)},spa.routeTemplateId=function(e){var a=spa.routesOptions.defaultRouteTemplateContainerIdPrefix.trimLeftStr("#");return a+spa.routeName(e)},spa.routeRender=function(e,a){var t=e?$(e):void 0,n=t?""+t.data("sparoute")||"":"";(n.trimStr().equalsIgnoreCase("false")||n.trimStr().equalsIgnoreCase("no")||n.trimStr().equalsIgnoreCase("off"))&&(n="quit:true");var r=n?spa.toJSON(n):{};if(_.merge(r,a),!r.hasOwnProperty("quit")||!r.quit){var s="#RouteNotDefinedInHREF";t?s=t.attr("href"):a.urlhash&&(s=a.urlhash.url),s=s.trimLeftStr("#");var o="";if(s.containsStr("\\?")){var i=s.split("?");s=i[0],o=i[1]}var p=r.name||spa.routeName(s);if(s+=s.endsWithStr("/")?"index":"",spa.routes[p])spa.routes[p](t,o,r);else{spa.console.info("Route method <spa.routes."+p+"> NOT FOUND. Attempting to route using [data-sparoute] options.");var l=r.hasOwnProperty("ext")||r.hasOwnProperty("tmplext")||r.hasOwnProperty("tmplExt"),c=""+(r.target||"").trimStr(),u=l?r.ext||r.tmplext||r.tmplExt:spa.routesOptions.defaultTemplateExt||"",d=(s+u+"?"+o).trimRightStr("\\?"),f=s+(spa.routesOptions.defaultScriptExt||".js"),g="spa.routes."+p+"_before",m="spa.routes."+p+"_renderCallback",h=spa.findIgnoreCase(r,"usetargetoptions"),v={dataRenderCallback:m,rElRouteOptions:r,rElDataAttr:t?t.data():{}};r.hasOwnProperty("template")&&!r.hasOwnProperty("templates")&&(r.templates=r.template,delete r.template),c.equalsIgnoreCase(".")?c="#"+spa.setElIdIfNot(t):spa.isBlank(c)&&(c="#"+spa.routeContainerId(p));var y=spa.isElementExist(c);spa.console.info("Render Target <"+c+">"),r.hasOwnProperty("dataCache")&&(v.dataCache=r.dataCache),(r.hasOwnProperty("templatesCache")||r.hasOwnProperty("templateCache")||r.hasOwnProperty("htmlsCache")||r.hasOwnProperty("htmlCache"))&&(v.dataTemplatesCache=r.templatesCache||r.templateCache||r.htmlsCache||r.htmlCache),(r.hasOwnProperty("scriptsCache")||r.hasOwnProperty("scriptCache"))&&(v.dataScriptsCache=r.scriptsCache||r.scriptCache),v.dataTemplates={};var b="__spaRouteTemplate_"+p;if(!r.hasOwnProperty("templates")||r.templates){var S=r.templates,O=spa.routeTemplateId(p),T="#"+O,C="__tmpl_"+O;switch(!0){case _.isString(S):var w=b,k=S.trimStr();k.equalsIgnoreCase(".")?k=d:k.equalsIgnoreCase("#")&&(w=C,k=T),v.dataTemplates[w]=k.ifBlankStr("none");break;case _.isArray(S):_.indexOf(S,".")>=0&&(v.dataTemplates[b+"_dot"]=d,_.pull(S,".")),_.indexOf(S,"#")>=0&&(v.dataTemplates[C]=T,_.pull(S,"#")),_.each(S,function(e,a){v.dataTemplates[b+"_"+(a+1)]=e.ifBlankStr("none")});break;default:v.dataTemplates[b]=d}}else spa.console.warn("Route without template"),v.dataTemplates[b]="none";var R=!r.hasOwnProperty("scripts")||r.scripts;if(R){v.dataScripts={};var x="__spaRouteScript_"+p;switch(!0){case _.isString(r.scripts):v.dataScripts[x]=r.scripts.equalsIgnoreCase(".")?f:r.scripts;break;case _.isArray(r.scripts):_.indexOf(r.scripts,".")>=0&&(v.dataScripts[x]=f,_.pull(r.scripts,".")),_.each(r.scripts,function(e,a){v.dataScripts[x+"_"+(a+1)]=e});break;default:spa.routesOptions.loadDefaultScript?v.dataScripts[x]=f:spa.console.warn("Script(s) not included. Use <spa.routesOptions.loadDefaultScript = true> to load default script <"+f+">.")}spa.console.log(v.dataScripts)}if(r.dataUrl||r.dataurl){var j=r.dataurl||r.dataUrl,A=spa.toRenderDataStructure(j,o,spa.findSafe(a,"urlhash.urlParams.params",{}));_.isEmpty(A)||_.merge(v,A)}var E=r.hasOwnProperty("after")||r.hasOwnProperty("callback")||r.hasOwnProperty("callBack");if((E||r.after||r.callback||r.callBack)&&(v.dataRenderCallback=r.after||r.callback||r.callBack||""),r.hasOwnProperty("scripts")&&spa.isBlank(r.scripts)&&(E?_.isString(v.dataRenderCallback)&&v.dataRenderCallback.equalsIgnoreCase(".")&&(v.dataRenderCallback=m):v.dataRenderCallback=""),h&&y){var I=$(c);I.data("url")&&delete v.dataUrl,(I.data("template")||I.data("templates"))&&delete v.dataTemplates,I.data("scripts")&&delete v.dataScripts,I.data("renderCallback")&&delete v.dataRenderCallback}spa.console.info("Route Render Options Before preRenderProcess:"),spa.console.info(v);var P={},L=r.before||r.beforeroute||r.beforeRoute||spa.routesOptions.beforeRoute;spa.console.info("callBeforeRoute: "+L),L&&(!_.isFunction(L)&&_.isString(L)&&(L.equals(g)&&(g=void 0),L=spa.findSafe(window,L)),_.isFunction(L)?(P=L.call(void 0,{el:t,target:c,renderOptions:v,routeOptions:r}),_.isObject(P)&&_.merge(v,P)):spa.console.error("CallBeforeRouteFunction <"+r.before+"> NOT FOUND.")),g&&(L=spa.findSafe(window,g),L&&_.isFunction(L)&&(P=L.call(void 0,{el:t,target:c,renderOptions:v,routeOptions:r}),_.isObject(P)&&_.merge(v,P))),spa.console.info("Route Render Options After preRenderProcess:"),spa.console.info(v),v.hasOwnProperty("render")&&!v.render||r.hasOwnProperty("render")&&!r.render||spa.render(c,v)}return!0}},spa.route=function(e,a){if(_.isString(e)&&spa.isBlank((""+e).trimStr("#")))return!1;var t=!_.isString(e);if(a=a||{},!t){var n=$("[data-sparoute][href='"+e+"']");if(t=!_.isEmpty(n))e=n.get(0);else if(spa.console.warn("Route source element NOT FOUND for route <"+e+">"),spa.routesOptions.usePatterns){spa.console.info("Searching RoutePattern.");var r,s=_.findIndex(spa.routePatterns.routes,function(a){var t=!1,n=spa.routeMatch(a.pattern,e);
return n&&(t=!0,r=_.merge({},a.routeoptions||{}),r.urlhash={pattern:a.pattern.replace(/\\\?/g,"?"),url:e,urlParams:n}),t});0>s?(spa.console.warn("Pattern not found."),spa.console.info(spa.routePatterns.routes)):(spa.console.info(r),spa.routeRender(void 0,r))}else spa.console.warn("Pattern match Disabled.")}if(!t){if(!a.forceroute&&!a.forceRoute)return spa.console.warn("Exit Route."),!1;spa.console.warn("Attempt dynamic route."),t=!0,e=$("<a href='"+e+"'></a>").get(0)}return t?spa.routeRender(e,a):void 0},spa.initRoutes=function(e,a){"object"==typeof e&&(a=e,e=a.context||a.scope||""),(!a||(spa.console.info("Init routesOptions"),_.merge(spa.routesOptions,a),!isSpaHashRouteOn&&spa.routesOptions.useHashRoute&&_initWindowOnHashChange(),isSpaHashRouteOn&&!spa.routesOptions.useHashRoute&&_stopWindowOnHashChange(),a.hasOwnProperty("context")||a.hasOwnProperty("scope")))&&(spa.console.info("Init spaRoutes. Scan for [data-sparoute] in context: <"+(e||"body")+">"),$(e||"body").find("[data-sparoute]").each(function(e,a){spa.isBlank((($(a).attr("href")||"")+"#").split("#")[1])||($(a).off("click"),$(a).on("click",function(){if(isSpaHashRouteOn){var e="#"+(($(a).attr("href")||"")+"#").split("#")[1].trimStr("#"),t=spa.getLocHash();e.equals(t)&&spa.route(this)}else spa.route(this)}),a.hasAttribute("data-sparoute-default")&&spa.route(a))}))},spa.api={baseUrl:"",liveUrlSuffix:"",urls:{},mock:!1,forceParamValuesInMockUrls:!1,urlKeyIndicator:"@",url:function(e,a){e=(e||"").trimLeftStr(spa.api.urlKeyIndicator),a=a||{};var t,n,r=spa.api.urls[e]||e,s=r.beginsWithStr("!")||spa.api.mock,o=r.beginsWithStr("!!")||r.beginsWithStr("~")||spa.api.forceParamValuesInMockUrls,i=_.uniq(r.extractStrBetweenIn("{","}"));return spa.isBlank(i)||_.each(i,function(e){t=e.replace(/[{}<>]/g,""),t&&a.hasOwnProperty(t)&&(n=s&&!o?e.containsStr(">")?a[t]:"_"+t:a[t],r=r.replace(RegExp(e,"g"),n))}),r},isCallSuccess:function(){return!0},onReqError:function(e,a,t){spa.console.error([e,a,t]),spa.console.error($(e.responseText).text())},onResError:function(){},_call:function(e){var a=spa.findSafe(window,"app.api.ajaxOptions",{}),t=spa.is(e,"object")&&e.hasOwnProperty("error")?e.error:spa.api.onReqError;return e=$.extend({},a,e,{error:t,success:function(a,t,n){a=_.isString(a)?spa.toJSON(a):a,spa.api.isCallSuccess(a)?e._success.call(this,a,t,n):spa.api.onResError.call(this,a,t,n)}}),e.dataType||(e.dataType="text"),"json".equalsIgnoreCase(e.dataType)&&!e.contentType&&(e.contentType="application/json"),e.data&&spa.is(e.data,"object")&&e.stringifyPayload&&(delete e.stringifyPayload,e.data=JSON.stringify(e.data)),e.url.beginsWithStr(spa.api.urlKeyIndicator)&&(e.url=spa.api.url(e.url.trimLeftStr(spa.api.urlKeyIndicator),e.data)),(app.debug||spa.debug)&&console.info(["API(ajax) call with options",e]),$.ajax(e)},_params2AxOptions:function(){var e,a,t,n,r={method:"GET",url:"",data:{},_success:function(){},async:!0};return _.each(arguments,function(s){switch(!0){case _.isString(s):e="url",r.url&&(a=!0,e="data");break;case spa.is(s,"function"):n?e="error":(n=!0,e="_success");break;case _.isBoolean(s):e="async";break;case _.isObject(s):a||s.__hasPrimaryKeys("ajaxOptions|dataUrlParams")?(e="axOptions",t=s.hasOwnProperty("ajaxOptions")?s.ajaxOptions:s):(e="data",a=!0);break;default:e="unknown"}"axOptions"!=e&&(r[e]=s)}),t&&(t.dataUrlParams&&((""+r.url).beginsWithStr(spa.api.urlKeyIndicator)&&(r.url=spa.api.url(r.url.trimLeftStr(spa.api.urlKeyIndicator),t.dataUrlParams)),delete t.dataUrlParams),_.merge(r,t)),spa.console.log("API ajax options >>"),spa.console.log(r),r},get:function(){return spa.api._call(spa.api._params2AxOptions.apply(void 0,arguments))},post:function(){return spa.api._call($.extend(spa.api._params2AxOptions.apply(void 0,arguments),{method:"POST"}))},put:function(){return spa.api._call($.extend(spa.api._params2AxOptions.apply(void 0,arguments),{method:"PUT"}))},del:function(){return spa.api._call($.extend(spa.api._params2AxOptions.apply(void 0,arguments),{method:"DELETE"}))}},spa.i18n.onLangChange,spa.i18n.displayLang=function(){var e=$("html").attr("lang");if(e){var a=e,t=e.replace("-","_"),n=$('[data-i18n-lang="'+a+'"],[data-i18n-lang="'+t+'"]'),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+t,s="-";$(".lang-text").attr("data-i18n",r).data("i18n",r),$("[data-i18n-lang]").removeClass("active"),n.length&&(n.addClass("active"),s=($(n[0]).data("i18nLang")||"").replace(/[a-z]/gi,""),$(".lang-icon").removeClass(Array.prototype.join.call($("[data-i18n-lang]").map(function(e,a){return $(a).data("i18nLang")})," "))),$(".lang-icon").addClass("-"==s?a:t),spa.i18n.apply(".lang-text")}return e},spa.ajaxPreProcess,spa.onReady;var _PubSubQue={},_PubSub={pub:function(e,a,t,n){var r,s;spa.is(a,"function")?(n=arguments[2],t=arguments[1]):r=arguments[1];var o,i,p=0,l=[];return _.each(_PubSubQue[e],function(a){try{p++,o=a.fn,i=null,o&&(i=o.call(r||{},e,r,t,n)),l.push({id:""+(a.name||p),response:i}),!s&&spa.is(i,"boolean")&&(s=!i)}catch(c){console.warn("Execution error in subscribed function:"+a.name+" on-"+e),console.error(c)}}),s?n&&spa.is(n,"function")&&n(l):t&&spa.is(t,"function")&&t(l),l},sub:function(e,a,t){return _PubSubQue.hasOwnProperty(e)||(_PubSubQue[e]=[]),_PubSubQue[e].push({fn:a,name:t}),_PubSubQue[e].length},unSub:function(e,a){var t=!1;return _PubSubQue.hasOwnProperty(e)&&(t=!0,a?_PubSubQue[e][a-1]=null:_PubSubQue[e]=[]),t}};spa.event={on:_PubSub.sub,off:_PubSub.unSub,trigger:_PubSub.pub,announce:_PubSub.pub},$(document).ready(function(){spa.debug=spa.urlParam("spa.debug")||spa.hashParam("spa.debug")||spa.debug,$.ajaxPrefilter(_ajaxPrefilter),spa.reflowFoundation();var e=$("body").data("sparouteInit");e&&spa.initRoutes(spa.toJSON(e)),spa.initRoutes("body"),"onhashchange"in window&&spa.isBlank(e)&&(spa.console.info("Registering HashRouting Listener"),window.addEventListener("hashchange",function(){spa.onUrlHashChange&&spa.onUrlHashChange(spa.urlHash([]))})),spa.initKeyTracking(),initKeyPauseEvent(),init_i18n_Lang(),_initFormValidation();var a=$("[rel='spaRender'],[data-render],[data-sparender],[data-spa-render]"),t=a.length;spa.console.info("Find and Render [rel='spaRender'] or [data-render] or [data-sparender] or [data-spa-render]. Found:"+t),t?a.spaRender():(spa.console.info("Init SPA Render."),$("body").append("<div id='initSpaRender0' data-template-engine='none' data-render-type='text' data-render-callback='off' style='display:none'>&nbsp;</div>"),$("#initSpaRender0").spaRender()),spa.renderComponentsInHtml(),spa.onReady&&spa.onReady()})}(this),spa.console.info("spa loaded.");

/** @license SPA.js Validation Extension | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
function _clearSpaValidateMsg(a){return spa._validate._showValidateMsg(a),!0}spa._validateDefaults={required:"Required",digits:"Digits",numbers:"Numbers",integer:"Integer",alphabet:"Alpha",alphanumeric:"AlphaNumeric",pattern:"PatternMatch",range:"ValueRange",fixedlength:"Lengths",minlength:"LengthMin",maxlength:"LengthMax",email:"Email",url:"Url",date:"Date",cardno:"CardNo",ipv4:"IPv4",ipv6:"IPv6",ipaddress:"IP",subnetmask:"Subnet",phoneUS:"PhoneUS",wordsize:"WordSize",compare:"Compare",promise:"Promise"},spa._validate={_isOnOfflineValidation:!1,_validateAlertTemplate:'<div class="errortxt error-txt break-txt" data-i18n=""></div>',_offlineValidationRules:{},_fn:{Promise:function(a){if(!spa._validate._isOnOfflineValidation){var e=$(a),t=e.data("validate")||"";/(promise)(\s)*:(\s)*(\'|\")/.test(t)&&spa._validate._addValidationClass(e,"validation-pending")}return!0},Required:function(a){var e=spa.getElValue(a);return!spa.isBlank(e)},Digits:function(a){var e=$(a).val(),t=0===e.length||/^\d+$/.test(e);return t},Numbers:function(a){var e=$(a).val(),t=0===e.length||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e);return t},Integer:function(a){var e=$(a).val(),t=0===e.length||/^-?\d+$/.test(e);return t},Alpha:function(a){var e=$(a).val(),t=0===e.length||!/[^a-z]/gi.test(e);return t},AlphaNumeric:function(a){var e=$(a).val(),t=0===e.length||!/[^a-z0-9]/gi.test(e);return t},PatternMatch:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=RegExp($(a).data("validatePattern"),$(a).data("validatePatternOptions").replace(/!/g,""));t=n.test(e),$(a).data("validatePatternOptions").indexOf("!")>=0&&(t=!t)}return t},ValueRange:function(a){var e=$(a).val(),t=0===e.length;if(!t&&(t=!1,/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e))){var n=spa.toFloat(e),i=(" "+($(a).data("validateRange")||"")+": ").split(":"),s=!spa.isBlank(i[0]),r=!spa.isBlank(i[1]),l=spa.toFloat(i[0]),o=spa.toFloat(i[1]);s&&r?t=n>=l&&o>=n:s?t=n>=l:r&&(t=o>=n)}return t},LengthMin:function(a){var e=$(a).val(),t=spa.toInt($(a).data("minlength")||$(a).attr("minlength")),n=e.length>=t;return n},LengthMax:function(a){var e=$(a).val(),t=spa.toInt($(a).data("maxlength")),n=t>=e.length;return n},Lengths:function(a){var e=$(a).val(),t=e.length,n=spa.toInt($(a).data("minlength")||$(a).attr("minlength")),i=spa.toInt($(a).data("maxlength")),s=t>=n&&i>=t;return s},WordSize:function(a){var e=$(a).val(),t=_.max(_.map((""+e).replace(/[-\n]/g," ").split(" "),function(a){return a.length})),n=spa.toInt($(a).data("validWordSize"))||20,i=n>=t;return i},Email:function(a){var e=$(a).val(),t=0===e.length;return t||(t=(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)||/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))&&/[a-z0-9]/i.test(e[e.length-1])),t},Url:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)),t},Date:function(a){var e=$(a).val(),t=0===e.length;if(!t){t=!1;var n,i,s,r,l=["","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],o=["","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],d=$(a).data("validateFormat")||"YMD",u="^\\d{1,2}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{4}$",F=e.replace(/[^a-z]/gi,"");F&&(r=_.indexOf(l,F.toUpperCase()),0>=r&&(r=_.indexOf(o,F.toUpperCase())),r>0&&(e=e.replace(RegExp(F,"gi"),r))),e=e.replace(/[^0-9]/g," ").normalizeStr().replace(/ /g,"/");var f=e.split("/");switch(d.toUpperCase()){case"YMD":u="^\\d{4}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{1,2}$",n=f[0],i=f[1],s=f[2];break;case"MDY":i=f[0],s=f[1],n=f[2];break;case"DMY":s=f[0],i=f[1],n=f[2]}if(RegExp(u,"").test(e)){s=parseInt(s,10),i=parseInt(i,10),n=parseInt(n,10);var p=new Date(n,i-1,s);t=p.getFullYear()===n&&p.getMonth()===i-1&&p.getDate()===s}}return t},CardNo:function(a){var e=$(a).val(),t=0===e.length;if(!t)if(/[^0-9 \-]+/.test(e))t=!1;else{for(var n=0,i=0,s=!1,r=e.replace(/\D/g,""),l=r.length-1;l>=0;l--){var o=r.charAt(l);i=parseInt(o,10),s&&(i*=2)>9&&(i-=9),n+=i,s=!s}t=0===n%10}return t},IPv4:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)&&_.every(e.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0})),t},IPv6:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)),t},IP:function(a,e){var t=$(a).val(),n=0===t.length;if(!n){var i=t,s=spa.toInt($(a).data("validateIpaddressOctates")||4)-1,r=RegExp("^(([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))\\.){"+s+"}([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))$","g");n=r.test(i)&&_.every(i.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0}),spa._validate._showValidateMsg(a,e,n);var l=$(a).data("validateIpaddressClass");if(n&&l){var o=i.split("."),d={A:{oct1:{B:0,E:127},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:1,E:255}},B:{oct1:{B:127,E:192},oct2:{B:1,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}},C:{oct1:{B:191,E:224},oct2:{B:0,E:256},oct3:{B:1,E:256},oct4:{B:1,E:255}},D:{oct1:{B:223,E:240},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:256}},E:{oct1:{B:239,E:255},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}}};n=1*o[0]>d[l].oct1.B&&d[l].oct1.E>1*o[0]?1*o[1]>=d[l].oct2.B&&d[l].oct2.E>1*o[1]?1*o[2]>=d[l].oct3.B&&d[l].oct3.E>1*o[2]?1*o[3]>d[l].oct4.B&&d[l].oct4.E>1*o[3]?!0:!1:!1:!1:!1,spa._validate._showValidateMsg(a,e,n)}}return n},Subnet:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=RegExp("^((128|192|224|240|248|252|254)\\.0\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0)|255\\.(0|128|192|224|240|248|252|254)))))$");t=n.test(e)&&_.every(e.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0})}return t},PhoneUS:function(a){var e=$(a).val(),t=0===e.length;return t||(t=e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)),t},Compare:function(a){var e=!0,t=$(a).val(),e=0===t.length;if(!e){var n,i=$(a),s=i.data(),r=spa.toJSON(s.validateCompare||"{}");if(!spa.isBlank(r)&&r.target){n=$(r.target);var l=r.valid||"=",o=spa.getElValue(a),d=spa.getElValue(n);if(("number".equalsIgnoreCase(r.type)||l.indexOf("<")>=0||l.indexOf(">")>=0)&&(o=spa.toFloat(o),d=spa.toFloat(d)),"date".equalsIgnoreCase(r.type));else switch(l){case"!=":e=o!=d;break;case"!==":e=o!==d;break;case"===":e=o===d;break;case">":e=o>d;break;case"<":e=d>o;break;case">=":e=o>=d;break;case"<=":e=d>=o;break;default:e=o==d}}}return e}},_showValidateMsg:function(a,e,t,n,i){e=e||"",arguments.length>2&&_.isString(t)&&(n=t),arguments.length>2&&_.isBoolean(t)&&t&&(e=""),n=n||spa._validate._validateAlertTemplate;var s=!n.beginsWithStrIgnoreCase("<"),r=$(a),l=r.parent(),o=r.data("errorClassTarget"),d=o?r.closest(o):l,u=r.data("errorPosition");a=r.get(0),spa._validate._isOnOfflineValidation||(d.removeClass("has-error-msg no-error-msg")[t===!1?"addClass":"removeClass"]("validation-error "+(e?"has-error-msg":"no-error-msg")),i||spa.updateTrackFormCtrls(a.form));var F=s?$(n):r.next();!s&&u&&("first".equalsIgnoreCase(u)?F=l.children().first():"last".equalsIgnoreCase(u)&&(F=l.children().last()));var f="",p="",c="";return $(F).attr("class")===$(n).attr("class")||s?(e.beginsWithStrIgnoreCase("i18n:")&&(f=(e.getLeftStr("|")||e).replace(/i18n:/gi,""),c=e.getRightStr("|"),p="{html:'"+f+"'}",e=spa.i18n.text(f,spa.toJSON(c))),spa._validate._isOnOfflineValidation||($(F).attr("data-i18n",p).data("i18n",p),$(F).attr("data-i18n-data",c).data("i18nData",c),$(F).html(e))):spa.isBlank(e)||(u?"first".equalsIgnoreCase(u)?$(n).prependTo(l):"last".equalsIgnoreCase(u)?$(n).appendTo(l):$(n).insertAfter(r):$(n).insertAfter(r),spa._validate._showValidateMsg(a,e,t,n)),t},_getValidationClassTarget:function(a){var e=$(a),t=e.data("errorClassTarget");return t?e.closest(t):e.parent()},_addValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).addClass(e)},_removeValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).removeClass(e)},_deferValidate:function(){return!0},_registerPromise:function(a,e,t,n){var i=!spa.isBlank(a);if(i){var s=$(e),r=s.data("promises")||"",l=0>r.indexOf("["+a+"]");l&&(spa.console.log("validating promise: "+a),r+="["+a+"]",s.attr("data-promises",r).data("promises",r),spa._validate._addValidationClass(s,"validation-pending"),spa.is(t,"function")&&t.call(s,s,n,a))}return i},expose:function(a){return a=a||{},Object.keys(spa._validateDefaults).forEach(function(e){a[e]=spa._validate._fn[spa._validateDefaults[e]]}),a}};var _check=spa._validate.expose();spa.initValidation=spa.initDataValidation=function(a){spa.console.log(">>>>> initDataValidation request for context:"+a);var e=function(a){return a=a||{},_.each(_.keys(a),function(e){0==e.indexOf("on")&&e.indexOf("_")>0&&(_.each(e.split("_"),function(t){0>t.indexOf("on")&&(t="on"+t),a[t]?_.isArray(a[t])?a[t].push(a[e]):a[t]=[a[t],a[e]]:a[t]=[a[e]]}),delete a[e])}),a};a=a||"body";var t=$(a),n=t.data("validateElFilter")||"",i=e(spa.toJSON(t.data("validateCommon")||"{}")),s=_.merge({},i.onFocus);spa.console.log("commonValidateRules");var r={fn:_check.promise};spa.isBlank(s)?i.onFocus=r:(spa.is(s,"array")||(s=[s]),s.push(r)),i.onFocus=s,spa.console.log(i);var l,o,d,u,F,f=(t.data("validateForm")||t.data("validateScope")||"").replace(/onRender/i,"").replace(/[^a-zA-Z0-9]/g,"");if(spa.isBlank(f)){var p=a.replace(/[^a-zA-Z0-9]/g,"");f=p}spa.console.log("offlineValidationKey: "+f);var c=!spa.isBlank(f);c&&(spa.console.log("resetting the rules for "+f),spa._validate._offlineValidationRules[f]={rules:{}}),spa.console.log(f,spa._validate._offlineValidationRules[f]),t.find(n+"[data-validate]").each(function(a,t){var n=$(t).prop("id"),s={},r=$(t).data("validate");if(r&&0>r.indexOf("{")){var p=($(t).data("validateEvents")||"onBlur").replace(/[^a-z]/gi," ").normalizeStr().replace(/ /g,"_"),v=",offline:"+($(t).data("validateOffline")||"false"),g="{fn:"+r.replace(/[,;]/," ").normalizeStr().replace(/ /g,v+"},{fn:")+v+"}";r="{"+p+":["+g+"]}"}s=e(spa.toJSON(r)),spa.console.log(r),_.each(_.keys(i),function(a){var e=i[a];_.isArray(e)||(e=[e]),e.reverse(),_.each(e,function(e){if(l=!0,o="<",u=e.offline||!1,d=!1,e.el){var t=e.el.replace(/ /g,"").split(","),i=e.el.replace(/[< >!]/g,"").split(","),r=_.indexOf(i,n);l=r>=0,l&&(o=t[r].indexOf(">")>=0?">":"<",d=t[r].indexOf("!")>=0)}else e.ex&&(l=0>_.indexOf(e.ex.replace(/[< >!]/g,"").split(","),n));l&&(F=_.omit(e,["el","ex"]),d&&(F=_.extend(F,{offline:!u})),s[a]||(s[a]=[]),s[a]="<"===o?_.union([F],s[a]):_.union(s[a],[F]))})}),_.each(_.keys(s),function(a){var e=a.substring(2,3).toLowerCase()+a.substring(3);spa.console.log("settingup event on["+e+"]..."),_.isArray(s[a])||(s[a]=[s[a]]),spa.console.log(s),c&&_.each(s[a],function(a){spa.is(a,"array")||(a=[a]),_.each(a,function(a){if(a.offline&&!a.promise){var e={fn:a.fn,msg:a.msg};spa._validate._offlineValidationRules[f].rules[n]||(spa._validate._offlineValidationRules[f].rules[n]=[]),0>_.indexOf(spa._validate._offlineValidationRules[f].rules[n],e)&&spa._validate._offlineValidationRules[f].rules[n].push(e)}})}),spa.console.log("registering an event: "+a),a.beginsWithStrIgnoreCase("on")&&!"test".equalsIgnoreCase(e)&&$(t).on(e,function(){var e,t,n,i=this;_.every(s[a],function(a){return _.isArray(a)?_.every(a,function(a){return e=a.fn,spa.is(e,"string")&&(e=spa.findSafe(window,e)),spa.is(e,"function")||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(i).data("validateMsg")||"",spa._validate._registerPromise(a.promise,i,e,t)&&(e=spa._validate._deferValidate),n=spa.is(e,"function")?e.call(i,i,t):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,t,n),n}):(e=a.fn,spa.is(e,"string")&&(e=spa.findSafe(window,e)),spa.is(e,"function")||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(i).data("validateMsg")||"",spa._validate._registerPromise(a.promise,i,e,t)&&(e=spa._validate._deferValidate),n=spa.is(e,"function")?e.call(i,i,t):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,t,n),n)})})})})},spa.validateForm=spa.validate=spa.doDataValidation=function(a,e,t){var n;spa.is(arguments[1],"string")&&(n="#"+arguments[1].replace(/[ #]/g,"").replace(/,/g,",#")+",",e=arguments[2],t=arguments[3]);var i,s=a.replace(/[^a-zA-Z0-9]/g,""),r="#"+a.replace(/#/g,""),l=$(r),o=[];if(spa._validate._offlineValidationRules[s]){var d=spa._validate._offlineValidationRules[s].rules,u=function(a){var e,t,n,i=l.find("#"+a),s=i[0],r=spa.toBoolean(i.data("ignoreValidationIfInvisible"))&&!i.is(":visible");return r||(r=_.every(d[a],function(a){if(t=a.fn,spa.is(t,"string")&&(t=spa.findSafe(window,t)),spa.is(t,"function")||console.error("data-validate-function Not Found: "+a.fn),e=a.msg||i.data("validateMsg")||"",n=spa.is(t,"function")?t.call(s,s,e):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,e,n,"",!0),!n){var r={errcode:2,el:s,fn:a.fn,msg:e};o.push(r)}return n})),r};if($.isEmptyObject(d))o={errcode:1,errmsg:"Rules not found in scope ["+a+"]."};else{var F=_.keys(d);n&&(F=_.map(F,function(a){return n.indexOf("#"+a+",")>=0?a:""})),spa._validate._isOnOfflineValidation=!e,i=_.every(F,function(a){return a?u(a)||t:!0}),spa._validate._isOnOfflineValidation=!1}}else l.is("[data-validate-form]")&&(o={errcode:1,errmsg:"Scope not found."});return o},spa.updateValidation=function(a,e,t,n){$(a).each(function(a,i){spa._validate._showValidateMsg(i,e,t,n)})},spa.updateValidationPromise=function(a,e,t,n,i){var s,r,l=$(e);l.each(function(e,l){s=$(l),_.each(a.split(","),function(a){r=(s.data("promises")||"").replace("["+a.trim()+"]",""),s.attr("data-promises",r).data("promises",r),spa.isBlank(r)&&spa._validate._removeValidationClass(s,"validation-pending")}),spa._validate._showValidateMsg(l,t,n,i)})};

