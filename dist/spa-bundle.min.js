/*@license SPA.js (bundle-v2.75.0-RC7) [MIT|https://github.com/sucom/SPA.js/blob/master/LICENSE]*//*build-v20191226.225751*/; 
/*@license SPA.js (Handlebars Helpers) [MIT]*/
!function(){var O=Array.prototype;function E(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function C(e,t){return 0<=(""+t).toLowerCase().indexOf(E(e))}function n(e,t){function n(e,t){for(var n=t.split(","),r="",a=0,o=!0,i=0;i<n.length;i++)(r=n[i].trim())&&(a++,o=o&&e.hasOwnProperty(r));return a&&o}var r=!1;if(C(e,"object")&&t)switch(!0){case 0<(t=""+t).indexOf("&"):r=n(e,t.replace(/\&/g,","));break;case 0<t.indexOf("|"):r=function(e,t){for(var n=t.split(","),r="",a=0,o=!1,i=0;i<n.length&&((r=n[i].trim())&&(a++,o=o||e.hasOwnProperty(r)),!o);i++);return a&&o}(e,t.replace(/\|/g,","));break;default:r=n(e,t)}return r}function a(e,t){return!!(C(e,"object")&&n(e,"name,hash,data")&&n(e.data,"root"))&&(!t||e.name==t)}function M(e){return a(e)&&n(e,"fn,inverse")}function S(e){return a(e)&&Object.keys(e.hash).length}function D(e,t){var n=S(e)?e.hash:{};return t?(Object.keys(n).forEach(function(e){t[e]=C(n[e],"string")?n[e].trim():n[e]}),t):n}function w(e,t){var n=S(e)?e.hash:{};return t?(Object.keys(n).forEach(function(e){t[e]=n[e]}),t):n}function e(){if(arguments.length<2)throw console.error("missing argument(s)"),new Error("missing argument(s)");for(var s,e,t,c=O.splice.call(arguments,arguments.length-1,1)[0],u=c.data.root||{},f=c.hasOwnProperty("fn")||c.hasOwnProperty("inverse"),n=":if"==c.name,r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return t<e},"<=":function(e,t){return e<=t},">=":function(e,t){return t<=e},":typeof":function(e,t){return typeof e===t},":instanceof":function(e,t){return E(e).toLowerCase()===(""+t).trim().toLowerCase()},":is":function(e,t){return E(e).toLowerCase()===(""+t).trim().toLowerCase()},"=ic":function(e,t){return(""+e).toLowerCase()==(""+t).toLowerCase()},"!=ic":function(e,t){return(""+e).toLowerCase()!=(""+t).toLowerCase()},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}},a=Object.keys(r),o=O.slice.call(arguments),i=0;i<o.length;i++)if("string"===E(o[i])&&(t=o[i],s=0<=a.indexOf(t)?i:0)){e=o[i];break}if(n&&(!f||!C(o[0],"function")&&!s))throw new Error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}");if(s){var l=o.slice(0,s),p=o.slice(s+1),d=m.apply(void 0,l),h=m.apply(void 0,p),g=r[e](d,h);if(f){var y,b=d,v=h;return S(c)&&(y=w(c))&&((y.hasOwnProperty("thenWith")||y.hasOwnProperty("with")||y.hasOwnProperty("thenContext")||y.hasOwnProperty("context")||y.hasOwnProperty("thenData")||y.hasOwnProperty("data"))&&(b=y.thenWith||y.with||y.thenContext||y.context||y.thenData||y.data),(y.hasOwnProperty("elseWith")||y.hasOwnProperty("with")||y.hasOwnProperty("elseContext")||y.hasOwnProperty("context")||y.hasOwnProperty("elseData")||y.hasOwnProperty("data"))&&(v=y.elseWith||y.with||y.elseContext||y.context||y.elseData||y.data)),g?c.fn(b):c.inverse(v)}return g}return m.apply(void 0,arguments);function m(){var r,a,o=O.slice.call(arguments);function i(t){if(void 0===r)r=t;else{var e=E(t);switch(E(r)){case"array":switch(e){case"array":r=r.concat(t);break;default:r.push(t)}break;case"object":switch(e){case"array":for(var n=0;n<t.length;n++)r[n]=t[n];break;case"object":Object.keys(t).forEach(function(e){r[e]=t[e]});break;default:r["_"+(Object.keys(r).length+1)]=t}break;default:switch(e){case"object":t=JSON.stringify(t);break;case"array":t=t.join()}r+=" "+t}}}if(o.forEach(function(e,t){if(!a)switch(E(e)){case"function":var n=o.slice(t+1);n.push(u);var r=e.apply(void 0,n);f?s?i(r):"boolean"===E(r)?i(r?c.fn(r):c.inverse(r)):i(c.fn(r)):i(r),a=!0;break;case"array":f?s?i(e):e.length?e.forEach(function(e){i(c.fn(e))}):i(c.inverse(u)):i(e);break;case"object":f?s?i(e):Object.keys(e).length?i(c.fn(e)):i(c.inverse(u)):i(e);break;default:i(f?s?e:e?c.fn(u):c.inverse(u):e)}}),f)return r;switch(E(r)){case"object":return JSON.stringify(r);case"array":return r.join();default:return r}}}function B(e){return E(e)}function o(e,t){var n=arguments[arguments.length-1],r=a(t)?"undefined":t;return M(n)?C(e,r)?n.fn(e):n.inverse(e):C(e,r)}function t(e){return(""+(e||"")).toLowerCase()}function r(e){return(""+(e||"")).toUpperCase()}function i(e){return(""+(e||"")).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})}function s(e){return(""+e).charAt(0).toLowerCase()+(""+e).slice(1)}function c(e){return d(e).replace(/\s+/g," ")}function u(e){return e=(e=(""+e).replace(/[^+-0123456789.]/g,"")).trim().length?0<=e.indexOf(".")?e.substring(0,e.indexOf(".")):e:"0",parseInt(1*e,10)}function f(e){return e=(e=(""+e).replace(/[^+-0123456789.]/g,"")).trim().length?e:"0",parseFloat(1*e)}function l(e){switch(E(e)){case"object":return JSON.stringify(e);case"array":return e.join();default:return""+e}}function p(e){switch(E(e)){case"function":return!0;case"object":return 0<Object.keys(e).length;case"array":return 0<e.length;default:var t=!0;switch((""+e).trim().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":t=!1}return t}}function d(e,t){return e=l(e),C(t,"string")?h(g(e,t),t):e.trim()}function h(e,t){return e=l(e),C(t,"string")||(t=""),e.replace(new RegExp("^["+(t||"\\s")+"]+","g"),"")}function g(e,t){return e=l(e),C(t,"string")||(t=""),e.replace(new RegExp("["+(t||"\\s")+"]+$","g"),"")}function y(e,t){return e=l(e),C(t,"string|number")||(t=0),"string"==typeof t&&(t=e.indexOf(t)),(t=u(t))?e.substr(0,t):""}function b(e,t){e=l(e),C(t,"string|number")||(t=0);var n=1;return"string"==typeof t&&(n=t.length,t=e.indexOf(t)),(t=u(t))<0?"":e.substr(t+n)}function v(e){var t=arguments[arguments.length-1];return M(t)?void 0===e?t.fn(e):t.inverse(e):void 0===e}function m(e){var t;if(v(e)||null===e)t=!0;else switch(E(e)){case"undefined":case"null":t=!0;break;case"function":t=!1;break;case"object":t=0==Object.keys(e).length;break;case"array":t=0==e.length;break;case"boolean":t=e;break;case"number":t=0==e;break;case"string":t=0==e.trim().length;break;default:t=!1}var n=arguments[arguments.length-1];return M(n)?t?n.fn(e):n.inverse(e):!!t}function P(e,t){var n=[];return m(e)||(n=t?e.split(t):0<e.indexOf(",")?e.split(","):0<e.indexOf("|")?e.split("|"):0<e.indexOf(" ")?e.split(" "):0<e.indexOf("-")?e.split("-"):[e]),n}function I(e){var t;return C(e,"string")&&(e=e.trim())&&(C(t=T(window,e),"function")||(t=void 0)),t}function x(n,e){var r,t,a,o,i=arguments[arguments.length-1],s="",c={sortOn:"",sortBy:"",splitBy:",",alias:"",fnFilter:"",fnEmpty:"",fnEnd:"",fnError:""},u=!1,f=0;if(S(i)&&(c=D(i,c),r=I(c.fnFilter),t=I(c.fnEmpty),a=I(c.fnEnd),o=I(c.fnError)),M(i)){switch(B(n)){case"string":n=P(n,c.splitBy);case"array":if(c.sortOn||c.sortBy){var l="sortOn:"+c.sortOn.trim()+";sortBy:"+(c.sortBy||"asc").trim();n=N(n,l)}case"object":if(m(n))s+=i.inverse(n);else{var p,d=C(e,"string")&&e.trim()?P(e):c.alias?P(c.alias):["",""],h=(d[0]||"").trim(),g=(d[1]||"").trim(),y=g||"index";u=!0,Object.keys(n).forEach(function(e,t){c.key=e,p=h?{}:n[e],h&&(h&&(p[h]=n[e]),g&&(p[g]=e)),r?(c[y+"Src"]=t,r.call(void 0,p)&&(c[y]=f++,s+=i.fn(p,{data:c}))):(c[y]=f++,s+=i.fn(p,{data:c}))})}break;default:o&&o.call(void 0,n),s+=i.inverse(n)}return u&&(f?a&&a.call(void 0,n):(t&&t.call(void 0,n),s+=i.inverse(n))),s}return n}function k(){return e.apply(void 0,arguments)?"disabled":""}function j(){return e.apply(void 0,arguments)?"":"disabled"}function L(e){if(C(e,"number"))return!0;if(C(e,"string")){var t=e.replace(/[0-9]/g,"").trim();return 0<e.length&&(""==t||1<e.length&&"."==t)}return!1}function T(e,t,n){return spa.findInObject(e,t,n)}function N(e,t){var n,r,a=arguments[arguments.length-1],o=[],i={sortOn:"",sortBy:"asc",splitBy:","};function s(e,t){return e<t?-1:t<e?1:0}if(S(a)?i=D(a,i):C(t,"string")&&P(t,";").forEach(function(e){var t=e.split(":");i[t[0].trim()]=C(t[1],"undefined")?"":t[1].trim()}),n="asc"==i.sortBy.toLowerCase(),r=i.sortOn||"",C(e,"string")&&0<e.length&&(e=P(e,i.splitBy)),C(e,"array")&&0<e.length){if(1==e.length)o=e;else switch(E(e[0])){case"number":o=e.sort(function(e,t){return e-t});break;case"string":o=L(e[0])?e.sort(function(e,t){return 1*e-1*t}):e.sort();break;case"boolean":o=e.sort(function(e,t){return s(e,t)});break;case"object":if(r)switch(E(T(e[0],r))){case"number":o=e.sort(function(e,t){return T(e,r)-T(t,r)});break;case"string":o=L(T(e[0],r))?e.sort(function(e,t){return 1*T(e,r)-1*T(t,r)}):e.sort(function(e,t){return s(T(e,r),T(t,r))});break;case"boolean":o=e.sort(function(e,t){return s(T(e,r),T(t,r))});break;default:o=e}else o=e;break;default:o=e}n||(o=o.reverse())}return M(a)?o.length?a.fn(o):a.inverse(e):o}function F(){var t,e=O.pop.call(arguments);function n(e){if(!C(e,"undefined|null"))switch(E(t)){case"undefined":case"null":t=e;break;case"array":switch(E(e)){case"array":t=t.concat(e);break;default:t.push(e)}break;case"object":switch(E(e)){case"object":t=function n(){var r={},e=0,t=arguments.length;function a(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&("[object Object]"===Object.prototype.toString.call(e[t])?r[t]=n(r[t],e[t]):r[t]=e[t])}for(;e<t;e++)a(arguments[e]);return r}(t,e);break;default:t.hasOwnProperty("__joined__")?t.__joined__.push(e):t.__joined__=[e]}break;default:switch(E(e)){case"array":e.length&&(t+=e.join());break;case"object":Object.keys(e).length&&(t+=JSON.stringify(e));break;default:t+=""+e}}}return O.forEach.call(arguments,function(e){n(e)}),M(e)?e.fn(t):t}function _(){var e=s(O.pop.call(arguments).name.replace(/:console/g,""));"time"==e&&arguments.length&&console.log.apply(void 0,arguments),0==e.indexOf("mem")?console.log(console.memory):console[e].apply(void 0,arguments)}"undefined"!=typeof Handlebars&&Handlebars&&Handlebars.registerHelper({":":e,":if":e,":is":o,":isEmpty":m,":ofType":B,":?":function(e,t,n){return p(e)?t:n},":ifEmpty":function(e,t,n){return m(e)?t:C(n,"object")&&":ifEmpty"==n.name?e:n},":ifNotEmpty":function(e,t,n){return m(e)?C(n,"object")&&":ifNotEmpty"==n.name?e:n:t},":of":function(e,t){var n=arguments[arguments.length-1],r=o(e,"array|object")?T(e,t):e;return M(n)?void 0!==r?n.fn(r):n.inverse(r):r},":each":x,":forEach":x,":split":function(e,t){var n=arguments[arguments.length-1],r=P(e,o(t,"string")?t:void 0);return M(n)?m(r)?n.inverse(e):n.fn(r):r},":sort":N,":join":F,":merge":F,":joinWithStr":function(){var e=O.pop.call(arguments),t=O.shift.call(arguments),n=O.join.call(arguments,t);return M(e)?e.fn(n):n},":fn":function(){var e,t,n,r=O.pop.call(arguments),a=O.shift.call(arguments),o=I(a);return o&&(a.match("]$")?e=a.substring(0,a.lastIndexOf("[")):0<a.indexOf(".")&&(e=a.substring(0,a.lastIndexOf("."))),t=e?T(window,e):window,n=o.apply(t,arguments)),M(r)?C(n,"undefined")||C(n,"boolean|number|string")&&!n||C(n,"array|object")&&spa.isBlank(n)?r.inverse(n):r.fn(n):n},":jsonify":function(){var e=O.pop.call(arguments),t=O.shift.call(arguments),r={},g=O.splice.call(arguments,0);return C(t,"string")&&P(t,";").forEach(function(e){var t=y(e,":").trim(),n=b(e,":").trim();t&&(n=function t(e){e=e.trim();if(!e.length)return e;var n=e[0],r=e;switch(!0){case"true"==e:r=!0;break;case"false"==e:r=!1;break;case L(e):r=1*e;break;case"["==n:e=e.substring(1,e.lastIndexOf("]"))+",";case 0<e.indexOf(",")&&e.indexOf("{")<0:var a=[];e.split(",").forEach(function(e){""!=(e=e.trim())&&a.push(t(e))}),r=a;break;case"{"==n:e=e.substring(1,e.lastIndexOf("}"));var o,i,s={};e.split(",").forEach(function(e){e=e.trim(),o=y(e,":").trim(),i=b(e,":").trim(),o&&(s[o]=t(i))}),r=s;break;case"@"==n&&"["!=e[1]:var c=e.substring(1,e.indexOf("."));if(L(c)){r=g[c];var u=0<e.indexOf(".")?e.substr(e.indexOf(".")+1):"";u&&C(r,"array|object")&&(r=T(r,u))}}if(C(r,"string")&&0<=r.indexOf("@[")){var f,l,p,d,h=r.match(/(@\[\s*(.*?)\s*])/g);h&&h.forEach(function(e){f=e.replace(/@\[/,"").replace(/]/,""),l=f.substring(0,f.indexOf(".")),p="",L(l)&&(p=g[l],(d=0<f.indexOf(".")?f.substr(f.indexOf(".")+1):"")&&C(p,"array|object")&&(p=T(p,d))),r=r.replace(new RegExp(e.replace(/\[/,"\\["),"g"),p)})}return r}(n),r[t]=n)}),M(e)?e.fn(r):r},":jsonParse":function(){var t=O.pop.call(arguments),e=Array_.shift.call(arguments),n={};if(C(e,"string"))try{n=JSON.parse(e)}catch(e){if(M(t))return t.inverse(e)}return M(t)?t.fn(n):n},":consoleClear":_,":consoleLog":_,":consoleWarn":_,":consoleInfo":_,":consoleError":_,":consoleGroup":_,":consoleGroupEnd":_,":consoleGroupCollapsed":_,":consoleMem":_,":consoleMemory":_,":consoleProfile":_,":consoleProfileEnd":_,":consoleTable":_,":consoleTime":_,":consoleTimeEnd":_,":options":function(t,e){var a,o,i,n,r,s,c,u,f,l,p,d=arguments[arguments.length-1],h="",g=-1,y={value:"",text:"",value_text:"",splitBy:",",vtSplit:"",sortOn:"",sortBy:"",fnFilter:"",fnEmpty:"",fnEnd:"",selIndex:"",selValue:"",selText:""},b=[],v=[],m=[],O="",w=[];function x(e,t){w.push({value:e,text:t})}function k(e,t){return g++,'<option value="'+e+'" '+(n=e,r=t,a&&0<=b.indexOf(""+g)||o&&0<=v.indexOf(""+n)||i&&0<=m.indexOf(""+r)?"selected":"")+">"+t+"</option>";var n,r}switch(C(e,"string")&&P(e,";").forEach(function(e){var t=e.split(":");y[t[0].trim()]=C(t[1],"undefined")?"":t[1].trim()}),S(d)&&(y=D(d,y)),b=y.selIndex?P(y.selIndex):[],v=y.selValue?P(y.selValue):[],m=y.selText?P(y.selText):[],a=b.length,o=v.length,i=m.length,O=y.value||y.value_text,f=y.text||y.value_text,l=(y.vtSplit||"").replace(/colon/gi,":"),p="index"==O.toLowerCase(),n=y.sortOn.trim(),(r=y.sortBy.trim())&&!n&&(n="text"),n&&!r&&(y.sortBy="asc"),s=I(y.fnFilter),c=I(y.fnEmpty),u=I(y.fnEnd),C(t,"string")&&(t=P(t,y.splitBy)),B(t)){case"object":Object.keys(t).forEach(function(e){x(e,t[e])});break;case"array":t.forEach(function(t,e){switch(E(t)){case"object":var n=Object.keys(t);O&&f?x(t[O],t[f]):1==n.length&&n.forEach(function(e){x(e,t[e])});break;case"string":if(p){x(e,t);break}t=l?t.split(l):[t];case"array":O&&f?x(t[O],t[f]):1==t.length?x(t[0],t[0]):1<t.length&&x(t[0],t[1]);break;default:x(p?e:t,t)}})}if(s&&w.length){var j=[];w.forEach(function(e,t){e.index=t;var n=s.call(void 0,e);n&&j.push(C(n,"object")?n:e)}),w=j}if(w.length){if(n||r)w=N(w,"sortOn:"+n+";sortBy:"+r);w.forEach(function(e){h+=k(e.value,e.text)}),u&&u.call(void 0,w,t)}else c&&c.call(void 0,w,t);return M(d)?h?d.fn(new Handlebars.SafeString(h)):d.inverse(this):new Handlebars.SafeString(h)},":checkedIf":function(){return e.apply(void 0,arguments)?"checked":""},":checkedIfNot":function(){return e.apply(void 0,arguments)?"":"checked"},":enabledIf":j,":enabledIfNot":k,":disabledIf":k,":disabledIfNot":j,":selectedIf":function(){return e.apply(void 0,arguments)?"selected":""},":selectedIfNot":function(){return e.apply(void 0,arguments)?"":selected},":lower":t,":lowerCase":t,":toLowerCase":t,":lowerCaseOf":t,":upper":r,":upperCase":r,":toUpperCase":r,":upperCaseOf":r,":title":i,":titleCase":i,":toTitleCase":i,":titleCaseOf":i,":capitalize":function(e){return(""+e).charAt(0).toUpperCase()+(""+e).slice(1)},":unCapitalize":s,":normalize":c,":normalizeStr":c,":int":u,":toInt":u,":intOf":u,":float":f,":toFloat":f,":floatOf":f,":toStr":l,":toString":l,":toBool":p,":toBoolean":p,":trim":d,":trimStr":d,":trimLeft":h,":trimLeftStr":h,":trimRight":g,":trimRightStr":g,":replace":function(e){var t=arguments[arguments.length-1],n={searchStr:"",replaceStr:"",rxPattern:"",rxOption:""};return S(t)&&(n=w(t,n)),n.rxPattern?(""+e).replace(new RegExp(n.rxPattern,n.rxOption),n.replaceStr):(""+e).replace(n.searchStr,n.replaceStr)},":getLeftStr":y,":getRightStr":b,":dateNowMs":function(){return""+(new Date).getTime()},":dateNow":function(e){var t=new Date;if(!C(e,"string"))return""+t;var n=e,r=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Su","Mo","Tu","We","Th","Fr","Sa"];function c(e){return(9<e?"":"0")+e}var u={YYYY:t.getFullYear(),YY:t.getFullYear(),Y:t.getFullYear(),Mmmm:r[t.getMonth()],MMMM:r[t.getMonth()].toUpperCase(),Mmm:a[t.getMonth()],MMM:a[t.getMonth()].toUpperCase(),"0M":c(t.getMonth()+1),MM:t.getMonth()+1,Dddd:o[t.getDay()],DDDD:o[t.getDay()].toUpperCase(),Ddd:i[t.getDay()],DDD:i[t.getDay()].toUpperCase(),Dd:s[t.getDay()],DD:s[t.getDay()].toUpperCase(),"0d":c(t.getDate()),dd:t.getDate(),"0h":c(t.getHours()),hh:t.getHours(),"0m":c(t.getMinutes()),mm:t.getMinutes(),"0s":c(t.getSeconds()),ss:t.getSeconds(),ms:t.getMilliseconds()};return Object.keys(u).forEach(function(e){n=n.replace(e,u[e])}),n},":moment":function(e,t,n){return"undefined"==typeof moment?(console.warn("Missing moment.js"),e):C(n,"string")?moment(e,t).format(n):a(n)?moment(e).format(t):a(t)?moment().format(e):a(e)?moment():void 0},":rand":function(e,t){return C(e,"number")||(e=1),C(t,"number")||(t=e+999),Math.floor(Math.random()*(t-e+1))+e},":randPwd":function(e,t){C(e,"number")||(e=8),C(t,"string")||(t=""),e=e||8;for(var n=t||"9a8b77C8D9E8F7G6H5I4J3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",r="",a=0;a<e;a++){var o=Math.floor(Math.random()*n.length);r+=n.charAt(o)}return r},":ifDefined":function(e){var t=arguments[arguments.length-1];return M(t)?void 0!==e?t.fn(e):t.inverse(e):void 0!==e},":ifUndefined":v,":bytesToSize":function(e){if(0==e)return"0";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return parseFloat(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB"][t]}})}();
/*@license jQ-spa-i18n [MIT]*/
(function($){function callbackIfComplete(e){e.async&&(e.filesLoaded+=1,e.filesLoaded===e.totalFiles&&e.callback&&e.callback())}function loadAndParseFile(e,a){$.ajax({url:e,async:a.async,cache:a.cache,dataType:"text",success:function(e){parseData(e,a.mode),callbackIfComplete(a)},error:function(){console.log("Failed to download or parse "+e),callbackIfComplete(a)}})}function parseData(data,mode){for(var parsed="",parameters=data.split(/\n/),regPlaceHolder=/(\{\d+})/g,regRepPlaceHolder=/\{(\d+)}/g,unicodeRE=/(\\u.{4})/gi,i=0;parameters.length>i;i++)if(parameters[i]=parameters[i].replace(/^\s\s*/,"").replace(/\s\s*$/,""),parameters[i].length>0&&"#"!=parameters[i].match("^#")){var pair=parameters[i].split("=");if(pair.length>0){for(var name=decodeURI(pair[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),value=1==pair.length?"":pair[1];"\\"==value.match(/\\$/);)value=value.substring(0,value.length-1),value+=parameters[++i].replace(/\s\s*$/,"");for(var s=2;pair.length>s;s++)value+="="+pair[s];if(value=value.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"map"==mode||"both"==mode){var unicodeMatches=value.match(unicodeRE);if(unicodeMatches)for(var u=0;unicodeMatches.length>u;u++)value=value.replace(unicodeMatches[u],unescapeUnicode(unicodeMatches[u]));$.i18n.map[name]=value}if("vars"==mode||"both"==mode)if(value=value.replace(/"/g,'\\"'),checkKeyNamespace(name),regPlaceHolder.test(value)){for(var parts=value.split(regPlaceHolder),first=!0,fnArgs="",usedArgs=[],p=0;parts.length>p;p++)!regPlaceHolder.test(parts[p])||0!=usedArgs.length&&-1!=usedArgs.indexOf(parts[p])||(first||(fnArgs+=","),fnArgs+=parts[p].replace(regRepPlaceHolder,"v$1"),usedArgs.push(parts[p]),first=!1);parsed+=name+"=function("+fnArgs+"){";var fnExpr='"'+value.replace(regRepPlaceHolder,'"+v$1+"')+'"';parsed+="return "+fnExpr+";"+"};"}else parsed+=name+'="'+value+'";'}}eval(parsed)}function checkKeyNamespace(key){var regDot=/\./;if(regDot.test(key))for(var fullname="",names=key.split(/\./),i=0;names.length>i;i++)i>0&&(fullname+="."),fullname+=names[i],eval("typeof "+fullname+' == "undefined"')&&eval(fullname+"={};")}function getFiles(e){return e&&e.constructor==Array?e:[e]}function unescapeUnicode(e){var a=[],r=parseInt(e.substr(2),16);r>=0&&Math.pow(2,16)>r&&a.push(r);for(var t="",n=0;a.length>n;++n)t+=String.fromCharCode(a[n]);return t}$.i18n={},$.i18n.map={},$.i18n.properties=function(e){var a={name:"Messages",language:"",path:"",ext:".properties",mode:"vars",cache:!1,encoding:"UTF-8",async:!1,checkAvailableLanguages:!1,callback:null};e=$.extend(a,e),e.language=this.normaliseLanguageCode(e.language);var r=function(a){e.totalFiles=0,e.filesLoaded=0;var r=getFiles(e.name);if(e.async)for(var t=0,n=r.length;n>t;t++)if(e.language.length>=5){var s=e.language.substring(0,5);(0==a.length||-1!=$.inArray(s,a))&&(e.totalFiles+=1)}else{var l=e.language.substring(0,2);e.totalFiles+=0==a.length||-1!=$.inArray(l,a)?1:1}for(var i=0,g=r.length;g>i;i++)if(e.language.length>=5){var s=e.language.substring(0,5);(0==a.length||-1!=$.inArray(s,a))&&loadAndParseFile(e.path+r[i]+"_"+s+(e.ext||".properties"),e)}else{var l=e.language.substring(0,2);0==a.length||-1!=$.inArray(l,a)?loadAndParseFile(e.path+r[i]+"_"+l+(e.ext||".properties"),e):loadAndParseFile(e.path+r[i]+(e.ext||".properties"),e)}e.callback&&!e.async&&e.callback()};e.checkAvailableLanguages?$.ajax({url:e.path+"languages.json",async:e.async,cache:!1,success:function(e){r(e.languages||[])}}):r([])},$.i18n.prop=function(e){var a=$.i18n.map[e];if(null==a)return"["+e+"]";var r;2==arguments.length&&$.isArray(arguments[1])&&(r=arguments[1]);var t;if("string"==typeof a){for(t=0;-1!=(t=a.indexOf("\\",t));)a="t"==a.charAt(t+1)?a.substring(0,t)+"	"+a.substring(t++ +2):"r"==a.charAt(t+1)?a.substring(0,t)+"\r"+a.substring(t++ +2):"n"==a.charAt(t+1)?a.substring(0,t)+"\n"+a.substring(t++ +2):"f"==a.charAt(t+1)?a.substring(0,t)+"\f"+a.substring(t++ +2):"\\"==a.charAt(t+1)?a.substring(0,t)+"\\"+a.substring(t++ +2):a.substring(0,t)+a.substring(t+1);var n,s,l=[];for(t=0;a.length>t;)if("'"==a.charAt(t))if(t==a.length-1)a=a.substring(0,t);else if("'"==a.charAt(t+1))a=a.substring(0,t)+a.substring(++t);else{for(n=t+2;-1!=(n=a.indexOf("'",n));){if(n==a.length-1||"'"!=a.charAt(n+1)){a=a.substring(0,t)+a.substring(t+1,n)+a.substring(n+1),t=n-1;break}a=a.substring(0,n)+a.substring(++n)}-1==n&&(a=a.substring(0,t)+a.substring(t+1))}else if("{"==a.charAt(t))if(n=a.indexOf("}",t+1),-1==n)t++;else if(s=parseInt(a.substring(t+1,n)),!isNaN(s)&&s>=0){var i=a.substring(0,t);""!=i&&l.push(i),l.push(s),t=0,a=a.substring(n+1)}else t=n+1;else t++;""!=a&&l.push(a),a=l,$.i18n.map[e]=l}if(0==a.length)return"";if(1==a.length&&"string"==typeof a[0])return a[0];var g="";for(t=0;a.length>t;t++)g+="string"==typeof a[t]?a[t]:r&&r.length>a[t]?r[a[t]]:!r&&arguments.length>a[t]+1?arguments[a[t]+1]:"{"+a[t]+"}";return g},$.i18n.normaliseLanguageCode=function(e){return(!e||2>e.length)&&(e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"en"),e=e.toLowerCase(),e=e.replace(/-/,"_"),e.length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e};var cbSplit;cbSplit||(cbSplit=function(e,a,r){if("[object RegExp]"!==Object.prototype.toString.call(a))return cbSplit._nativeSplit===void 0?e.split(a,r):cbSplit._nativeSplit.call(e,a,r);var t,n,s,l,i=[],g=0,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":""),a=RegExp(a.source,u+"g");if(e+="",cbSplit._compliantExecNpcg||(t=RegExp("^"+a.source+"$(?!\\s)",u)),void 0===r||0>+r)r=1/0;else if(r=Math.floor(+r),!r)return[];for(;(n=a.exec(e))&&(s=n.index+n[0].length,!(s>g&&(i.push(e.slice(g,n.index)),!cbSplit._compliantExecNpcg&&n.length>1&&n[0].replace(t,function(){for(var e=1;arguments.length-2>e;e++)void 0===arguments[e]&&(n[e]=void 0)}),n.length>1&&e.length>n.index&&Array.prototype.push.apply(i,n.slice(1)),l=n[0].length,g=s,i.length>=r)));)a.lastIndex===n.index&&a.lastIndex++;return g===e.length?(l||!a.test(""))&&i.push(""):i.push(e.slice(g)),i.length>r?i.slice(0,r):i},cbSplit._compliantExecNpcg=void 0===/()??/.exec("")[1],cbSplit._nativeSplit=String.prototype.split),String.prototype.split=function(e,a){return cbSplit(this,e,a)}})(jQuery);
/**@license SPA.js (core) [MIT]*/
!function(){for(var e,t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=t.length,n=window.console=window.console||{};a--;)n[e=t[a]]||(n[e]=function(){});"none"in window||(window.none=""),"noop"in window||(window.noop=function(){})}(),function(){var e=this,ae=function(){};e.spa=e.__=e._$=ae,ae.VERSION="2.75.0-RC7";var t=Object.prototype.toString.call(window.app).slice(8,-1).toLowerCase();window.app&&/^html(.*)element$/i.test(t)&&(window.app={api:{}}),window.app=window.app||{api:{}},window.app.api=window.app.api||{};var ne,a=function(){try{var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}}catch(e){}return 0}(),n=document.documentMode||a,r=!n;function E(){}ae.isIE=n,ae.isNonIE=r,ae.noop=E;var o,i="hasOwnProperty,prototype,__proto__".split(",");function s(e){return-1<i.indexOf(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(){return Array.prototype.slice.call(arguments[0])}function d(e,t){ae.debug&&console[e]&&console[e].apply(null,t)}function p(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}function u(e){return(""+e).replace(/<\s*\/+\s*(\bscript\b)/gi,"&lt;/script&gt;</pre").replace(/<\s*(\bscript\b)/gi,"<pre>&lt;script")}function f(e){return u(e).replace(/\s+on([a-z])\s*=/gi," on=").replace(/javascript:/gi,"js:")}function h(e){switch(e){case"{":return"}";case"[":return"]";case"<":return">";default:return e}}function m(e){var t,a=e.trim();switch(!0){case t=a.replace(/[0-9]/g,""),!(!a.length||t.length&&"-"!=t&&"+"!=t&&"."!=t):return 1*a;case"true"==a||"false"==a:return"true"==a;case"{"==a[0]&&"}"==a[a.length-1]:return a.toJSON();case"["==a[0]&&"]"==a[a.length-1]:return("{xArr:"+a+"}").toJSON().xArr;default:return e}}function re(e){if(!ae.jsonDataSanityCheck)return!0;var t=e.indexOf("(");return!(0<=t&&e.indexOf(")",t)>t)||(console.warn("Insecured String with braces():",e),!1)}function oe(t,e){var a;if(de(t)){if(!re(a=t.trimStr().trimStr(",").trimStr(";")))return t;if(a.match(/^\</))return t;if(!(a.containsStr("{")||a.containsStr(":")||a.containsStr("\\[")||a.containsStr("'")||a.containsStr('"'))){if(a.containsStr(",")||a.containsStr(";"))return a.replace(/ /g,"").replace(/;/g,",").split(",");if(!e)return m(a);a="{"+e+":"+a+"}"}a.containsStr(":")&&!a.containsStr(",")&&a.containsStr(";")&&(a=a.replace(/\;/g,",")),a.beginsWithStr("{")||a.beginsWithStr("\\[")?a.beginsWithStr("{")&&!a.containsStr(":")&&a.containsStr("=")&&(a=""+a.replace(/=/g,":")):a=a.containsStr(":")?"{"+a+"}":a.containsStr("=")?"{"+a.replace(/=/g,":")+"}":"["+a+"]",!a.beginsWithStr("{")&&e&&(a="{"+e+":"+a+"}")}var n={};try{n=!de(t)&&ce(t)?t:fe(t)?null:Function('"use strict";return ('+a+")")()}catch(e){console.error('Error JSON Parse: Invalid String >> "'+t+'"\n>> '+e.stack.substring(0,e.stack.indexOf("\n")))}return n}function ie(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function P(e,t){return 0<=(""+t).toLowerCase().indexOf(of(e))}function se(e){return P(e,"array")}function w(e){return P(e,"boolean")}function le(e){return P(e,"function")}function ce(e){return P(e,"object")}function de(e){return P(e,"string")}function g(e){return P(e,"number")}function v(e){return(""+e).isNumberStr()}function pe(e){return P(e,"undefined")}function y(e){return!!se(e)||!!e&&("object"==typeof e&&(1===e.nodeType?!!e.length:0===e.length||0<e.length&&(0 in e&&e.length-1 in e)))}function ue(e){var t;for(t in e)return!1;return!0}function fe(e){var t=!0;if(null!=e)switch(!0){case de(e):t=0==e.trimStr().length;break;case le(e):t=!1;break;case se(e):case ce(e):t=ue(e);break;default:t=0==(""+e).trimStr().length}return t}function O(e){return!ue($(e).get())}function b(e){var t=""+e;return ce(e)&&(t=JSON.stringify(e)),t}function he(e,t){var a=e,n=t,r=Array.prototype.slice.call(arguments,2);return de(a)&&(0<a.indexOf("(")&&(a=a.getLeftStr("(")),a=me(window,a.trim(),void 0)),le(a)&&1<arguments.length&&(a=a.apply(n,r)),a}function S(e,t,a){var n=[],r=arguments.length;if(r){1===r?(t=e,a=(e=0)<=t?1:-1):2===r&&(a=e<=t?1:-1);for(var o=Math.max(Math.ceil((t-e)/(a||1)),0);o--;)n.push(e),e+=a}return n}function C(){var e=arguments.length&&arguments[0]?arguments[0]:"[data-disable-keys],[data-focus-next],[data-focus-back]",t=$(2==arguments.length&&arguments[1]?arguments[1]:"body").find(e);ae.console.info("Finding Key-Tracking for element(s): "+e),t.each(function(e,t){$(t).keydown(ae._trackAndControlKey),ae.console.info("SPA is tracking keys on element:"),ae.console.info(t)})}ae.argsToArr=c,ae.debug=!1,ae.debugger={on:function(){ae.debug=!0},off:function(){ae.debug=!1},toggle:function(){ae.debug=!ae.debug}},ae.console={clear:function(){console.clear()},assert:function(){d("assert",c(arguments))},count:function(){d("count",c(arguments))},debug:function(){d("debug",c(arguments))},dir:function(){d("dir",c(arguments))},dirxml:function(){d("dirxml",c(arguments))},error:function(){d("error",c(arguments))},exception:function(){d("exception",c(arguments))},group:function(){d("group",c(arguments))},groupCollapsed:function(){d("groupCollapsed",c(arguments))},groupEnd:function(){d("groupEnd",c(arguments))},info:function(){d("info",c(arguments))},log:function(){d("log",c(arguments))},markTimeline:function(){d("markTimeline",c(arguments))},profile:function(){d("profile",c(arguments))},profileEnd:function(){d("profileEnd",c(arguments))},table:function(){d("table",c(arguments))},time:function(){d("time",c(arguments))},timeEnd:function(){d("timeEnd",c(arguments))},timeStamp:function(){d("timeStamp",c(arguments))},trace:function(){d("trace",c(arguments))},warn:function(){d("warn",c(arguments))}},ae.ajaxPreProcess,ae.onInit,ae.onInitComplete,ae.onReady,ae.onUrlChange,ae.onUrlHashChange,ae.onReload,Date.prototype.yyyymmdd=function(e){var t=this.getMonth()+1,a=this.getDate();return[this.getFullYear(),(9<t?"":"0")+t,(9<a?"":"0")+a].join(e||"")},Date.prototype.hhmmss=function(e){var t=this.getHours(),a=this.getMinutes(),n=this.getSeconds();return[(9<t?"":"0")+t,(9<a?"":"0")+a,(9<n?"":"0")+n].join(e||"")},String.prototype.trimLeftStr=function(e){return(""+this).replace(new RegExp("^["+(e||"\\s")+"]+","g"),"")},String.prototype.trimRightStr=function(e){return(""+this).replace(new RegExp("["+(e||"\\s")+"]+$","g"),"")},String.prototype.trimStr=function(e){return(""+this).trimLeftStr(e).trimRightStr(e)},String.prototype.getLeftStr=function(e){return"string"==typeof e&&(e=(""+this).indexOf(e)),e?(""+this).substr(0,e):""},String.prototype.getRightStr=function(e){var t=1;return"string"==typeof e&&(t=e.length,e=(""+this).indexOf(e)),e<0?"":(""+this).substr(e+t)},String.prototype.isBlankStr=function(){return""==(""+this).trimStr()},String.prototype.ifBlankStr=function(e,t){return e=void 0===e?"":e,t=void 0===t?(""+this).trimStr():t,(""+this).isBlankStr()?e:t},String.prototype.isNumberStr=function(){var e=(""+this).trim(),t=e.replace(/[0-9]/g,"").replace(".","").trimStr(),a=e[0];return e&&(0==t.length||1==t.length&&("+"==a||"-"==a))},String.prototype.normalizeStr=function(){return(""+this).trimStr().replace(/\s+/g," ")},String.prototype.beginsWithStr=function(e,t){t=t?"i":"";var a=new RegExp("^"+e,t);return!!(""+this).normalizeStr().match(a)},String.prototype.beginsWithStrIgnoreCase=function(e){var t=new RegExp("^"+e,"i");return!!(""+this).normalizeStr().match(t)},String.prototype.endsWithStr=function(e,t){t=t?"i":"";var a=new RegExp(e+"$",t);return!!(""+this).normalizeStr().match(a)},String.prototype.endsWithStrIgnoreCase=function(e){var t=new RegExp(e+"$","i");return!!(""+this).normalizeStr().match(t)},String.prototype.containsStr=function(e,t){return t=t?"gi":"g",new RegExp(""+e,t).test(""+this)},String.prototype.containsStrIgnoreCase=function(e){return new RegExp(""+e,"gi").test(""+this)},String.prototype.equals=function(e){return""+this==e},String.prototype.equalsIgnoreCase=function(e){return String((""+this).toLowerCase())==String(e).toLowerCase()},String.prototype.toProperCase=function(e){return(void 0===e||e?(""+this).normalizeStr():""+this).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})},String.prototype.toTitleCase=function(e){return(void 0===e||e?(""+this).normalizeStr():""+this).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})},String.prototype.capitalize=function(){return(""+this).charAt(0).toUpperCase()+(""+this).slice(1)},String.prototype.unCapitalize=function(){return(""+this).charAt(0).toLowerCase()+(""+this).slice(1)},String.prototype.sanitizeHTML=function(){return p(""+this)},ae.sanitizeHTML=p,String.prototype.sanitizeScript=function(){return u(""+this)},ae.sanitizeScript=u,String.prototype.sanitizeXSS=function(){return f(""+this)},ae.sanitizeXSS=f,String.prototype.splitToArray=String.prototype.toArray=function(e){return fe(""+this)?[]:(""+this).split(e)},String.prototype.extractStrBetweenIn=function(e,t,a){e=e||((e=(""+this).match(/[^a-z0-9\:\.\/\\]/i))?e[0]:""),t=t||h(e);var n=(""+this).match(RegExp("\\"+e+"([^\\"+e+"\\"+t+"].*?)\\"+t,"g"))||[];return a&&!fe(n)&&(n=n.__unique()),n},String.prototype.extractStrBetweenEx=function(e,t,a){var n="\\"+(e=e||((e=(""+this).match(/[^a-z0-9\:\.\/\\]/i))?e[0]:""))+"\\"+(t=t||h(e)),r=new RegExp("["+n+"]","g"),o=((""+this).match(new RegExp("\\"+e+"([^"+n+"].*?)\\"+t,"g"))||[]).map(function(e){return e.replace(r,"")});return a&&!fe(o)&&(o=o.__unique()),o},String.prototype.toNative=function(){return m(""+this)},ae.strToNative=m,ae.extractStrBetweenIn=function(e,t,a,n){return(e||"").extractStrBetweenIn(t,a,n)},ae.extractStrBetweenEx=function(e,t,a,n){return(e||"").extractStrBetweenEx(t,a,n)},ae.strToArray=function(e){return"string"==typeof e&&(e=[e]),e},ae.jsonDataSanityCheck,String.prototype.toJSON=function(){return oe(""+this)},ae.toJSON=ae.toObj=oe,String.prototype.toBoolean=function(){var e=!0;switch((""+this).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":e=!1}return e=e&&!(""+this).trimStr().beginsWithStr("-")},Boolean.prototype.toValue=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),(""+this).valueOf()?e:t},Boolean.prototype.toHtml=function(e,t){return $((""+this).valueOf()?e:t).html()},String.prototype.padStr=function(e,t,a){e=e||"",t=t||1,a=a||2;for(var n="",r=0;r<t;r++)n+=e;return(-1===a||2===a?n:"")+""+this+(1===a||2===a?n:"")},ae.lastSplitResult=[],ae.getOnSplit=ae.pickOnSplit=function(e,t,a){return ae.lastSplitResult=e.split(t),ae.getOnLastSplit(a)},ae.getOnLastSplit=ae.pickOnLastSplit=function(e){return e<0?Ce(ae.lastSplitResult):ae.lastSplitResult[e]},ae.of=of=ie,ae.is=is=P,ae.isArray=se,ae.isArrayLike=y,ae.isBoolean=w,ae.isFunction=le,ae.isObject=ce,ae.isString=de,ae.isNumber=g,ae.isEmptyObject=ue,ae.isElementExist=O,ae.isBlank=ae.isEmpty=_isEmpty=fe,ae.toBoolean=function(e){var t=!0;switch((""+e).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":t=!1}return t},ae.toInt=function(e){return e=fe(e=(""+e).replace(/[^+-0123456789.]/g,""))?"0":0<=e.indexOf(".")?e.substring(0,e.indexOf(".")):e,parseInt(1*e,10)},ae.toFloat=function(e){return e=fe(e=(""+e).replace(/[^+-0123456789.]/g,""))?"0":e,parseFloat(1*e)},ae.toStr=b,ae.toString=function(e){return ae.console.warn("spa.toString is deprecated. use spa.toStr instead."),b(e)},ae.dotToX=function(e,t){return e.replace(/\./g,t)},ae.dotToCamelCase=function(e){var t=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return t[0].toLowerCase()+t.substring(1)},ae.dotToTitleCase=function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")},ae.toDottedPath=function(e){return(e||"").trim().replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,".").trimStr("\\.")},ae.ifBlank=ae.ifEmpty=ae.ifNull=function(e,t,a){return t=(""+(t||"")).trimStr(),a=void 0===a?(""+e).trimStr():a,fe(e)?t:a},ae.now=function(){return""+(new Date).getTime()},ae.year=function(e){return e=e||0,(new Date).getFullYear()+ae.toInt(e)},ae.sizeOf=function(e,t){var a,n=0;function r(e){if(null!=e)switch(typeof e){case"number":n+=8;break;case"string":n+=2*e.length;break;case"boolean":n+=4;break;case"object":var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t||"Array"===t)for(var a in e)e.hasOwnProperty(a)&&(n+=2*a.length,r(e[a]));else n+=2*e.toString().length}return n}return pe(t)||t?(a=r(e))<1024?a+" B":a<1048576?(a/1024).toFixed(3)+" KB":a<1073741824?(a/1048576).toFixed(3)+" MB":(a/1073741824).toFixed(3)+" GB":r(e)},ae.range=function(){var e=arguments.length;if(!e||1===e&&"0"===(""+arguments[0]).trim())return[];var t=arguments[0];"string"!=typeof arguments[0]&&e&&(t=1===e?"0.."+arguments[0]+":1":2===e?arguments[0]+".."+arguments[1]+":1":arguments[0]+".."+arguments[1]+":"+arguments[2]),(t=(t=t.toUpperCase()).replace(/Y([0-9])/g,"Y+$1")).indexOf("..")<0&&(t=(-1<t.indexOf("Y")?"Y..":"0..")+t),-1<t.indexOf("Y")&&t.indexOf("..Y")<0&&(t=t.replace(/\.\.([0-9])/g,"..+$1").replace(/\.\./g,"..Y"));var a=t.split(".."),n=""+a[0],r=""+a[1],o="1";0<r.indexOf(":")&&(r=""+a[1].split(":")[0],o=""+a[1].split(":")[1]),0<=n.indexOf("Y")&&(n=ae.year(n.split(/[^0-9+-]/)[1])),0<=r.indexOf("Y")&&(r=ae.year(r.split(/[^0-9+-]/)[1]));var i=ae.toInt(n),s=ae.toInt(r),l=ae.toInt(o);return r<n?S(s,i+1,l).reverse():S(i,s+1,l)},ae.checkAndPreventKey=function(e,t){var a=0<=(t=t||"").indexOf("+shift"),n=""+e.keyCode,r=0<=t.padStr(",").indexOf(n.padStr(","))&&(a?!!e.shiftKey:!e.shiftKey);return r&&(e.preventDefault(),ae.console.info("Key ["+n+(a?"+Shift":"")+"] has been disabled in this element.")),r},ae._trackAndControlKey=function(e){var t=e.currentTarget,a=$(t),n=(""+a.data("disableKeys")).toLowerCase();ae.checkAndPreventKey(e,n);var r=!fe((""+a.data("focusNext")).replace(/undefined/,"").toLowerCase()),o=!fe((""+a.data("focusBack")).replace(/undefined/,"").toLowerCase());r&&ae.checkAndPreventKey(e,"9")&&$(a.data("focusNext")).get(0).focus(),o&&ae.checkAndPreventKey(e,"9,+shift")&&$(a.data("focusBack")).get(0).focus()},ae.initKeyTracking=C,ae.getDocObj=function(e){var t="object"==typeof e?e:(e.beginsWithStr("#")?"":"#")+e;return $(t).get(0)},ae.getDocObjs=function(e){var t=(e.beginsWithStr("#")?"":"#")+e;return $(t).get()},ae.hasCssRule=function(e){var t=!1;if(e){e=e.split(",");for(var a=0;a<document.styleSheets.length;a++){var n=document.styleSheets[a].rules||document.styleSheets[a].cssRules;if(t)break;for(var r in n)if(t=t||"string"==typeof n[r].selectorText&&0<=e.indexOf(n[r].selectorText))break}}return t},ae.getCssRule=function(e){var t,a;if(e)for(var n=0;n<document.styleSheets.length;n++){var r=document.styleSheets[n].rules||document.styleSheets[n].cssRules;if(t)break;for(var o in r)if(t=t||"string"==typeof r[o].selectorText&&e==r[o].selectorText){a=r[o];break}}return a},ae.setFocus=function(e,t){var a=ae.getDocObj(e);a&&(a.focus(),t&&a.select())},ae.swapClass=ae.swapObjClass=function(e,t,a){$(e).removeClass(t),$(e).addClass(a)},ae.docObjValue=function(e,t){var a=ae.getDocObj(e),n="";return a&&(n=a.value,2===arguments.length&&(a.value=t)),n},ae.optionSelectedIndex=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=n.selectedIndex,2===arguments.length&&(n.selectedIndex=t)),a},ae.optionIndexOfValue=function(e,t){var a=-1,n=ae.getDocObj(e);if(n)for(var r=0;r<n.length;r++)if((""+t).equalsIgnoreCase(n.options[r].value)){a=r;break}return a},ae.optionIndexOfText=function(e,t){var a=-1,n=ae.getDocObj(e);if(n)for(var r=0;r<n.length;r++)if(t.equalsIgnoreCase(n.options[r].text)){a=r;break}return a},ae.optionIndexOfValueBeginsWith=function(e,t){var a=-1,n=ae.getDocObj(e);if(n)for(var r=0;r<n.length;r++)if(n.options[r].value.beginsWithStrIgnoreCase(t)){a=r;break}return a},ae.optionsSelectedValues=function(e,t){return e=(e.beginsWithStr("#")?"":"#")+e,t=t||",",$.map($(e+" option:selected"),function(e){return e.value}).join(t)},ae.optionsSelectedTexts=function(e,t){return e=(e.beginsWithStr("#")?"":"#")+e,t=t||",",$.map($(e+" option:selected"),function(e){return e.text}).join(t)},ae.optionValueOfIndex=function(e,t){var a="",n=ae.getDocObj(e);return n&&0<=t&&t<n.length&&(a=n.options[t].value),a},ae.optionTextOfIndex=function(e,t){var a="",n=ae.getDocObj(e);return n&&0<=t&&t<n.length&&(a=n.options[t].text),a},ae.selectOptionForValue=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfValue(e,t),n.selectedIndex=a),a},ae.selectOptionForValueBeginsWith=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfValueBeginsWith(e,t),n.selectedIndex=a),a},ae.selectOptionsForValues=function(e,t,a){t=((a=a||",")+t+a).toLowerCase();var n,r=ae.getDocObj(e);if(r)for(var o=0;o<r.length;o++)n=(a+r.options[o].value+a).toLowerCase(),r.options[o].selected=0<=t.indexOf(n)},ae.selectOptionForText=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfText(e,t),n.selectedIndex=a),a},ae.selectOptionsAll=function(e){var t=ae.getDocObj(e);if(t)for(var a=0;a<t.length;a++)t.options[a].selected=!0},ae.selectOptionsNone=function(e){var t=ae.getDocObj(e);if(t)for(var a=0;a<t.length;a++)t.options[a].selected=!1},ae.optionsReduceToLength=function(e,t){t=t||0;var a=ae.getDocObj(e);a&&(ae.selectOptionsNone(e),a.length=t)},ae.optionsRemoveAll=function(e){ae.optionsReduceToLength(e,0)},ae.optionRemoveForIndex=function(e,t){e=(e.beginsWithStr("#")?"":"#")+e;var a=ae.getDocObj(e);a&&((""+t).equalsIgnoreCase("first")&&(t=0),(""+t).equalsIgnoreCase("last")&&(t=a.length-1),a.remove(t))},ae.optionRemoveForValue=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfValue(e,t))},ae.optionRemoveForText=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfText(e,t))},ae.optionRemoveForValueBeginsWith=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfValueBeginsWith(e,t))},ae.optionAppend=function(e,t,a,n){var r=-1,o=ae.getDocObj(e);if(o)if(void 0===n){var i=o.length;o.length=i+1,o.options[i].value=t,o.options[i].text=a,r=i}else $(o).find("option").eq(n).before('<option value="'+t+'">'+a+"</option>"),r=n;return r},ae.optionsLoad=function(a,e,t,n){if(t=t||0,n=n||0,de(e)&&0<e.indexOf("..")&&(e=ae.range(e)),0<=t&&ae.optionsReduceToLength(a,t),se(e))ye(e,function(e){ae.optionAppend(a,e,e)});else if(0<n){var r=[];for(var o in e)r.push({key:o,value:e[o]});ye(j(r,["","key","value"][n]),function(e){ae.optionAppend(a,e.key,e.value)})}else ye(e,function(e,t){ae.optionAppend(a,t,e)})},ae.checkedState=function(e,t){var a=!1,n=ae.getDocObj(e);return n&&(a=n.checked,2===arguments.length&&(n.checked=t)),a},ae.isChecked=function(e,t){return 0<$(e).find("input[name="+t+"]:checked").length},ae.radioSelectedValue=function(e,t){var a=$(e).find("input[name="+t+"]:checked").val();return a||""},ae.radioClearSelection=function(e,t){$(e).find("input[name="+t+"]:checked").attr("checked",!1)},ae.radioSelectForValue=function(e,t,a){$(e).find("input[name="+t+"]:radio").each(function(e){e.checked=e.value.equalsIgnoreCase(a)})},ae.checkboxCheckedValues=function(e,t,a){return a=a||",",$(e).find("input[name="+t+"]:checked").map(function(){return this.value}).get().join(a)},ae.sleep=function(e){var t=new Date;for(t.setTime(t.getTime()+1e3*e);(new Date).getTime()<t.getTime(););},ae.filterJSON=function(e,t){console.warn("spa.filterJSON has been removed. please use alternate filter.")},ae.randomPassword=function(e,t){for(var a=t||"9a8b77C8D9E8dkfhseidF7G6H5QJ3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",n="",r=0;r<(e||8);r++){var o=Math.floor(Math.random()*a.length);n+=a.charAt(o)}return n},ae.rand=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},ae.htmlEncode=function(e){return $("<div/>").text(e).html()},ae.htmlDecode=function(e){return $("<div/>").html(e).text()},ae.appendToObj=function(e,t,a){ge(e,t)?(se(e[t])||(e[t]=[e[t]]),e[t].push(a)):e[t]=a},ae.parseKeyStr=function(e,t){return(t?e.toLowerCase():e).replace(/[^_0-9A-Za-z\$\[\]\?\*\-]/g,"")};var x={};function k(e){if(de(e)){var t,a,n=e.trim().split(" "),r=n[0];/app\.(.+)\./.test(r)?(t=r.split(".")[1],n[0]=n[0].replace("app."+t+".",'[data-rendered-component="'+r.split(".")[1]+'"] '),e=n.join(" ")):r.beginsWithStr("\\$")&&(0<(t=r.substr(1)).indexOf(":")?(a=ae.toInt(t.getRightStr(":").trim()),t=t.getLeftStr(":"),n[0]='[data-rendered-component="'+t+'"]:eq('+a+")"):n[0]='[data-rendered-component="'+t+'"]',e=n.join(" "))}return e}function T(n){return ce(n)?ve(n).reduce(function(e,t,a){return[e,0===a?"":"&",t=encodeURIComponent(t),"=",se(n[t])?L(n[t],function(e){return encodeURIComponent(e)}).join(","):encodeURIComponent(n[t])].join("")},""):""}function me(e,t,a){if(is(e,"window|array|object|function|global")&&t){var n=L(t.split("|"),function(e){return e.trim()});t=n.shift();var r,o=n.join("|");if(0<=t.indexOf("*"))r=function(e,t){var a;if("object"==typeof e||"function"==typeof e)if(e.hasOwnProperty(t))a=e[t];else for(var n=ve(e),r=0;pe(a)&&r<n.length;)a=arguments.callee(e[n[r++]],t);return a}(e,t.replace(/\*/g,""));else{var i=0,s=ae.toDottedPath(t).split("."),l=s.length;for(r=e;i<l;i++)if(is(r,"object|window|function|global"))r=r[s[i].trim()];else{if(!se(r)){r=void 0;break}r=r[ae.toInt(s[i])]}}return pe(r)?o?me(e,o,a):le(a)?a.call(e,e,t):a:r}return 3==arguments.length?le(a)?a.call(e,e,t):a:e}function ge(e,t){if(arguments.length<2)return!1;if("object"!=typeof e||"string"!=typeof t||/[\.\[\]\/\|\&\,]/g.test(t)){var a=e,n=!1;try{n=!!re(t)&&void 0!==me(a,t)}catch(e){console.warn("Key["+t+"] error in object.\n"+e.stack)}return n}return e.hasOwnProperty(t.trim())}function R(e,t,l){function a(e,t){for(var a,n=t.split(","),r="",o=0,i=!0,s=0;s<n.length;s++)(r=n[s].trim())&&(o++,a=l&&(0<r.indexOf(".")||0<r.indexOf("["))?ae.hasKey(e,r):e.hasOwnProperty(r),i=i&&a);return o&&i}var n=!1;if(ce(e)&&t)switch(!0){case 0<(t=""+t).indexOf("&"):n=a(e,t.replace(/\&/g,","));break;case 0<t.indexOf("|"):n=function(e,t){for(var a,n=t.split(","),r="",o=0,i=!1,s=0;s<n.length&&((r=n[s].trim())&&(o++,a=l&&(0<r.indexOf(".")||0<r.indexOf("["))?ae.hasKey(e,r):e.hasOwnProperty(r),i=i||a),!i);s++);return o&&i}(e,t.replace(/\|/g,","));break;default:n=a(e,t)}return n}function ve(e){var t=[];try{t=Object.keys(e)}catch(e){}return t}function A(e){var n,r,o,i=[];return function(e,t){if(t=t||"","object"!=typeof e)return;for(var a in e)o=t.substring(1),n=v(a)?"[":".",r=o&&"["==n?"]":"",arguments.callee(e[a],t+n+a+r)&&i.push(o+(o?n:"")+a+r)}(e=e||{}),i}function ye(t,a){if(y(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t);else ve(t).forEach(function(e){a.call(t[e],t[e],e,t)})}function L(t,a){var n=[];if(y(t))for(var e=0;e<t.length;e++)n.push(a.call(t[e],t[e],e,t));else ve(t).forEach(function(e){n.push(a.call(t[e],t[e],e,t))});return n}function I(e,t){var a=!0;if(y(e))for(var n=0,r=e.length;a&&n<r;n++)a=!!t.call(e[n],e[n],n,e);else{var o,i=ve(e);for(n=0,r=i.length;a&&n<r;n++)o=i[n],a=!!t.call(e[o],e[o],o,e)}return a}function N(e,t){var a=!1;if(y(e))for(var n=0,r=e.length;n<r&&!(a=!!t.call(e[n],e[n],n,e));n++);else{var o,i=ve(e);for(n=0,r=i.length;n<r&&(o=i[n],!(a=!!t.call(e[o],e[o],o,e)));n++);}return a}function U(t,a){var n=[];if(y(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t)&&n.push(t[e]);else ve(t).forEach(function(e){a.call(t[e],t[e],e,t)&&n.push(t[e])});return n}function be(t,a){var n=[];if(y(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t)&&n.push(t.splice(e--,1)[0]);else ve(t).forEach(function(e){a.call(t[e],t[e],e,t)&&(n.push(t[e]),delete t[e])});return n}function j(e,s){return y(e)&&s?e.sort(function(e,t){var a=v(e[s])?1*e[s]:e[s],n=v(t[s])?1*t[s]:t[s],r=typeof a,o=typeof n,i=0;return"string"==r&&"string"==o?((a=a.toUpperCase())<(n=n.toUpperCase())&&(i=-1),n<a&&(i=1)):"number"==r&&"number"==o&&(i=a-n),i}):e}function D(e,t){var a={};if(y(e)&&y(t))for(var n=0;n<e.length;n++)a[e[n]]=t[n];return a}function F(e){return function(e){for(var t,a={},n=(e+"").split(""),r=[],o=n[0],i=256,s=1;s<n.length;s++)null!=a[o+(t=n[s])]?o+=t:(r.push(1<o.length?a[o]:o.charCodeAt(0)),a[o+t]=i,i++,o=t);for(r.push(1<o.length?a[o]:o.charCodeAt(0)),s=0;s<r.length;s++)r[s]=String.fromCharCode(r[s]);return r.join("")}(function e(t,a){var n=a=a||"",r=typeof t;if("object"==r)for(var o=Object.keys(t).sort(),i=0;i<o.length;i++)n+=e(t[o[i]],o[i]);else if("function"==r){var s=t.name;if(s&&s!==a)n+="F"+s;else{var l=t.toString();n+=(s=/function(.*?)\(/.exec(l)[1].trim())?"F"+s:l}}else n+=t;return n}(e).replace(/\s/g,"_").replace(/\"/g,"d").replace(/\'/g,"s").replace(/\\/g,"b").replace(/\//g,"f").replace(/function/g,"Fn"))}function Se(){var e=(arguments.length?arguments[0]:{})||{};if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(ce(t=arguments[a]))for(var n in t)!s(n)&&l(t,n)&&(ce(t[n])?e[n]=Se(e[n],t[n]):se(t[n])?t[n].length?e[n]=z(e[n],t[n]):e[n]=[]:e[n]=t[n]);else se(t)&&(e=z.call(null,e,t));return e}function z(){var e=(arguments.length?arguments[0]:[])||[];if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(se(t=arguments[a]))for(var n=0;n<t.length;n++)if(pe(e[n]))e[n]=t[n];else switch(ie(t[n])){case"object":e[n]=Se(e[n],t[n]);break;case"array":e[n]=z(e[n],t[n]);break;default:e[n]=t[n]}return e}function Ce(e,t){var a;return y(e)&&0<e.length&&(a="number"==typeof t&&1<t?e.slice(-1*t):e[e.length-1]),a}function we(e,t){var a=e;if(t=(t||"").replace(/[^a-z0-9]/gi,"/"),0<=".{$".indexOf(e[0])){var n=e.split("/"),r=n[0].replace(/[\{\}]/g,""),o="$"==r||"."==r?t:r.replace(/[\{\$\}]/,""),i=ae.defaults.components.inFolder?o+"/":"";n[0]=(ae.defaults.components.rootPath+i).trimRightStr("/"),a=n.join("/")}return a}ae.setObjProperty=function(e,t,a,n){n=n||!1;var r,o,i,s,l=e,c=0<=(t=""+t).indexOf(".")||t==t.toUpperCase()?t.split("."):t.split(/(?=[A-Z])/),d=$.trim(t.replace(/[0-9A-Za-z\[\]\?\*\_]/g,""));d&&""!=d&&(c=t.split(d[0]));for(var p="";1<c.length;)r=ae.parseKeyStr(c.shift(),n),""!=$.trim(r)&&(p+=r.replace(/[\?\[\]\*\_]/g,""),l=0<r.indexOf("[")&&r.indexOf("]")==r.length-1?(i=(o=r.substring(0,r.length-1).replace(/\[/g,".").split("."))[0],s=o[1],void 0===l[i]&&(l[i]=[]),s.replace(/[0-9]/g,"")&&(s=s.replace(/[^0-9]/g,""),x.hasOwnProperty(p)?s=x[p]:void 0===l[i][s]&&(x[p]=l[i].length,s=l[i].length)),void 0===l[i][s]&&(l[i][s]={}),l[i][s]):(void 0===l[r]&&(l[r]={}),l[r]));return r=ae.parseKeyStr(c.shift(),n),ae.appendToObj(l,r,a),e},ae.setSimpleObjProperty=function(e,t,a){for(var n,r=e,o=(t=""+t).split(".");1<o.length;)n=ae.parseKeyStr(o.shift(),!1),""!=$.trim(n)&&(void 0===r[n]&&(r[n]={}),r=r[n]);return r[n=ae.parseKeyStr(o.shift(),!1)]=a,e},ae.objProp=ae.objProperty=ae.objectProp=ae.objectProperty=function(){var e=arguments[0],t=arguments[1],a=arguments[2];return 3==arguments.length?ae.setSimpleObjProperty(e,t,a):2==arguments.length?me(e,t):e},ae.extract=function(){var e=Array.prototype.slice.call(arguments);try{ce(e[0])||e.unshift({}),de(e[1])&&(e[1]=e[1].split(","))}catch(e){console.error("Invalid arguments",e)}if(ce(e[0])&&se(e[1])){var a,n,r,o,i,s,l=e[0],t=e[1],c=e.slice(2);return c.unshift(window),ye(t,function(e){if(e=(e||"").trim(),!(i=!(e&&"@0"!=e))&&(/^\@([0-9])+/.test(e)&&((o=n=(e.getRightStr(".")||"").trim())?e=o+":"+e:(Se(l,c[ae.toInt(e)]),i=!0)),!i)){if(a=e.split(":"),n=(a[0]||"").trim(),r=ae.toInt((a[1]||"").split(".")[0]),o=((a[1]||"").getRightStr(".")||"").trim(),n=n||o,s=o?me(c[r],o):r?c[r]:{},n.endsWithStr("\\+")){n=n.trimRightStr("+");var t=me(l,n);switch(ie(t)){case"object":ce(s)&&(s=Se({},t,s));break;case"array":s=se(s)?t.concat(s):t.push(s)}}ae.setSimpleObjProperty(l,n,s)}}),l}console.error("Invalid arguments.")},ae.setElValue=function(e,t){var a=$(k(e));switch((e=a.get(0)).tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"text":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"search":case"tel":case"time":case"url":case"range":case"button":case"submit":case"reset":a.val(t),a.isEnabled()&&a.trigger("keyup");break;case"checkbox":case"radio":e.checked=e.value.equalsIgnoreCase(t),e.checked&&a.isEnabled()&&a.trigger("click")}break;case"SELECT":ae.selectOptionForValue(e,t),a.isEnabled()&&a.trigger("change");break;case"TEXTAREA":a.val(t),a.isEnabled()&&a.trigger("keyup");break;default:a.html(ae.sanitizeXSS(t)),a.val(t),a.isEnabled()&&a.trigger("keyup")}},ae.getElValue=function(e,t){if(e=$(k(e)).get(0)){var a,n,r;switch(e.tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"checkbox":n=$(e).data("unchecked"),r="true"==e.value||"false"!=e.value&&e.value,a=e.checked?r:void 0===n?"":n;break;case"radio":a=e.checked?e.value:"";break;default:a=$(e).val()}break;case"SELECT":a=$.map($(e).find("option:selected"),function(e){return e.value}).join(",");break;case"TEXTAREA":a=$(e).val();break;default:a=t?$(e).text():$(e).html()}return a}},ae.serialize=function(e,t,a){w(e)&&(a=e,e=""),w(t)&&(a=t,t=""),e=e||"body";var n,r,o,i,s={},l=t?'[data-serialize-context*="'+t+'"]':"";return $(e).find("[data-serialize]"+l+",input[name]"+l+",select[name]"+l+",textarea[name]"+l).each(function(e,t){o=$(t).data(),n=t.name||o.serialize,i=o.serializeType?o.serializeType.equalsIgnoreCase("text"):a,r=ae.getElValue(t,i),s.hasOwnProperty(n)?fe(r)||(fe(s[n])?s[n]=r:se(s[n])?s[n].push(r):s[n]=[s[n],r]):s[n]=r}),s},ae.serializeToQueryString=function(e,t){return ae.toQueryString(ae.serialize(e,t))},ae.serializeDisabled=function(e){var t="";return $(e).find("[disabled][name]").each(function(){t+=(t?"&":"")+$(this).attr("name")+"="+ae.getElValue(this)}),t},ae.serializeForms=function(e,t){var a,n,r=$(e).serialize();return $(e).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){n=$(this).data("unchecked"),r+=(r?"&":"")+$(this).attr("name")+"="+(void 0===n?"":n)}),t&&(a=ae.serializeDisabled(e),r+=(r&&a?"&":"")+a),r},ae.queryStringToJson=ae.queryStringToObject=function(e){var t={},a=e||location.search,n=(""+a).indexOf("?"),r=(""+a).indexOf("&");return a&&0<a.length&&0<=n&&(0==n||n<r)&&(a=a.substring(n+1)),ye(a.split("&"),function(e){(e=e.split("="))[0]&&ae.appendToObj(t,e[0],decodeURIComponent(e[1]||""))}),t},ae.toQueryString=ae.ObjectToQueryString=ae.objectToQueryString=ae.JsonToQueryString=ae.jsonToQueryString=T,$.fn.serializeUncheckedCheckboxes=function(e){var a,n,r,o,i="object"==typeof e,s=i?e:{},l=i&&!e?"":e;return $(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(e,t){a=$(t),r=a.attr("name"),n=a.data("unchecked"),o=void 0===n?"":n,i?ae.appendToObj(s,r,o):l+=(l?"&":"")+r+"="+o}),i?s:l},ae.serializeUncheckedCheckboxes=function(e,t){return $(e).serializeUncheckedCheckboxes(t)},$.fn.serializeFormToJSON=$.fn.serializeFormToObject=function(e,t,a){var n,r,o=this.serializeArray(),i=$(this).data(),s="object"==typeof e?e:{},l="boolean"==typeof e?e:t||!1,c=i.serializeIgnorePrefix,d=i.hasOwnProperty("typeNative");return x={},a&&(c=a),$.each(o,function(){n=c?this.name.replace(c,""):this.name,s=ae.setObjProperty(s,n,d?this.value.toNative():this.value,l)}),$(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){(n=$(this).attr("name"))&&(r=$(this).data("unchecked"),c&&(n=n.replace(c,"")),r=""+(void 0===r?"":r),s=ae.setObjProperty(s,n,d?r.toNative():r,l))}),s},ae.serializeFormToJSON=ae.serializeFormToObject=function(e,t,a,n){return $(e).serializeFormToJSON(t,a,n)},$.fn.serializeFormToSimpleJSON=$.fn.serializeFormToSimpleObject=function(e,t){var a,n,r,o,i=this.serializeArray(),s="object"==typeof e?e:{},l="boolean"==typeof e?e:t||!1;return $.each(i,function(){ae.appendToObj(s,this.name,this.value)}),l&&$(this).find("[disabled][name]").each(function(){ae.appendToObj(s,this.name,ae.getElValue(this))}),$(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){r=$(this).attr("name"),o=""+(void 0===(o=$(this).data("unchecked"))?"":o),ae.appendToObj(s,r,o)}),$(this).find("[data-to-json-group][name]").each(function(){a=this.name,(n=$(this).data("toJsonGroup"))&&(s[n]||(s[n]={}),ae.appendToObj(s[n],a,ae.getElValue(this)))}),s},ae.serializeFormToSimpleJSON=ae.serializeFormToSimpleObject=function(e,t,a){return $(e).serializeFormToSimpleJSON(t,a)},ae.findSafe=ae.findInObj=ae.findInObject=ae.findIn=ae.find=me,ae.keys=ve,ae.has=ae.hasKey=ge,ae.hasKeys=function(e,t){return R(e,t,!0)},ae.hasPrimaryKeys=function(e,t){return R(e,t)},ae.keysDottedAll=function(e){var t=A(e);return t&&!_isEmpty(t)&&(t=ae.toDottedPath(t.join(",")).split(",")),t},ae.keysDotted=A,ae.keysCamelCase=function(e){return L(A(e),function(e){var t=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return t[0].toLowerCase()+t.substring(1)})},ae.keysTitleCase=function(e){return L(A(e),function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")})},ae.keys_=function(e){return L(A(e),function(e){return e.replace(/\./g,"_")})},ae.map=L,ae.uniq=function(a){return U(a,function(e,t){return a.indexOf(e)==t})},ae.omit=function(t,a){var n={};return y(a)&&a.length?(ce(t)&&ye(ve(t),function(e){a.indexOf(e)<0&&(n[e]=t[e])}),n):t},ae.union=function(){for(var e,t={},a=0;a<arguments.length;a++)if(y(e=arguments[a]))for(var n=0;n<e.length;n++)t[F(e[n])]=e[n];else t[F(e)]=e;ae.console.log(">>union-collection[keys, obj, src]:",ve(t),t,arguments);var r,o=[];for(r in t)t.hasOwnProperty(r)&&o.push(t[r]);return t=null,o},ae.filter=U,ae.sortBy=j,ae.zipObj=D,ae.removeOn=be,ae.each=ae.forEach=ye,ae.every=ae.forEvery=I,ae.some=ae.forSome=N,ae.indexOf=function(e,t){var a=-1;if(y(e)&&e.length&&ce(t)){var n,r=ve(t);if(r.length)for(var o=0;o<e.length;o++){for(var i=0;i<r.length&&(n=t[r[i]]===e[o][r[i]]);i++);if(n){a=o;break}}}return a},ae.extend=function(){var e=(arguments.length?arguments[0]:{})||{};if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(ce(t=arguments[a]))for(var n in t)!s(n)&&l(t,n)&&(e[n]=t[n]);else se(t)&&(e=z.call(null,e,t));return e},ae.merge=Se,Object.defineProperties(Array.prototype,{__now:{value:function(){return JSON.parse(JSON.stringify(this))},enumerable:!1,configurable:!1},__clone:{value:function(){return JSON.parse(JSON.stringify(this))},enumerable:!1,configurable:!1},__toObject:{value:function(a){var n={};return this.forEach(function(e,t){a?n[e]=t:n[t]=e}),n},enumerable:!1,configurable:!1},__unique:{value:function(){return this.filter(function(e,t,a){return a.indexOf(e)===t})},enumerable:!1,configurable:!1},__rotate:{value:function(e){if(0<(e=e||1))for(;e--;)this.push(this.shift());else if(e<0)for(;e++;)this.unshift(this.pop());return this},enumerable:!1,configurable:!1},__isFirst:{value:function(e,t){var a=this[0];return t&&(a=a.toLowerCase(),e=e.toLowerCase()),a==e},enumerable:!1,configurable:!1},__isLast:{value:function(e,t){var a=this[this.length-1];return t&&(a=a.toLowerCase(),e=e.toLowerCase()),a==e},enumerable:!1,configurable:!1},__has:{value:function(e,t){var a;function n(e){return 0<=t.indexOf(e)}if(t=(t||"").trim()){t.indexOf("i")&&de(e)&&(e=e.toLowerCase());for(var r=0;r<this.length;r++){var o=this[r];switch(t.indexOf("i")&&de(o)&&(o=o.toLowerCase()),!0){case n("b"):case n("^"):a=n("~")?e.beginsWithStr(o):o.beginsWithStr(e);break;case n("e"):case n("$"):a=n("~")?e.endsWithStr(o):o.endsWithStr(e);break;case n("c"):case n("*"):a=n("~")?0<=e.indexOf(o):0<=o.indexOf(e);break;case n("<"):a=o<e;break;case n("<="):a=o<=e;break;case n(">"):a=e<o;break;case n(">="):a=e<=o;break;default:a=o==e}if(a)break}}else a=0<=this.indexOf(e);return a},enumerable:!1,configurable:!1},__last:{value:function(e){return Ce(this,e)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object.prototype,{__now:{value:function(){return JSON.parse(JSON.stringify(this))},enumerable:!1,configurable:!1},__clone:{value:function(){return JSON.parse(JSON.stringify(this))},enumerable:!1,configurable:!1},__keys:{value:function(e){return e?A(this):Object.keys(this)},enumerable:!1,configurable:!1},__keysAll:{value:function(){return A(this)},enumerable:!1,configurable:!1},__hasKey:{value:function(e){return ae.hasKey(this,e)},enumerable:!1,configurable:!1},__hasKeys:{value:function(e){return R(this,e,!0)},enumerable:!1,configurable:!1},__hasPrimaryKeys:{value:function(e){return R(this,e)},enumerable:!1,configurable:!1},__valueOf:{value:function(e,t){return me(this,e,t)},enumerable:!1,configurable:!1},__merge:{value:function(){return Array.prototype.unshift.call(arguments,this),Se.apply(void 0,arguments)},enumerable:!1,configurable:!1},__stringify:{value:function(){return JSON.stringify(this)},enumerable:!1,configurable:!1},__toQueryString:{value:function(){return ae.toQueryString(this)},enumerable:!1,configurable:!1},__extract:{value:function(){return Array.prototype.unshift.call(arguments,this),ae.extract.apply(this,arguments)},enumerable:!1,configurable:!1}}),$.ajaxSetup({converters:{"text javascript":function(){},"text spaComponent":function(){}},dataFilter:function(e,t){return"javascript"!==t&&"spaComponent"!==t||(function(e){if(e.trim()){var t=document.createElement("script");t.setAttribute("id","js-"+ae.now()),ae.defaults.csp.nonce&&t.setAttribute("nonce",ae.defaults.csp.nonce),t.text=e,document.head.appendChild(t).parentNode.removeChild(t)}}(e),e=""),e}}),$.cachedScript=function(e,t){return ae.console.log("Ajax for script:",e,"options:",t),!(e=we(e,t?t.spaComponent:"")).endsWithStrIgnoreCase(".js")&&e.indexOf("?")<0&&(e+=ae.defaults.components.scriptExt),(t=t||{}).hasOwnProperty("cache")||(t.cache=!0),t.hasOwnProperty("dataType")||(t.dataType="javascript"),t=$.extend(t,{url:e}),ae.console.info("Loading Script('"+e+"') ..."),$.ajax(t)},$.cachedStyle=function(a,e,t){var n=$("#"+a,"head");return(t=t||{}).hasOwnProperty("cache")||(t.cache=!0),n.length||(t.cache=ae.defaults.components.offline),t=$.extend(t,{dataType:"text",url:e,success:function(e){n.remove();var t=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("head").append('<style id="'+a+'" type="text/css"'+t+">"+e+"</style>")}}),ae.console.info("Loading style('"+e+"') ... "),$.ajax(t)},ae.addScriptTag=function(e,t){if(e=e.replace(/#/,""),ae.console.group("spaAddScriptTag"),O("#spaScriptsContainer")||(ae.console.info("#spaScriptsContainer NOT Found! Creating one..."),$("body").append("<div id='spaScriptsContainer' style='display:none' rel='Dynamic Scripts Container'></div>")),O("#"+e))ae.console.info("script ["+e+"] already found in local.");else{ae.console.info("script ["+e+"] NOT found. Added script tag with src ["+t+"]");var a=t?' src="'+t+'"':"",n=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("#spaScriptsContainer").append('<script id="'+e+'" type="text/javascript"'+a+n+"><\/script>")}ae.console.groupEnd("spaAddScriptTag")},ae.addStyle=function(e,t){e=e.replace(/#/,""),ae.console.group("spaAddStyle"),O("#spaStylesContainer")||(ae.console.info("#spaStylesContainer NOT Found! Creating one..."),$("body").append("<div id='spaStylesContainer' style='display:none' rel='Dynamic Styles Container'></div>")),O("#"+e)?ae.console.info("style ["+e+"] already found in local."):(ae.console.info("style ["+e+"] NOT found. Added link tag with href ["+t+"]"),$("#spaStylesContainer").append("<link id='"+e+"' rel='stylesheet' type='text/css' href='"+t+"'/>")),ae.console.groupEnd("spaAddStyle")},ae.loadScript=function(a,n,e,t,r){return a=a.replace(/#/,""),e=e||!1,t=t||[],ae.console.group("spaScriptsLoad"),fe(n)?ae.console.error("script path ["+n+"] for ["+a+"] NOT defined."):e?ae.addScriptTag(a,n):t.push($.cachedScript(n,r).done(function(e,t){ae.console.info("Loaded script ["+a+"] from ["+n+"]. STATUS: "+t)})),ae.console.groupEnd("spaScriptsLoad"),t},ae.getComponentsFullPath=function(e){return L(e=ae.strToArray(oe(e)),function(e){return ae.defaults.components.rootPath+(ae.defaults.components.inFolder||/[^a-z0-9]/gi.test(e)?e:"")+"/"+function(e){if(/[^a-z0-9]/gi.test(e)){var t=e.split(/[^a-z0-9]/gi);return t[t.length-1]}return e}(e)+ae.defaults.components.scriptExt})},ae.loadComponents=function(e,t,a){var n=U(ae.strToArray(oe(e)),function(e){return!ae.components.hasOwnProperty(e.replace(/[^a-z0-9]/gi,"_"))}),r=ae.getComponentsFullPath(n);ae.loadScripts(r,t,a)},ae.loadScripts=function(e,t,a){if(!fe(e=ae.strToArray(oe(e)))){var n=[];ye(e,function(a){n.push($.cachedScript(a).done(function(e,t){ae.console.info("Loaded script from ["+a+"]. STATUS: "+t)}).fail(function(){ae.console.info("Failed Loading script from ["+a+"].")}))}),$.when.apply($,n).then(function(){ae.renderUtils.runCallbackFn(t)}).fail(function(){ae.renderUtils.runCallbackFn(a)})}},ae.loadScriptsSync=function(e,t,a){if(fe(e=ae.strToArray(oe(e))))ae.renderUtils.runCallbackFn(t);else{var n=!0,r=e.shift();r?(/^~/.test(r)&&(n=!1,r=r.substr(1)),ae.console.info("Load script from   ["+r+"], cache:",n),$.cachedScript(r,{cache:n}).done(function(){ae.console.info("Loaded script from ["+r+"]"),ae.loadScriptsSync(e,t,a)}).fail(function(){console.error("Failed Loading script from ["+r+"].",arguments),ae.renderUtils.runCallbackFn(a)})):ae.loadScriptsSync(e,t,a)}},ae.loadStyle=function(a,n,e,t){if(a=a.replace(/#/,""),e=!!e,t=t||[],ae.console.group("spaStylesLoad"),fe(n))ae.console.error("style path ["+n+"] for ["+a+"] NOT defined.");else{var r=!e;e&&($("#"+a,"head").length?ae.console.info("Style('"+n+"') already loaded."):r=!0),r&&t.push($.cachedStyle(a,n,{cache:ae.defaults.components.offline}).done(function(e,t){ae.console.info("Loaded style ["+a+"] from ["+n+"]. STATUS: "+t)}))}return ae.console.groupEnd("spaStylesLoad"),t},ae.addTemplateScript=function(e,t,a){e=e.replace(/#/,""),a=a||"x-template",O("#spaViewTemplateContainer")||(ae.console.info("#spaViewTemplateContainer NOT Found! Creating one..."),$("body").append("<div id='spaViewTemplateContainer' style='display:none' rel='Template Container'></div>")),ae.console.info("Adding <script id='"+e+"' type='text/"+a+"'>");var n="_BlockedScript_";t=t.replace(/<(\s)*script/gi,"<"+n+' src-ref="'+e+'"').replace(/<(\s)*(\/)(\s)*script/gi,"</"+n).replace(/<(\s)*link/gi,"<_LINKTAGINTEMPLATE_").replace(/<(\s)*(\/)(\s)*link/gi,"</_LINKTAGINTEMPLATE_");var r=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("#spaViewTemplateContainer").append('<script id="'+e+'" type="text/'+a+'"'+r+">"+t+"<\/script>")},ae.updateTemplateScript=function(e,t,a){e=e.replace(/#/,"");var n=$("#spaViewTemplateContainer").find("#"+e);n.length&&n.remove(),ae.addTemplateScript(e,t,a)},ae.loadTemplate=function(n,r,o,e,t,a,i){if(n=n.replace(/#/g,""),r=r.ifBlankStr("inline").trimStr(),o=o||"x-template",e=e||"#DummyInlineTemplateContainer",t=t||[],i=i||{},ae.console.group("spaTemplateAjaxQue"),O("#"+n)){var s=$("#"+n);if(a)ae.console.info("Reload Template["+n+"] of ["+o+"]"),s.remove(),t=ae.loadTemplate(n,r,o,e,t,a,i);else if(fe(s.html())){ae.console.warn("Template["+n+"] of ["+o+"] script found EMPTY!");var l=""+s.attr("path");fe(l)||(o=(s.attr("type")||"").ifBlankStr(o).toLowerCase().replace(/text\//gi,""),ae.console.info("prepare/remove to re-load Template["+n+"]  of ["+o+"] from external path: ["+l+"]"),s.remove(),t=ae.loadTemplate(n,l,o,e,t,a,i))}else ae.console.info("Template["+n+"]  of ["+o+"] already found in local.")}else if(ae.console.info("Template["+n+"] of ["+o+"] NOT found. Source ["+r+"]"),r&&"undefined"==r)ae.addTemplateScript(n,"",o),ae.console.info("Loaded Empty Template["+n+"] of ["+o+"]");else if(r.equalsIgnoreCase("inline")||r.beginsWithStr("#")){var c=r.equalsIgnoreCase("inline")?e:r,d=$(c),p=d.html();fe(p)?ae.console.error("Template["+n+"] of ["+o+"] NOT defined inline in ["+c+"]."):(ae.addTemplateScript(n,p,o),r.equalsIgnoreCase("inline")&&d.html(""))}else if(r.equalsIgnoreCase("none"))ae.console.info("Template["+n+"] of ["+o+"] defined as NONE. Ignoring template.");else if(r.equalsIgnoreCase("script"))ae.console.error("Template["+n+"] of ["+o+"] NOT defined in <script>.");else{var u=String(i.method||"get").toLowerCase();i.params&&(r=ae.api.url(r,i.params)),ae.console.info(">>>>>>>>>> Making New Template Request");var f=$.ajax({url:r,method:u,headers:i.headers,data:i.payload,cache:ae.defaults.components.offline,dataType:"html",onTmplError:i.onError,success:function(e){ae.addTemplateScript(n,e,o),ae.console.info("Loaded Template["+n+"] of ["+o+"] from ["+r+"]")},error:function(e,t,a){this.onTmplError&&le(this.onTmplError)&&this.onTmplError.call(this,e,t,a),ae.console.error("Failed Loading Template["+n+"] of ["+o+"] from ["+r+"]. ["+t+":"+a+"]")}});t.push(f)}return ae.console.groupEnd("spaTemplateAjaxQue"),t},ae.urlParams=function(e){e=(e=e||window.location.search||"").beginsWithStr("\\?")||e.indexOf("//")<7?e.substr(e.indexOf("?")+1):e;var n={};return e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,t,a){(n[t]=n[t]||[]).push(decodeURIComponent(a))}),ye(n,function(e,t){n[t]=se(e)&&1==e.length?e[0]:e}),n},ae.urlParam=function(e,t){return ae.urlParams(t)[e]};var B="";function M(e,t){return(e||"").trimRightStr("/")+"/"+(t||"").trimLeftStr("/")}function V(e,t,a){if(e){if(ae.i18n.onLangChange){var n=ae.i18n.onLangChange,r=le(n)?n.call(void 0,e,a):e;e=de(r)?r:e}$("html").attr("lang",e.replace("_","-")),ae.i18n.setLanguage(e,Se({},ae.defaults.lang,me(window,"app.conf.lang",{}),me(window,"app.lang",{}),t||{}))}}function H(e,t){var a=e;if(se(e))a=e.sort(),t&&(a=a.reverse());else if(de(e)){var n;switch(!0){case 0<=e.indexOf(","):n=",";break;case 0<=e.indexOf(" "):n=" "}n&&(a=e.split(n).sort().join(n),t&&(a=a.reverse()))}return a}function W(e){var t="html";switch(e.tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"checkbox":case"radio":t="$";break;default:t="value"}break;case"TEXTAREA":t="value";break;case"SELECT":t="$"}return t}function Oe(e){return e.replace(/(\/)*&gt;/g,">").replace(/ _XHBTINSPA_--(>|&gt;)/gi,"").replace(/(>|&gt;)(<|&lt;)!--_XHBTINSPA_/gi,"").replace(/<IMG-X-TMP /gi,"<img ").replace(/<IFRAME-X-TMP /gi,"<iframe ").replace(/<\/IFRAME-X-TMP/gi,"</iframe")}ae.getLocHash=function(e){var t=(B||window.location.hash).replace("#","");return t||pe(e)||"#"==e||(t=window.location.pathname.replace(/(\/)*(index|default)\.([a-z])*/i,"").replace(e.replace(/\s*/g,"").trimRightStr("/"),"")),t},ae.urlHash=function(e,t){var a=ae.getLocHash(t);if(e||g(e)){var n=(a=a.beginsWithStr("/")?a.substring(a.indexOf("/")+"/".length):a).length?a.split("/"):[];g(e)?a=e<0?n[n.length-1]:n&&n.length>e?n[e]:"":se(e)?a=0===e.length?n:D(e,n):de(e)&&"?"==e&&(a=a.containsStr("\\?")?ae.getOnSplit(a,"?",1):"")}return a},ae.urlHashFull=function(e){return M(e=e||"#",ae.urlHash("",e))},ae.hashParam=function(e){var t=""+ae.urlHash("?");return void 0===e||fe(t)||(t=ae.urlParam(""+e,t)),t},ae.i18n={},ae.i18n.loaded=!1,ae.i18n.settings={name:"Language",path:"language/",ext:".txt",encoding:"UTF-8",cache:!0,async:!0,mode:"map",callback:null},ae.i18n.browserLang=function(){return navigator&&(navigator.language||navigator.userLanguage)||"en_US"},ae.i18n.setLanguage=function(e,t){$.i18n&&($.i18n.map={},e=(e||ae.i18n.browserLang()).replace(/-/g,"_"),t=$.extend(ae.i18n.settings,t),$.i18n.properties({name:t.name,language:e,path:t.path,ext:t.ext,encoding:t.encoding,cache:t.cache,async:t.async,mode:t.mode,callback:function(){O("#i18nSpaRunTime")||$("body").append('<div id="i18nSpaRunTime" style="display:none"></div>'),$.i18n.loaded=void 0===$.i18n.loaded?!ue($.i18n.map):$.i18n.loaded,ae.i18n.loaded=ae.i18n.loaded||$.i18n.loaded,1<e.length&&!$.i18n.loaded&&(ae.console.warn("Error Loading Language File ["+e+"]. Loading default."),ae.i18n.setLanguage("_",t)),ae.i18n.apply(),t.callback&&t.callback($.i18n.loaded)}}))},ae.i18n.setLang=function(e,t){V(e,t)},ae.i18n.value=function(e){return(e=(""+e).replace(/i18n:/i,"").trim()).beginsWithStrIgnoreCase("@")&&(e=e.substr(1).trim(),e=me(window,e,e)),function(e){var t=e;try{(t=(""+(!ae.i18n.loaded&&window.Liferay?Liferay.Language.get(e):$.i18n.prop(e))).trim()).beginsWithStr("\\[")&&t.endsWithStr("]")&&(t=function(e){return e.substring(1,e.length-1)}(t))}catch(e){console.warn("i18n lookup error:"+e.stack)}return t}(e)},ae.strBindData=function(t,a,n,r){t=""+t,n=n||"{",r=r||"}";var e=ae.extractStrBetweenEx(t,n,r,!0);return t&&!fe(e)&&ce(a)&&ye(e,function(e){t=t.replace(new RegExp(n+"\\s*("+e.trim()+")\\s*"+r,"g"),me(a,e,""))}),t},String.prototype.bindData=function(e){return ae.strBindData(""+this,e)},ae.i18n.text=function(e,t){var a=ae.i18n.value(e);if(t&&ce(t)){var n="",r="";ye(ve(t),function(e){n=""+t[e],r=n.trim(),n&&(r.beginsWithStrIgnoreCase("i18n:")||r.beginsWithStrIgnoreCase("@"))&&(n=ae.i18n.value(r)),a=a.replace(new RegExp("{\\s*("+e.trim()+")\\s*}","g"),n)})}var o,i=[e];return function e(t){var a=ae.extractStrBetweenEx(t,"{","}",!0);return fe(a)?t:(ye(a,function(e){(o=o||0<=i.indexOf(e))||(i.push(e),t=t.replace(new RegExp("{\\s*("+e.trim()+")\\s*}","g"),ae.i18n.value(e)))}),o?(console.error("i18nKey circular issue found:",i.join(" > ")),t):e(t))}(a)},ae.i18n.update=function(e,t,a){t=t||"";var n,r,o=$(e),i=o.attr("data-i18n")||"",s="";if(fe(i)||0==t.indexOf(":")||0==t.indexOf("=")||i.indexOf(":")<=0&&t.indexOf(":")<=0)s=t.trimLeftStr(":").trimLeftStr("=");else{n=0<i.indexOf(":")?oe(i||{}):{html:i.trimLeftStr(":").replace(/'/g,"")},r=0<t.indexOf(":")?oe(t||{}):{html:t.trimLeftStr(":").replace(/'/g,"")},ye(ve(n),function(t){ye(t.split("_"),function(e){e&&(n[e]=n[t])})}),ye(ve(r),function(t){ye(t.split("_"),function(e){e&&(r[e]=r[t])})});var l=Se({},n,r);ye(ve(l),function(e){e.indexOf("_")<=0&&(s+=e+":'"+l[e]+"',")}),s=s.trimRightStr(",")}return o.attr("data-i18n",s).data("i18n",s),(a||pe(a))&&ae.i18n.apply(e),o},ae.i18n.apply=ae.i18n.render=function(e,t){if(ae.i18n.loaded||window.Liferay){t=t||"";var a=(e=e||"html").beginsWithStr("<");a&&($("#i18nSpaRunTime").html(e),e="#i18nSpaRunTime");var n=$(e).find(t+"[data-i18n]");n.length||(n=$(e).filter(t+"[data-i18n]")),n.each(function(e,t){var n=$(t),a=n.data("i18n")||"";a&&!a.containsStr(":")&&(a="html:'"+a+"'");var r=oe(a||"{}"),o=r.data||r.i18ndata;o?(delete r.data,delete r.i18ndata):o=oe(n.data("i18nData")||"{}"),r&&!ue(r)&&ye(ve(r),function(e){var t=r[e],a=ae.i18n.text(t,o);ye(e.split("_"),function(e){switch(e.toLowerCase()){case"html":n.html(ae.sanitizeXSS(a));break;case"text":n.text(a);break;default:n.attr(e,a)}})})})}if(a)return $("#i18nSpaRunTime").html()},$.fn.extend({i18n:function(e){return this.each(function(){e&&$(this).attr("data-i18n",e).data("i18n",e),ae.i18n.apply(this)}),this}}),ae.pipes={trim:function(e){return(""+e).trim()},trimLeft:function(e){return(""+e).trimLeftStr()},trimRight:function(e){return(""+e).trimRightStr()},normalize:function(e){return(""+e).normalizeStr()},toLowerCase:function(e){return(""+e).toLowerCase()},toUpperCase:function(e){return(""+e).toUpperCase()},toTitleCase:function(e){return(""+e).toTitleCase()},capitalize:function(e){return(""+e).capitalize()},unCapitalize:function(e){return(""+e).unCapitalize()},not:function(e){return!e},sort:function(e){return H(e)},sortAsc:function(e){return H(e)},sortDesc:function(e){return H(e,!0)},reverse:function(e){var t=e;if(se(e))t=e.reverse();else if(de(e)){var a;switch(!0){case 0<=e.indexOf(","):a=",";break;case 0<=e.indexOf(" "):a=" "}a&&(t=e.split(a).reverse().join(a))}return t}},ae.dataBind=ae.bindData=function(e,t,a,n){a=a||"";var r,o,i=de(e=e||"body")&&/\s*</.test(e);if(i){o="_BlockedScriptInTemplate_";var s=e.replace(/<\s*script/gi,"<"+o).replace(/<\s*(\/)\s*script/gi,"</"+o);r=$('<div style="display:none">'+s+"</div>")}else r=$(e);if(fe(t))return r;var l="";"$"==a[0]&&(l=a.substr(1).trim(),a="");var p,c,u,f,h,m,g,v,y,b,S=(l=l||r.attr("data-rendered-component"))||"_unknown_",C=Se({__computed__:{}},t),d=r.find(a+"[data-bind]");function w(e){return"#"==(e=(e||"").trim())[0]?e:me(C,e)}function O(e,t){return["_runTimeTemplate",e,l,t.replace(/[^a-z0-9]/gi,"_"),ae.now()].join("_")}function x(e,t){return ae.compiledTemplates4DataBind.hasOwnProperty(S)||(ae.compiledTemplates4DataBind[S]={}),ae.compiledTemplates4DataBind[S][e]=Handlebars.compile(Oe(t))}if(d.length||(d=r.filter(a+"[data-bind]")),d.length&&!i&&l&&(d=d.filter(function(){return $(this).closest("[data-rendered-component]").attr("data-rendered-component")==l})),ye(d,function(d){p=$(d),(c=p.data("bind")||"")&&!c.containsStr(":")&&(c=W(d)+":'"+c+"'"),u=oe(c||"{}"),y=ae.renderUtils.getFn(p.attr("data-bind-callback")||""),u&&!ue(u)&&ye(ve(u),function(e){f=(u[e]+"|").split("|"),h=f.shift().trim(),b="!"==h[0],P(g=b?!w(h=h.substr(1).trim()):w(h),"undefined|null")&&(g="");for(var t=0;t<f.length;t++)(m=f[t].trim())&&("."==m[0]&&(m="spa.pipes"+m),g="!"==m[0]?"!"==m?!g:("."==(m=m.substr(1).trim())[0]&&(m="spa.pipes"+m),!ae.renderUtils.runCallbackFn(m,["(...)",g,h,C,d],d)):ae.renderUtils.runCallbackFn(m,["(...)",g,h,C,d],d));ye(e.split("_"),function(e){var t="";if(e=e.trim(),!pe(g))switch(e.toLowerCase()){case"html":p.html(ae.sanitizeXSS(g));break;case"text":p.text(g);break;case"$":if(/checkbox|radio/i.test(d.type)){switch(ie(g)){case"boolean":d.checked=g;break;default:d.checked=d.value.equalsIgnoreCase(""+g)}d.checked?d.setAttribute("checked",""):d.removeAttribute("checked")}else/select/i.test(d.tagName)&&console.warn("TODO: data-bind:select");break;case"if":t=h.replace(/[^a-z0-9]/gi,"_"),C.__computed__[t]=g;var a,n=p.attr("data-bind-template");if(n)a=ae.compiledTemplates4DataBind[S][n];else{var r="{{#if __computed__."+t+" }}"+p.html().trim()+"{{/if}}";a=x(n=O("if",h),r),p.attr("data-bind-template",n)}p.html(a(C));break;case"repeat":t=h.replace(/[^a-z0-9]/gi,"_"),C.__computed__[t]=g;var o,i=p.attr("data-bind-template");if(i)o=ae.compiledTemplates4DataBind[S][i];else{var s=(u.repeatAs||"").replace(/[,|:]/g," ").normalizeStr(),l="{{#each __computed__."+t+(s?" as |"+s+"|":"")+" }}"+p.html().trim()+"{{/each}}";o=x(i=O("repeat",h),l),p.attr("data-bind-template",i)}p.html(o(C));break;case"repeatAs":break;default:switch(!0){case/^\./.test(e):var c=e.replace(/[\.\,]/g," ").normalizeStr();p[g?"addClass":"removeClass"](c);break;default:p.attr(e,g),e.beginsWithStr("data-")&&(v=ae.dotToCamelCase(e.getRightStr("-").replace(/-/g,".")))&&p.data(v,g)}}}),y&&y.call(d,d)})}),!n&&!i&&r.is("[data-rendered-component]")){var k=r.attr("data-rendered-component");if(!fe(k)){var T="app."+k+".bindCallback";ae.renderUtils.runCallbackFn(T,C,app[k])}}if(!i){var _,E=r.find("[data-rendered-component]").filter(function(){return this.hasAttribute("data-spa-component-$data")||this.hasAttribute("data-spa-$data")||this.hasAttribute("spa-$data")});if(E.length)E.each(function(){_=function(e,t,a){var n,r,o,i,s,l="app."+(t=t.replace(/[^a-z0-9]/gi,"_"))+".";ce(a)&&(ae.tempBind$data.hasOwnProperty(t)||(ae.tempBind$data[t]={}),ae.tempBind$data[t].$data=Se({},me(app,t+".$data",{}),a),l="spa.tempBind$data."+t+".");n=$(e),r=n.data(),o=(n.attr("data-spa-component")||"").split("|"),(i=(o[1]||"").trim())&&(/\:\s*\$data/.test(i)&&(i=i.replace(/\:\s*\$data/g,":"+l+"$data")),i=oe(i));var c=n.attr("data-spa-component-options")||n.attr("data-spa-$options")||n.attr("spa-$options")||"{}";if((s=Se({},i,r,oe(c))).hasOwnProperty("data")&&de(s.data)){var d=s.data.trim();/^\$data/.test(d)&&(d=l+d),s.data=Se({},me(window,d,{}))}var p=(n.attr("data-spa-component-$data")||n.attr("data-spa-$data")||n.attr("spa-$data")||"").trim();p&&(/\:\s*\$data/.test(p)&&(p=p.replace(/\:\s*\$data/g,":"+l+"$data")),fe(s.data)?s.data=oe(p):Se(s.data,oe(p)));if(!fe(s.data)&&s.data.hasOwnProperty("$data")){var u=Se({},s.data.$data);delete s.data.$data,Se(s.data,u)}return s.hasOwnProperty("data")?s.data:{}}(this,l,t),ae.bindData(this,_)})}return C=null,i?r.html().replace(new RegExp(o,"g"),"script"):r},ae.bindTemplateData=function(e,t){var a=e;if(/^\s*#[a-z]+/i.test(e)&&(a=$(e).html()),fe(t))return a;if(/ data-bind\s*=/i.test(a)&&(a=ae.bindData(e,t)),/{{(.+)}}/.test(a))if("undefined"!=typeof Handlebars&&Handlebars)try{a=Handlebars.compile(a)(t)}catch(e){console.log("Error Handlebars compile/bind.",e)}else console.warn("Handlebars Template Library not found!");return a},ae.togglePassword=function(e){if(!$(e).next(".icon.eye").length){var t=$('<i class="icon eye"></i>');t.on("click",function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=$(this).prevAll(".toggle-password"),a="text"==t.attr("type")?"password":"text";t.attr("type",a).toggleClass("text")}),$(t).insertAfter(e)}},ae.initTogglePassword=function(e){$(e||"body").find(".toggle-password").each(function(e,t){ae.console.info("Initializing toggle password",t),ae.togglePassword(t)})},ae.isElValueChanged=function(e){var a,t,n=$(e);if(n.length)if("checkbox"==(t=n[0]).type)a=t.checked!=t.defaultChecked;else if("radio"==t.type)$(t).closest("form").find(':radio[name="'+t.name+'"]').each(function(e,t){a=a||t.checked!=t.defaultChecked});else if(0<="INPUT,TEXTAREA".indexOf(t.tagName))a=t.value!=t.defaultValue;else if("SELECT"==t.tagName){var r,o,i,s=0;for(r=0,o=t.options.length;r<o;r++)i=t.options[r],a=a||i.selected!=i.defaultSelected,i.defaultSelected&&(s=r);a&&!t.multiple&&(a=s!=t.selectedIndex)}return a},ae.resetElDefaultValue=function(e){var t,a=$(e);if(a.length)if(t=a[0],0<",checkbox,radio".indexOf(t.type))t.defaultChecked=t.checked;else if(0<",INPUT,TEXTAREA".indexOf(t.tagName))t.defaultValue=t.value;else if("SELECT"==t.tagName){var n,r,o;for(n=0,r=t.options.length;n<r;n++)(o=t.options[n]).defaultSelected=o.selected}},ae.updateTrackFormCtrls=function(e){if(e){var a,n,r,o,t=$(e),i=t.find(".tracking-change.changed").length,s=ae.validateForm("#"+t.attr("id")),l=!(fe(s)||1==s[0].errcode)||t.find(".validation-error,.validation-pending").length,c=0<i&&!l,d=!l,p=t.find(".ctrl-on-change,.ctrl-on-validate");t.attr("data-changed",i).data("changed",i),p.each(function(e,t){a=$(t),n=a.hasClass("ctrl-on-change")?c:d,fe(r=a.attr("onBeforeChange"))||(0<r.indexOf("(")&&(r=r.getLeftStr("(")),o=me(window,r.trim(),void 0),n=le(o)?!!o.call(t,n):n),a.is(":disabled")==n&&(a.prop("disabled",!n).addClass(n?"":"disabled").removeClass(n?"disabled":""),a.trigger("change"))})}},ae.trackFormElChange=function(e,t){function i(e){if("change"==e.type||e.key&&(1==e.key.length||0<="BackspaceDelete".indexOf(e.key))){var t,a=!1,n=$(this).closest("form"),r=n.find(".tracking-change.changed").length;if("checkbox"==this.type)a=this.checked!=this.defaultChecked;else if("radio"==this.type)n.find(':radio[name="'+this.name+'"]').each(function(e,t){t.checked==t.defaultChecked&&$(t).removeClass("changed"),a=a||t.checked!=t.defaultChecked});else if(0<="INPUT,TEXTAREA".indexOf(this.tagName))a=this.value!=this.defaultValue,t="change"!=e.type;else if("SELECT"==this.tagName){var o,i,s,l=0;for(o=0,i=this.options.length;o<i;o++)s=this.options[o],a=a||s.selected!=s.defaultSelected,s.defaultSelected&&(l=o);a&&!this.multiple&&(a=l!=this.selectedIndex)}$(this)[a?"addClass":"removeClass"]("changed"),ae.updateTrackFormCtrls(n),null!=r&&t&&n.trigger("change")}}$(t||"body").find(e).each(function(e,t){"FORM"==t.tagName.toUpperCase()?ae.trackFormElChange($(t).find(".track-change").length?".track-change":"input,textarea,select",t):function(e){var t="change",a=$(e);if(0<",checkbox,radio".indexOf(e.type))e.defaultChecked=e.checked;else if(0<",INPUT,TEXTAREA".indexOf(e.tagName))e.defaultValue=e.value,t="keyup change";else{if("SELECT"!=e.tagName)return;var n,r,o;for(n=0,r=e.options.length;n<r;n++)(o=e.options[n]).defaultSelected=o.selected}a.removeClass("track-change changed"),ae.updateTrackFormCtrls(a.closest("form")),e.className.indexOf("tracking-change")<0&&a.addClass("tracking-change").on(t,i)}(t)})},ae.initTrackFormElChanges=function(e){$(e||"body").find("form.track-changes,form:has(.ctrl-on-change,.track-change)").each(function(e,t){ae.console.info("Initializing Form Elements Track: Form ["+(t.id||t.name)+"]"),ae.trackFormElChange(t)})},ae.getModifiedElement=function(e){var t,a=void 0;return I($(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])"),function(e){return t||(e.tagName.match(/^(select|textarea)$/i)&&e.value!=e.defaultValue?t=!0:e.tagName.match(/^input$/i)&&(e.type.match(/^(checkbox|radio)$/i)&&e.checked!=e.defaultChecked?t=!0:e.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&e.value!=e.defaultValue&&(t=!0)),t&&(a=e)),!t}),a},ae.getModifiedElements=function(e){var a,n=[];return $(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])").each(function(e,t){a=!1,t.tagName.match(/^(select|textarea)$/i)&&t.value!=t.defaultValue?a=!0:t.tagName.match(/^input$/i)&&(t.type.match(/^(checkbox|radio)$/i)&&t.checked!=t.defaultChecked?a=!0:t.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&t.value!=t.defaultValue&&(a=!0)),a&&n.push(t)}),n},ae.initTrackElValueChanges=ae.resetElementsDefaultValue=function(e){$(e||"form :input:not(:disabled)").each(function(e,t){t.defaultValue=t.value,t.tagName.match(/^input$/i)&&t.type.match(/^(checkbox|radio)$/i)&&t.checked!=t.defaultChecked&&(t.defaultChecked=t.checked)})},ae.trash={container:[],push:function(e){this.container.push(e)},empty:function(){this.container=[]},pick:function(e){return e?this.container[e]:this.container}},ae.fillData=function(c,d,e){var t="object"==typeof c;d&&"object"==typeof d&&(e=d,d=null),d=d||"body";var p={dataParams:{},method:"GET",async:!0,dataCache:!1,keyFormat:"aBc",selectPattern:"[name='?']",formatterCommon:null,formatterOnKeys:null,resetElDefault:!0,resetElDefaultInContext:!0,keysMap:{}};$.extend(p,e),t||$.ajax({url:c,method:(""+(p.method||"GET")).toUpperCase(),data:p.dataParams,cache:p.dataCache,async:p.async,dataType:"text",success:function(e){c=oe(""+e),t="object"==typeof c,function(){var l=p.keyFormat;l=null!=(l=null!=l.match(/^[a-z]/)?"aBc":l).match(/^[A-Z]/)?"AbC":l;var e=A(c);ae.console.group("fillData"),ae.console.info(e),ye(e,function(e){ae.console.group(">>"+e);var t=""+(e.replace(/[\[\]]/g,"_")||""),a=e.replace(/\[[0-9]+\]/g,""),n=/\[[0-9]+\]/.test(e);switch(l){case"_":t=ae.dotToX(t,"_"),a=ae.dotToX(a,"_");break;case"AbC":t=ae.dotToTitleCase(t),a=ae.dotToTitleCase(a);break;default:t=ae.dotToCamelCase(t),a=ae.dotToCamelCase(a)}var r={patternKey:t+(n?" || "+a:""),formatterKey:a,isArrayChild:n};ae.trash.push(r),ae.console.info(r),ae.trash.empty();var o=p.selectPattern.replace(/\?/g,t);(p.keysMap[t]||p.keysMap[a])&&(p.keysMap[t]=p.keysMap[t]||{},p.keysMap[a]=p.keysMap[a]||{},p.keysMap[t].pattern=p.keysMap[t].pattern||p.keysMap[a].pattern,p.keysMap[t].pattern&&(o=p.keysMap[t].pattern.replace(/\?/g,t)),p.keysMap[a].formatter&&(p.formatterOnKeys=p.formatterOnKeys||{},p.formatterOnKeys[a]=p.keysMap[a].formatter));var i=$(d).find(o).length;ae.console.info(">> "+o+" found: "+i);var s=null;0<i&&(s=me(c,e),!p.formatterOnKeys&&p.formatterCommon&&(s=p.formatterCommon(s,e,c)),p.formatterOnKeys&&(p.formatterOnKeys[a]?s=p.formatterOnKeys[a](s,e,c):p.formatterCommon&&(s=p.formatterCommon(s,e,c))),ae.console.info({value:s})),$(d).find(o).each(function(e,t){switch(ae.console.info(t),t.tagName.toUpperCase()){case"INPUT":switch(t.type.toLowerCase()){case"text":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"search":case"tel":case"time":case"url":case"range":case"button":case"submit":case"reset":$(t).val(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;case"checkbox":case"radio":t.checked=t.value.equalsIgnoreCase(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultChecked=t.checked)}break;case"SELECT":ae.selectOptionForValue(t,s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;case"TEXTAREA":$(t).val(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;default:$(t).html(ae.sanitizeXSS(s))}}),ae.console.groupEnd(">>"+e)}),ae.console.groupEnd("fillData"),p.resetElDefaultInContext&&ae.resetElementsDefaultValue(d+" :input")}()},error:function(e,t,a){ae.console.error("Failed loading data from ["+c+"]. ["+t+":"+a+"]"),le(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a)}})},ae.toRenderDataStructure=function(t,e,a){function n(t,a){return a&&ve(a).length&&ye(ve(a),function(e){t=t.replace(new RegExp("{"+e+"}","gi"),a[e])}),t}var r={},o={},i={},s={};switch(e&&(s=de(e)?ae.queryStringToJson(e):ce(e)?e:{}),!0){case de(t):t.containsStr("\\|")&&(r.dataModel=ae.getOnSplit(t,"|",0),t=ae.getOnLastSplit(1)),r.dataUrl=n(t,a),_isEmpty(s)||(r.dataParams=s);break;case se(t):o={urls:[]},i={},ye(t,function(e){i={url:n(e,a),params:s},e.containsStr("\\|")&&(i.target=ae.getOnSplit(e,"|",0),i.url=n(ae.getOnLastSplit(1),a)),o.urls.push(i)});break;case ce(t):o={urls:[]},i={},ye(ve(t),function(e){i={name:e,url:n(t[e],a),params:s},t[e].containsStr("\\|")&&(i.target=ae.getOnSplit(t[e],"|",0),i.url=n(ae.getOnLastSplit(1),a)),o.urls.push(i)})}return _isEmpty(o.urls)||(r.dataCollection=o),r};var q={};function K(e,t){var a="_rtt_"+e,n="";if(t&&ce(t)&&ae.hasPrimaryKeys(t,"template|templateStr|templateString|templateUrl")){if(t.hasOwnProperty("template")){var r=t.template.trim();r.beginsWithStr("#")&&!r.containsStr(" ")||(t.templateStr=t.template)}if(ae.hasPrimaryKeys(t,"templateStr|templateString"))n=t.templateStr||t.templateString||"",ae.updateTemplateScript(a,n),t.template="#"+a;else if(ae.hasPrimaryKeys(t,"templateUrl")){var o=(t.templateUrl||"").trim();if(o&&/^(\.\/)/.test(o)){var i=/[^a-z0-9]/gi.test(e);o=ae.defaults.components.rootPath+(ae.defaults.components.inFolder||i?e.replace(/[^a-z0-9]/gi,"/")+"/":"")+o.substr(2)}t.template=o}}return t&&ce(t)&&!ae.hasPrimaryKeys(t,"data|dataUrl")&&ae.hasPrimaryKeys(ae.api.urls,"$"+e)&&(t.dataUrl="@$"+e),ae.console.log("$ Adj.Options>>>>",e,t?t.__now():t),t}ae.env="",ae.compiledTemplates4DataBind={},ae.compiledTemplates={},ae.viewModels={},ae.renderHistory={},ae.renderHistoryMax=0,ae.components={},ae.tempBind$data={},ae.defaults={components:{templateEngine:"handlebars",rootPath:"app/components/",inFolder:!0,templateExt:".html",scriptExt:".js",templateScript:!1,templateCache:!0,dataPreRequest:"",render:"",callback:"",extend$data:!0,offline:!1},routes:{base:"#",attr:{route:"data-spa-route",params:"data-spa-route-params",onNavAway:"onNavAway"},className:{hide:"HIDE-SPA-NAV",block:"BLOCK-SPA-NAV",allow:"ALLOW-SPA-NAV"},onClickAs:"click"},lang:{path:"app/language/",ext:".txt",cache:!0,async:!0},validation:{xss:{on:"input_onBlur",fn:"_check.xss",msg:"i18n:invalid.input"}},csp:{nonce:""},set:function(e,t){return ce(e)?(e.hasOwnProperty("set")&&delete e.set,Se(this,e)):"string"==typeof e&&("components.extend$data"==e?ae.defaults.components.extend$data=t:ae.setSimpleObjProperty(this,e,t)),this}};var J="api,debug,lang";function X(){var t=this.action;if(arguments.length){var e=arguments;1==arguments.length&&(se(arguments[0])?e=arguments[0]:de(arguments[0])&&(e=arguments[0].split(","))),ae.console.log(e),e&&e.length&&ye(e,function(e){ae.console.info(t+" spa-component:["+e.trim()+"]"),ae[t](e.trim())})}}function G(){var t=this.action;if(arguments.length){var a=arguments;1==arguments.length&&(a=se(arguments[0])?arguments[0]:de(arguments[0])?arguments[0].split(","):arguments[0]),ce(a)?ye(ve(a),function(e){ae.console.info("Rendering spa-component:["+e+"]"),ae[t](e,a[e])}):a&&a.length&&ye(a,function(e){ae.console.info("Rendering spa-component:["+e+"]"),ae[t](e.trim())})}}function Y(e){return e.split(",").map(function(e){return e.trim()+"[src]:not([data-spa-component])"}).join(",")}function Z(e,t){var a;return n?(a=document.createEvent("Event")).initEvent(e,!0,!0):a=new Event(e,{bubbles:!0,cancelable:!0}),t&&(a.targetElement=t),a}function Q(t,a){var n=(ae.defaults.routes.onClickAs||"click").toLowerCase(),e=$(t),r=(""+t.getAttribute(a)||"").trim(),o="click"!==n;if(r&&"null"!=r&&"undefined"!=r&&!(e.hasClass("disabled")||e.is("[disabled]")||e.is(":disabled")))try{if(o){var i="on"+n;e.renameAttr(a,i),t.dispatchEvent(Z(n,t)),e.renameAttr(i,a)}else r.split(";").forEach(function(e){e.trim()&&Function("event","("+e.trim()+")").call(t,Z(n,t))})}catch(e){console.error(e.stack.substring(0,e.stack.indexOf("\n"))+"! Failed to trigger ["+n+"(:->"+a+")] event on Element:\n",t)}}function ee(e){var t=$(this);if(t.hasClass("disabled")||t.is("[disabled]")||t.is(":disabled"))return e.preventDefault(),e.stopPropagation(),void e.stopImmediatePropagation();Q(this,"onclickthis")}function te(e){var t=$(e||"body"),a=t.find("form:not([onsubmit])"),n=Xe?".no-spa-route":"",r=t.find('a[href]:not([href^="#"]):not([href^="javascript:"]):not([target])'+n),o=t.find("a:not([href]):not(.no-link)"),i=t.find("[onclick]:not(:input):not(["+Ke+"]):not([onclickthis])");a.filter(function(){return!$(this).closest("pre").length}).attr("onsubmit","return false;").addClass("spa-form"),r.filter(function(){return!$(this).closest("pre").length}).attr("target","_blank").addClass("spa-external-link"),o.filter(function(){return!$(this).closest("pre").length}).attr("href","javascript:;").addClass("spa-link"),i.filter(function(){return!$(this).closest("pre").length}).addClass("as-btn").renameAttr("onclick","onclickthis").on("click",ee)}function xe(e){var t,a,n,r=$(e),o=me(ae,"_validate.defaults.offline",!0);if(1==r.length){if((t=r.attr("id")||"")||(t=r.attr("name")||"spaForm"+ae.now(),r.attr("id",t)),a=r.data(),n=r.has(".ctrl-on-change,.ctrl-on-validate").length,o){var i=(r.attr("data-validate-defaults")||"").trim();if(i){if(i.indexOf("offline")<0)if(i.endsWithStr("}")){var s=i.lastIndexOf("}");i=[i.slice(0,s),",offline:true",i.slice(s)].join("")}else i+=",offline:true";r.attr("data-validate-defaults",i)}else r.attr("data-validate-defaults","{offline:true}")}r.is("[data-validate-form]")||r.attr("data-validate-form",""),r.attr("data-validation-initialized",""),r.attr("onsubmit")||r.attr("onsubmit","return false;"),r.on("change",function(){ae.updateTrackFormCtrls(this)}),r.find("textarea,input:not(:checkbox),input:not(:radio)").filter(":not([data-validate])").each(function(){this.setAttribute("data-validate","{onInput:{fn:_check.noop}}")});var l="",c=ae.defaults.validation.xss,d=(r.attr("data-validate-xss")||"").trim(),p=(c.msg||"").trim();/msg\s*:/g.test(d)&&((p=oe(d).msg)?d="on":p="Invalid input."),p&&!(d.equalsIgnoreCase("off")||d.equalsIgnoreCase("no")||d.equalsIgnoreCase("skip")||d.equalsIgnoreCase("false"))&&(l=4<d.length?","+d:",on"+c.on.capitalize()+":{fn:'"+c.fn+"',msg:'"+p+"'}");var u,f="onFocus:{fn:_clearSpaValidateMsg,offline:false}"+l,h=(r.attr("data-validate-common")||"").trim();if(h){if(h.indexOf("_clearSpaValidateMsg")<0)u="{"==h[0]?(h[0]=",","{"+f+h):"{"+f+","+h+"}",r.attr("data-validate-common",u)}else r.attr("data-validate-common","{"+f+"}");ae.initDataValidation("#"+((a.validateForm||a.validateScope||"").replace(/[#onRender]/gi,"")||t)),!r.hasClass("track-changes")&&n&&ae.trackFormElChange(e),"onRender".equalsIgnoreCase(a.validateForm)&&ae.validateForm("#"+t,!0,!0)}}function $e(e,t){var a="",n=t||me(window,"app.api.liveApiPrefix",""),r=e.beginsWithStr("!");if(e=e.trimLeftStr("!"),n){var o,i,s=[],l=0;if(de(n)?s=n.split(","):se(n)&&(s=n),0<(o=s.length))for(;!a&&l<o;)a=(i=s[l++].trim())?e.beginsWithStr(i)?i:!ke(e)&&0<e.indexOf(i)?i:"":"";else a=e.beginsWithStr(n)?n:!ke(e)&&0<e.indexOf(n)?n:""}else r&&(a="??");return a}function ke(e){var t=e.getLeftStr(6).toLowerCase();return!(t.beginsWithStr("http:")||t.beginsWithStr("https:")||t.beginsWithStr("//"))}function Te(e,t,a){if(e=e||"/",t=t||"","??"===(a=a||$e(e))){var n=e.indexOf("//");n<0?e=(a="/MOCK-ROOT/")+e.trimLeftStr("/"):a=e.substring(0,e.indexOf("/",n+2)+1)}var r="",o=me(app,"api.mockBaseUrl")||me(ae,"api.mockBaseUrl")||"",i=o?"":(me(app,"api.mockRootFolder")||me(ae,"api.mockRootFolder")||"api_").trimRightStr("/")+"/",s=me(app,"api.mockDataFile")||me(ae,"api.mockDataFile")||"";r=(e||"").replace(/[\{\}]/g,"").replace(RegExp("(.*)(/*)"+a.trimLeftStr("/")),i).replace(/(\/)*\?/,t+"/"+s+"?").replace(/\?$/,"");if(o){o=o.trimRightStr("/")+"/";var l=r.indexOf("//");l<0?r=o+r:l<7&&(r=o+r.substr(r.indexOf("/",r.indexOf("//")+2)+1))}return r}function _e(o,e,t){o.url.beginsWithStr(ae.api.urlKeyIndicator)&&(o.url=ae.api.url(o.url.trimLeftStr(ae.api.urlKeyIndicator),o.data));var a,n=o.url;me(window,"app.api.reqHeaders")&&(o.beforeSend=function(e){var t,a,n,r;t=e,a=o,n=me(window,"app.api.reqHeaders"),ce(r=le(n)?n(t,a):n)?ye(ve(r),function(e){t.setRequestHeader(e,r[e])}):de(r)&&($e(a.url)?(a.data=a.data||"",a.data+=(fe(a.data)?"":"&")+r):t.setRequestHeader("reqHeadersInLiveUrl",r))}),"script"==o.dataType||o.hasOwnProperty("error")||(o.error=app.api.onError||ae.api.onReqError);var r,i="",s=/({+)([^}])*(}+)/;if(ae.api.mock||app.api.mock||n.beginsWithStr("!"))if(n.beginsWithStr("~"))o.url=(ke(n.trimLeftStr("~"))&&ae.api.baseUrl||"")+n.trimLeftStr("~")+(ae.api.liveUrlSuffix||""),ae.api.baseUrl&&(o.crossDomain=!0);else{var l=("/"+o.type.toUpperCase()).replace("/GET","");if(o.type="GET",i=$e(n),n=n.trimLeftStr("!"),i){if(n.containsStr("\\?")||(n=n.trimRightStr("/")+"?"),s.test(n)){ae.console.log("URL has undefined params >>",n,o.data);try{r=de(o.data)?JSON.parse(o.data):o.data,n=ae.api.url(n.replace(/{{/g,"{").replace(/}}/g,"}"),r)}catch(e){}ae.console.log("Updated URL>>",n)}var c=Te(n,l,i);o.url=c,(app.debug||ae.debug)&&console.warn(">>>>>>Intercepting Live API URL: ["+n+"] ==> ["+c+"]"),a=!0}}else i=$e(n),(app.debug||ae.debug)&&console.log("actualUrl:"+n+",baseUrl:"+ae.api.baseUrl+",liveApiPrefix:"+i),i&&(o.url=(ke(n)&&ae.api.baseUrl||"")+n+(ae.api.liveUrlSuffix||""),ae.api.baseUrl&&(o.crossDomain=!0));if(ae.console.log("Remove mock params if any in URL>",o.url),o.url=o.url.replace(/{{([^}])*}}(\/*)/g,""),s.test(o.url)){ae.console.log("URL has undefined params>",o.url,o.data);try{r=de(o.data)?JSON.parse(o.data):o.data,o.url=ae.api.url(o.url.replace(/{</g,"{").replace(/>}/g,"}"),r)}catch(e){}}ae.console.log("Final Ajax URL>",o.url),(s.test(o.url)||/<([^>])*>/.test(o.url))&&(console.warn("URL has undefined params >>",o.url,o.data),o.url=o.url.replace(/[{<>}]/g,"_"));var d=app.api.defaultPayload||ae.api.defaultPayload;if(d){var p,u,f=ie(o.data),h="string"==f?oe(o.data):o.data;le(d)?ce(p=d.call(o,h,o))&&(fe(u=JSON.parse(JSON.stringify(p)))||(o.data="string"==f?JSON.stringify(u):u)):(u=P(d,"object|array")?JSON.parse(JSON.stringify(d)):d,u=P(u,"object|array")&&P(h,"object|array")?Se({},u,h):u,o.data=fe(u)||"string"!=f?u:JSON.stringify(u))}if(ae.ajaxPreProcess&&ae.ajaxPreProcess(o,e,t),(fe(o.data)||de(o.data)&&!/[a-z0-9]/i.test(o.data))&&(ae.console.log("REMVOING EMPTY PAYLOAD"),delete o.data),a){var m=de(o.data)?o.data:JSON.stringify(o.data);m&&de(m)&&6144<m.length&&(m="LAREGE-PAYLOAD-WITH-CHAR-LENGTH:"+m.length),o.headers=Se({},o.headers,{"Z-Live-URL":n,"Z-Payload":m}),delete o.data}(app.debug||ae.debug)&&console.log("ajax Options",o)}ae.component=ae.$=ae.registerComponent=function(e,t){var a=!!t,n=e;if(t=t||{},e)if(ce(e)&&(e=(t=Se({},e)).name||t.componentName||"spaComponent"+ae.now(),t.componentName=e,n=e),de(n)){if(0<=J.indexOf(n))console.error("Invalid component name "+n+". Cannot create Reserved components:"+J.join());else if(de(n)&&n&&(n=n.trim())){if(!a){var r,o,i=-1;return 0<n.indexOf(" ")&&(r=n.getRightStr(" ").trim(),n=n.getLeftStr(" ")),0<n.indexOf(":")&&(i=ae.toInt(n.getRightStr(":").trim()),n=n.getLeftStr(":")),n=n.replace(/[^a-z0-9]/gi,"_"),ae.components[n]||console.warn('Unknown SPA Component "'+(e.getLeftStr(" ")||e)+'"'),(o=$('[data-rendered-component="'+n+'"]')).length&&0<=i&&(o=$(o[i])),r&&o.length&&(o="<"==r[0]?(r=r.getRightStr(0).trim(),o.find("[data-rendered-component]").length?o.find(r).filter(function(){return $(this).closest("[data-rendered-component]").data("renderedComponent")==n}):o.find(r)):o.find(r)),o}if(/[^a-z0-9\/]/gi.test(n)||!/^([a-z])/i.test(n))return void console.error('Invalid component name "'+n+'" to create. Component name must contain only Alphanumeric (a-z A-Z 0-9) and must begin with alphabet (a-z A-Z).');if(/[^a-z0-9]/gi.test(n)&&(n=n.replace(/[^a-z0-9]/gi,"_")),ae.components[n])return;t.componentName=n,t.hasOwnProperty("beforeRender")||(t.beforeRender="app."+n+".onRender"),t.hasOwnProperty("renderCallback")||(t.renderCallback="app."+n+".renderCallback"),t.hasOwnProperty("require")&&ae.loadComponents(t.require,function(){ae.console.log("Required components successfully loaded.")},function(){ae.console.log("Failed to load required components.")});var s=Se({},t=K(n,t));ye(["target","template","templateCache","templateScript","templateUrl","templateUrlMethod","templateUrlParams","templateUrlPayload","templateUrlHeaders","onTemplateUrlError","style","styleCache","styles","stylesCache","scripts","scriptsCache","require","dataPreRequest","data","skipDataBind","dataCollection","dataUrl","dataUrlMethod","dataUrlParams","dataUrlHeaders","defaultPayload","stringifyPayload","dataParams","dataType","dataModel","dataCache","dataUrlCache","dataDefaults","data_","dataExtra","dataXtra","onDataUrlError","onError","dataValidate","dataProcess","dataPreProcessAsync","beforeRender","beforeRefresh","componentName"],function(e){delete t[e]}),de(t.renderCallback)&&delete t.renderCallback,ye(ve(t),function(e){delete s[e]}),s.renderCallback="app."+n+".renderCallback",ae.components[n]=s,ae.extendComponent(e,t)}}else console.error("Invalid ComponentName:",n);else console.error("Missing ComponentName to register.")},ae.$$=ae.registerComponents=function(){if(arguments.length){var t=arguments;1==arguments.length&&(t=se(arguments[0])?arguments[0]:de(arguments[0])?arguments[0].split(","):arguments[0]),ce(t)?ye(ve(t),function(e){ae.console.info("Registering spa-component:["+e+"]"),ae.registerComponent(e,t[e])}):t&&t.length&&ye(t,function(e){ae.console.info("Registering spa-component:["+e+"]"),ae.registerComponent(e.trim())})}},ae.extendComponent=ae.$extend=ae.module=function(e,t){if(t=t||{},e)if(ce(e)&&(e=(t=Se({},e)).name||t.componentName||"spaComponent"+ae.now(),t.componentName=e),de(e)&&e){if(e=e.trim()){if(0<=J.indexOf(e))return void console.error("Invalid component name "+e+". Cannot extend Reserved components: "+J.join());if(/[^a-z0-9\/]/gi.test(e)||!/^([a-z])/i.test(e))return void console.error('Invalid component name "'+e+'" to extend. Component name must contain only Alphanumeric (a-z A-Z 0-9) and must begin with alphabet (a-z A-Z).');/[^a-z0-9]/gi.test(e)&&(e=e.replace(/[^a-z0-9]/gi,"_")),window.app=window.app||{},window.app[e]=window.app[e]||{},t&&le(t)&&(t=t.call(ae.components[e]||{})),t=ce(t)?t:{},ae.components[e]||(ae.components[e]={componentName:e,beforeRender:"app."+e+".onRender",renderCallback:"app."+e+".renderCallback"}),ae.components[e]&&(t.__prop__&&Se(ae.components[e],$.extend({},t.__prop__)),t.__prop__=ae.components[e]),$.extend(window.app[e],t),window["$$"+e]=window.app[e]}}else console.error("Invalid ComponentName:",e);else console.error("Missing ComponentName to extend.")},ae.extendComponents=ae.$$extend=function(){if(arguments.length){var t=arguments;1==arguments.length&&(t=se(arguments[0])?arguments[0]:de(arguments[0])?arguments[0].split(","):arguments[0]),ce(t)?ye(ve(t),function(e){ae.console.info("Extend spa-component:["+e+"]"),ae.extendComponent(e,t[e])}):t&&t.length&&ye(t,function(e){ae.console.info("Extend spa-component:["+e+"]"),ae.extendComponent(e.trim())})}},ae.$bind=function(e,t){e=String(e).replace(/[^a-z0-9]/gi,"_"),fe(t)&&(t=me(app,e+".$data",{})),ae.$(e).spaBindData(t)},ae.$data=function(e,t,a){var n,r;if(e=((e=String(e).replace(/[^a-z0-9]/gi,"_"))||"").trim(),a=a||"update",e)if(app.hasOwnProperty(e)){if(n=me(app,e+".$data"),t){if(ce(r=le(t)?t.call(app[e],app[e].$data):t)&&(["update","merge"].__has(a,"i")?Se(app[e].$data,r):["*","reset","replace","overwrite"].__has(a,"i")&&(app[e].$data=r)),app[e].is$DataUpdated=ae.components[e].is$DataUpdated=!0,n=app[e].$data,ae.$(e).is(":visible")){var o=ae.components[e],i=o.dataCache,s=(o.on$dataChange||"").trim().toLowerCase();i&&s&&["render","refresh","bind"].__has(s)&&(ae.console.log(e+"$"+s+" on $data update ..."),ae["$"+s](e)),ae.renderUtils.runCallbackFn("app."+e+".$dataChangeCallback",app[e].$data,app[e])}else console.log("Component is not visible! Skipped $on$dataChange.");ae.$dataNotify(e)}}else ae.console.warn("SPA Component[",e,"] is not loaded.");return n},ae.$dataWatch=function(e,t,a){if((e=String(e).replace(/[^a-z0-9]/gi,"_"))&&t&&le(a))return q.hasOwnProperty(e)||(q[e]={}),q[e].hasOwnProperty(t)?void console.warn("$dataWatch [",t,"] already exists in spa$[",e,"]"):(q[e][t]=a,!0)},ae.$dataUnwatch=function(e,t){var a;return(e=String(e).replace(/[^a-z0-9]/gi,"_"))&&t&&q.hasOwnProperty(e)&&("*"==t&&(delete q[e],a=!0),q[e].hasOwnProperty(t)&&(delete q[e][t],a=!0)),a||console.warn("$dataWatch [",t,"] does not exist in spa$[",e,"]"),a},ae.$dataNotify=function(t,e){if((t=String(t).replace(/[^a-z0-9]/gi,"_"))&&q.hasOwnProperty(t)){var a=ve(q[t]);e&&(a=e.split(",")),ye(a,function(e){e=(e||"").trim(),q[t].hasOwnProperty(e)&&q[t][e].call(void 0,app[t].$data,app[t],e)})}},ae.$renderCount=function(e){return me(window,"app."+String(e).replace(/[^a-z0-9]/gi,"_")+".__renderCount__",0)},ae.removeComponent=function(e,n){var t;function a(e){var t,a=fe(e=String(e).replace(/[^a-z0-9]/gi,"_").trim());return(a=a||(pe(t=ae.renderUtils.runCallbackFn("app."+e+".onRemove",n||"_script_",app[e]))||w(t)&&t))||ae.console.warn("Remove $"+e+" request denied onRemove()"),a}if(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim(),n=n&&(e==n?"_self_":n),e){var r=$('[data-rendered-component="'+e+'"]');if(r.length){var o=r.find("[data-rendered-component]").map(function(){return $(this).attr("data-rendered-component")});(0==o.length||I(o,function(e){return a(e)}))&&a(e)&&(r.html("").text("").val("").data("renderedComponent","").removeAttr("data-rendered-component"),t=!0)}else t=!0}return w(t)&&t},ae.destroyComponent=function(e){var t;if((e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&ae.removeComponent(e)&&(delete app[e],ae.components[e])){var a=me(ae.components[e],"template","");a&&!a.beginsWithStr("#")&&(a="#__tmpl_"+(""+a).replace(/[^a-z0-9]/gi,"_")),$("script"+a).remove(),delete ae.components[e],delete ae.compiledTemplates4DataBind[e],delete ae.compiledTemplates[e],delete q[e],t=!0}return t},ae.showComponent=function(e,t){var a=(e||"").replace(/[^a-z0-9]/gi,"_").trim();if(a){var n=$('[data-rendered-component="'+a+'"]');n.length?n.show():ae.$render(e,t)}},ae.hideComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').hide()},ae.disableComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').css("pointer-events","none").addClass("disabled").attr("disabled","disabled")},ae.enableComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').css("pointer-events","auto").removeClass("disabled").removeAttr("disabled")},ae.removeComponents=ae.$remove=ae.$$remove=function(){X.apply({action:"removeComponent"},arguments)},ae.destroyComponents=ae.$destroy=ae.$$destroy=function(){X.apply({action:"destroyComponent"},arguments)},ae.showComponents=ae.$show=ae.$$show=function(){X.apply({action:"showComponent"},arguments)},ae.hideComponents=ae.$hide=ae.$$hide=function(){X.apply({action:"hideComponent"},arguments)},ae.enableComponents=ae.$enable=ae.$$enable=function(){X.apply({action:"enableComponent"},arguments)},ae.disableComponents=ae.$disable=ae.$$disable=function(){X.apply({action:"disableComponent"},arguments)},ae.refreshComponent=ae.$refresh=function(e,t){e&&ce(t=t||{})&&(t.hasOwnProperty("beforeRender")||(t.beforeRender=t.beforeRefresh||"app."+e.replace(/[^a-z0-9]/gi,"_")+".onRefresh"),t.hasOwnProperty("renderCallback")||(t.renderCallback=t.refreshCallback||"app."+e.replace(/[^a-z0-9]/gi,"_")+".refreshCallback"),t.isRefreshCall=!0,ae.console.info("Calling refreshComponent: "+e+" with below options"),ae.console.info(t),ae.$render(e,t))},ae.renderComponent=ae.$render=function(e,n){if(n=n||{},e){var r=e;ce(e)&&(n=Se({},e),e=n.name||n.componentName||"spaComponent"+ae.now(),n.componentName=e,r=e);var t=!n._reqFrTag_;if(de(e)){if("$"==(e=e.trim())[0]&&(t=!0),!(n&&ce(n)&&n.isRefreshCall)&&ae.$renderCount(r)&&me(window,"app."+r+".refreshCallback",""))return ae.console.info("Component ["+e+"] has been rendered already. Refreshing instead of re-render."),void ae.refreshComponent(r,n);if(ae.console.info("Called renderComponent: "+e+" with options",n),!t&&/[^a-z0-9]/gi.test(r)){var a,o=r;if(r[0]===ae.api.urlKeyIndicator&&(a=r.trimLeftStr(ae.api.urlKeyIndicator),o=ae.api.urls[a]||""),n.componentUrl=o,ae.console.info("Called to render ServerComponent: ["+r+"] with options",n),a&&!o&&console.warn("ComponentURL undefined: app.api.urls."+a),o){var i=n.targetEl,s=he(oe(n.urlHeaders),n),l=he(oe(n.urlParams),n),c=he(oe(n.urlPayload),n),d=(n.urlMethod||"GET").toLowerCase(),p="false"!==String(n.urlCache||"false").toLowerCase(),u=ae.api.url(o,l),f=he(n.urlError);ae.console.log("Loading ServerComponent ..."),ae.api[d](u,c,function(e){$(i).html(e),ae.renderComponentsInHtml(i)},function(e,t,a){this.onError&&le(this.onError)?this.onError.call(this,e,t,a):(console.warn("Unable to load ServerComponent."),console.error(String(t).toUpperCase()+":"+a,e))},{ajaxOptions:{dataType:"html",headers:s,cache:p,onError:f}})}}else{var h=/[^a-z0-9]/gi.test(e);h&&(r=e.replace(/[\s\$]/g,"").replace(/[^a-z0-9]/gi,"_"));var m="_rtt_"+r,g="";n=K(r,n);var v=h?r.replace(/[^a-z0-9]/gi,"/"):r,y=r;if(h){var b=r.split("_");y=b[b.length-1]}function S(){if(ae.console.info("_renderComp: "+r+" with below options"),ae.console.info(n),!ae.components[r].hasOwnProperty("template"))if(ae.components[r].hasOwnProperty("templateStr")||ae.components[r].hasOwnProperty("templateString"))g=ae.components[r].templateStr||ae.components[r].templateString||"",ae.updateTemplateScript(m,g),ae.components[r].template="#"+m;else if(ae.hasPrimaryKeys(ae.components[r],"templateUrl")){var e=(ae.components[r].templateUrl||"").trim();e&&/^(\.\/)/.test(e)&&(e=w+e.substr(2)),ae.components[r].template=e}else ae.components[r].template=x;ae.console.info("render-options: spa.components["+r+"]"),ae.console.info(ae.components[r]);var t=n&&n.saveOptions?ae.components[r]:$.extend({},ae.components[r]);if(n&&(n.hasOwnProperty("mountComponent")||delete t.mountComponent,$.extend(t,n),ae.console.info("Extended> render-options: spa.components["+r+"]"),ae.console.info(t)),t.hasOwnProperty("style")&&de(t.style)&&(t.dataStyles={},t.dataStyles[r+"Style"]="."==t.style||"$"==t.style?O+".css":/^(\.\/)/.test(t.style)?w+t.style.substr(2):t.style,delete t.style,ae.console.info("Using component style for ["+r+"]"),ae.console.info(t)),t&&ce(t)&&t.dataCache){var a=me(app,r+".$data",{});fe(a)?(t.dataCache=!1,ae.console.log("dataCache:false; Using/Ajaxing new data ...")):(t.data=a,t.dataProcess=!1,ae.console.log("dataCache:true; Using $data and ingored data + dataProcess ..."))}ae.render(t)}function C(){T?ae.console.info("Loaded component ["+r+"] source from ["+T+"]"):ae.console.info("Skipped Loading component ["+r+"] source from script file."),ae.console.info("In Source> spa.components["+r+"]"),ae.console.info(ae.components[r]),ae.components.hasOwnProperty(r)||(ae.console.info("spa.components["+r+"] NOT DEFINED in ["+(T||"spa.components")+"]. Creating *NEW*"),fe(n)&&(n={}),n.hasOwnProperty("componentName")||(n.componentName=r),ae.components[r]=n,ae.console.info("NEW> spa.components["+r+"]"),ae.console.info(ae.components[r])),S()}var w=ae.defaults.components.rootPath+(ae.defaults.components.inFolder||h?v+"/":""),O=w+y,x=O+ae.defaults.components.templateExt,k=ae.defaults.components.scriptExt,T=n&&ce(n)&&n.hasOwnProperty("script")?n.script:k?O+k:"";ae.components.hasOwnProperty(r)?(ae.console.info("Re-rending spa.components["+r+"]"),ae.console.info(ae.components[r]),S()):T?(ae.console.info("Attempt to load component ["+e+"]'s properties from ["+T+"]"),$.cachedScript(T,{spaComponent:v,dataType:"spaComponent",success:C,cache:ae.defaults.components.offline}).done(E).fail(function(){ae.console.info("Attempt to Load component ["+e+"]'s properties from ["+T+"] has FAILED. Not to worry. Continuing to render with default properties."),C()})):C()}}else console.error("Invalid ComponentName:",e)}else console.error("Missing ComponentName to render.")},ae.renderComponents=ae.$$render=function(){G.apply({action:"renderComponent"},arguments)},ae.refreshComponents=ae.$$refresh=function(){G.apply({action:"refreshComponent"},arguments)},ae.renderComponentsInHtml=function(e,s){e=e||"body",s=(s||"").trim();var t=Y("spa-template,x-template");$(e).find(t).each(function(){this.setAttribute("data-spa-component",this.getAttribute("src")),this.setAttribute("data-skip-data-bind","true"),this.setAttribute("data-template-script","true"),this.style.display="none"});var a=Y("spa-html,x-html");$(e).find(a).each(function(){var e=this.getAttribute("src");if(("$"===e[0]||!/[^a-z0-9]/gi.test(e))&&!ae.components[e.replace(/[^a-z0-9]/gi,"_")]){var t={templateScript:!0};!(this.hasAttribute("data")||this.hasAttribute("data-url"))?t.skipDataBind=!0:this.hasAttribute("data-url")||(t.data=this.hasAttribute("data")?oe(this.getAttribute("data")):{}),ae.$(e,t)}this.setAttribute("data-spa-component",e)});var n=Y("spa-component,x-component");$(e).find(n).each(function(){this.setAttribute("data-spa-component",this.getAttribute("src"))});var l,c,d,p,u,f,h,r=$(e).find("[data-spa-component]");r.length&&r.each(function(e,t){if(l=$(t),h=l.data(),c=(l.attr("data-spa-component")||"").split("|"),d=c[0].trim(),(p=(c[1]||"").trim())&&(/\:\s*\$data/.test(p)&&(p=p.replace(/\:\s*\$data/g,":app."+s+".$data")),p=oe(p)),d){if(!ae.components[d]&&(t.hasAttribute("no-script")||t.hasAttribute("noscript")||t.hasAttribute("nojs")||t.hasAttribute("no-js"))&&ae.$(d,{}),!t.id){var a=String(d).trim();"$"==a[0]&&(a=a.replace(/[^a-z0-9]/gi,"_")),a=a.replace(/[^a-z0-9_]/gi,""),f="spaCompContainer_"+a+"_"+($("body").find("[rel=spaComponentContainer_"+a+"]").length+1),t.id=f,t.setAttribute("rel","spaComponentContainer_"+a)}var n=l.attr("data-spa-component-options")||l.attr("data-spa-$options")||l.attr("spa-$options")||"{}";if(u=Se({target:"#"+t.id,targetEl:t,spaComponent:d.trim(),_reqFrTag_:1},p,h,oe(n)),(t.hasAttribute("skipDataBind")||t.hasAttribute("skip-data-bind"))&&(u.skipDataBind=!0),u.hasOwnProperty("data")&&de(u.data)){var r=u.data.trim();/^\$data/.test(r)&&(r="app."+s+"."+r),u.data=Se({},me(window,r,{}))}var o=(l.attr("data-spa-component-$data")||l.attr("data-spa-$data")||l.attr("spa-$data")||"").trim();if(o&&(/\:\s*\$data/.test(o)&&(o=o.replace(/\:\s*\$data/g,":app."+s+".$data")),fe(u.data)?u.data=oe(o):Se(u.data,oe(o))),!fe(u.data)&&u.data.hasOwnProperty("$data")){var i=Se({},u.data.$data);delete u.data.$data,Se(u.data,i)}u.hasOwnProperty("data")&&(u.data_=Se({},u.data),delete u.data),ae.console.log("inner-component",d,"options:",u),ae.renderComponent(d,u)}})},ae.renderUtils={array2ObjWithKeyPrefix:function(e,t,a){var n={};return ye(e,function(e){(e=(""+e).trimStr())&&(n[t+(e.equals(".")?a:e).replace(/[^a-z0-9]/gi,"_")]=""+e)}),ae.console.log([t,n]),n},getFn:function(e){var t=e;return e&&de(e)&&(t=me(window,e)),t&&le(t)?t:void 0},runCallbackFn:function(e,t,a){if(e){var n,r=e,o=a;if(de(r)&&(o||(e.match("]$")?n=e.substring(0,e.lastIndexOf("[")):0<e.indexOf(".")&&(n=e.substring(0,e.lastIndexOf("."))),o=n?me(window,n):window),r=me(window,r)),r){if(le(r))return ae.console.info("calling callback: ","Fn:"+(e.name||""),e),se(t)&&"(...)"==t[0]?(t.shift(),r.apply(o,t)):r.call(o,t);ae.console.error("CallbackFunction <"+e+" = "+r+"> is NOT a valid FUNCTION.")}else ae.console.info("CallbackFunction <"+e+"> is NOT defined.")}},registerComponentEvents:function(r){var e;r&&app[r]&&app[r].hasOwnProperty("events")&&ye(ve(app[r].events),function(n){app[r].events[n].hasOwnProperty("target")&&!fe(app[r].events[n].target)&&(e=app[r].events[n].target,ae.$(r+" "+e).filter(":not([spa-events-"+n+'="'+r+'"])').attr("spa-events-"+n,r).each(function(e,a){ye(ve(app[r].events[n]),function(t){0==t.indexOf("on")&&ye(t.split("_"),function(e){ae.console.log("registering component ["+r+"] event: "+n+"-"+e),$(a).on(e.trimLeftStr("on").toLowerCase(),app[r].events[n][t])})})}))})}},ae.render=function(B,M){if(ae.console.log("spa.render",B,M),arguments.length){if(1!==arguments.length||"object"!=typeof B){var a;M&&(a=M,ye({template:"dataTemplate",templates:"dataTemplates",templateCache:"dataTemplatesCache",templatesCache:"dataTemplatesCache",html:"dataTemplate",htmls:"dataTemplates",htmlCache:"dataTemplatesCache",htmlsCache:"dataTemplatesCache",script:"dataScripts",scripts:"dataScripts",scriptCache:"dataScriptsCache",scriptsCache:"dataScriptsCache",style:"dataStyles",styles:"dataStyles",styleCache:"dataStylesCache",stylesCache:"dataStylesCache",renderType:"dataRenderType",beforeRender:"dataBeforeRender",dataRenderCallBack:"dataRenderCallback",renderCallback:"dataRenderCallback",renderCallBack:"dataRenderCallback",callback:"dataRenderCallback",callBack:"dataRenderCallback",onRemove:"dataRemoveCallback",dataRenderMode:"dataRenderMode",renderMode:"dataRenderMode",renderId:"dataRenderId"},function(e,t){a.hasOwnProperty(t)&&(a[e]=M[t],delete a[t])}));var V={id:"",view:{},model:{},cron:"",elDataAttr:{},target:B,iOptions:M},H=[],W=!1,e=O(B);e&&(V.elDataAttr=$(B).data());var q=1<arguments.length,K=q&&M.hasOwnProperty("data"),J=M&&M.componentName?M.componentName:"",X={data:{},dataPreRequest:ae.defaults.components.dataPreRequest,dataUrl:"",dataUrlParams:{},dataUrlMethod:"GET",dataUrlErrorHandle:"",dataUrlHeaders:{},dataParams:{},dataType:"",dataExtra:{},dataXtra:{},data_:{},dataDefaults:{},dataModel:"",dataValidate:!1,dataProcess:"",dataUrlCache:!1,dataCache:!1,extend$data:ae.defaults.components.extend$data,dataCollection:{},dataTemplates:{},dataTemplate:"",dataTemplatesCache:!0,templateScript:!1,templateEngine:"",dataScripts:{},dataScriptsCache:!0,dataStyles:{},dataStylesCache:!0,dataBeforeRender:"",dataRenderCallback:"",dataRemoveCallback:"",dataRenderMode:"",skipDataBind:!1,render:"",dataRenderId:""};if(e||(O("#spaRunTimeHtmlContainer")||$("body").append("<div id='spaRunTimeHtmlContainer' style='display:none;'></div>"),$("#spaRunTimeHtmlContainer").append("<div id='"+B.replace(/\#/gi,"")+"'></div>")),q){var t={dataTemplatesCache:ae.defaults.components.templateCache},n=(M=Se({},t,M)).hasOwnProperty("saveOptions")&&M.saveOptions;for(var r in M)X[r]=M[r],n&&"data"!==r&&"saveOptions"!==r&&$(B).data(""+(""+((""+r)[4]||"")).toLowerCase()+r.slice(5),ae.toStr(M[r]))}ae.console.log(J+".$"+(X.isRefreshCall?"refresh":"render")+" with options:",X,"$data",me(app,J+".$data"));var G=$(B),o=G.attr("data-rendered-component")||"",i=o==J;if(et(G)){ae.console.log("Component container [",B,"] blocks navigation.");var s=G.hasClass(He)?G:G.find(We);if(1<s.length&&(s=$(s[0])),s.length){var l,c,d=(s.attr(Ge)||"").trim();if(d){if("#"==d[0]||">"==d[0]){var p=">"==d[0]?d.substr(1).trim():d,u=s.find(p).filter(":not(.disabled):not(:disabled)");if(u.length)return void u.trigger("click")}else if((l=me(window,d.split("(")[0].split(";")[0]))&&le(l)&&(c=l.call(app[o],app[o],app[J])),l&&(!w(c)||!c))return}else if((l=me(app,o+".onNavBlock"))&&le(l)&&(c=l.call(app[o],app[o],app[J])),l&&(!w(c)||!c))return}ae.console.log("Render continues.")}i&&(ae.console.log("$refresh - Auto-Detected",J,X),"auto".equalsIgnoreCase(""+X.render)&&(ae.console.log("Finding for refresh events."),C("dataBeforeRender",".onRender","onRefresh"),C("dataRenderCallback",".renderCallback","refreshCallback")));function Y(e){return(""+G.data(e)).replace(/undefined/,"")}function Z(e,t){return fe(X[e])?Y(t):X[e]}var f=Z("dataRenderId","renderId");V.id=f.ifBlankStr("spaRender"+ae.now()+ae.rand(1e3,9999));var Q=Z("dataRenderMode","renderMode")||"replace";ae.console.log("Render Mode: <"+Q+">");var ee="x-spa-template",te=(X.templateEngine||ae.defaults.components.templateEngine||"handlebars").toLowerCase();if(ae.console.group("spaLoadingViewScripts"),q&&M.hasOwnProperty("dataScriptsCache"))ae.console.info("Override [data-scripts-cache] with user option [dataScriptsCache]: "+X.dataScriptsCache);else{var h=Y("scriptsCache");fe(h)||(X.dataScriptsCache=h.toBoolean(),ae.console.info("Override [data-scripts-cache] with [data-scripts-cache] option in tag-attribute: "+X.dataScriptsCache))}var m=Y("scripts");m&&fe((m||"").replace(/[^:'\"]/g,""))&&(m="'"+m.split(",").join("','")+"'");var g,v,y=oe(m||"{}");if(!ce(X.dataScripts)&&de(X.dataScripts)&&(fe(((m=(X.dataScripts||"").trimStr())||"").replace(/[^:'\"]/g,""))&&(m="'"+m.split(",").join("','")+"'"),X.dataScripts=oe(m)),ue(X.dataScripts)||(y=X.dataScripts),se(y)&&be(y,function(e){return!e}),ae.console.info(y),m=[],y&&!ue(y)){if(se(y)){ae.console.info("Convert array of script(s) without scriptID to object with scriptID(s).");var b=ae.renderUtils.array2ObjWithKeyPrefix(y,"__scripts_",B);ae.console.info("Scripts(s) with scriptID(s)."),ae.console.log(b),y=_isEmpty(b)?{}:b}ae.console.info("External scripts to be loaded [cache:"+X.dataScriptsCache+"] along with view container ["+B+"] => "+JSON.stringify(y)),g=ve(y)}else ae.console.info("No scripts defined [data-scripts] in view container ["+B+"] to load.");if(ae.console.groupEnd("spaLoadingViewScripts"),g)m=L(g,function(e){return!(v=we(y[e],J)).endsWithStrIgnoreCase(".js")&&v.indexOf("?")<0&&(v+=ae.defaults.components.scriptExt),(X.dataScriptsCache?"":"~")+v});return ae.console.log("component [",J,"] scripts:",m),ae.loadScriptsSync(m,function(){ae.console.info("External Scripts Loaded."),!ne&&ve(app.api).length&&wt();var e=X?X.dataPreRequest:"";if(de(e)&&(e=ae.renderUtils.getFn(e)),le(e))try{var t=e.call(app[J]);t&&ce(t)&&ve(t).forEach(function(e){0==e.indexOf("data")&&(X[e]=t[e])})}catch(e){console.error("dataPreRequest-Error in app."+J,e)}ae.console.group("spaDataModel");var p,a,n,r=Z("dataModel","model"),o=Z("dataUrl","url"),i=K||o.beginsWithStrIgnoreCase("local:"),s=o.beginsWithStrIgnoreCase("local:")?o.replace(/local:/gi,""):"data",u=le(n=me(app,"api.ajaxOptions.defaultPayload",{}))?n():ce(n)?Se({},n):n,f=X&&X.hasOwnProperty("stringifyPayload")?X.stringifyPayload:me(app,"api.ajaxOptions.stringifyPayload");r=r.ifBlankStr(s),p=r.replace(/\./g,"_");var h={};if(K)h[p]=le(X.data)?X.data():X.data,ae.console.info("Loaded data model ["+r+"] from argument");else{if(q&&M.hasOwnProperty("dataCache"))ae.console.info("Override [data-cache] with user option [dataCache]: "+X.dataCache);else{var l=Y("cache");fe(l)||(X.dataCache=l.toBoolean(),ae.console.info("Override [data-cache] with [data-cache] option in tag-attribute: "+X.dataCache))}if(fe(o)){h[p]={};var m=Y("collection");m=m&&oe(m),fe(X.dataCollection)||(m=X.dataCollection),se(m)&&(m={urls:m});var c=m.urls;if(fe(c))ae.console.info("Model Data ["+r+"] or [data-url] or [data-collection] NOT found! Check the arguments or html markup. Rendering with options."),h[p]=Se({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra);else if(se(c)){ae.console.info("Processing data-URLs");var g=0,v=m.nameprefix||"data";ye(c,function(l){var e=v+g,c=ge(l,"name")?(""+l.name).replace(/[^a-zA-Z0-9]/gi,""):ge(l,"target")?""+l.target:e,d=ge(l,"url")?l.url:ge(l,"path")?l.path:"";if(c.containsStr(".")&&(c=Ce(c.split("."))),c=c.ifBlankStr(e),ae.console.info("processing data-api for: "+c),ae.console.log(l),d){ge(l,"urlParams")&&(d=ae.api.url(d,l.urlParams));var t=ge(l,"headers")?l.headers:X.dataUrlHeaders;fe(t)&&(t=me(window,"app.api.ajaxOptions.headers",{})),a=ge(l,"params")?l.params:ge(l,"data")?l.data:{},ge(l,"defaultPayload")||fe(u)||(a=Se({},u,!fe(a)&&ce(a)?a:{})),!fe(a)&&f&&(a=JSON.stringify(a)),H.push($.ajax({url:d,method:(""+(l.method||"GET")).toUpperCase(),headers:le(t)?t():t,data:a,cache:ge(l,"cache")?l.cache:X.dataCache,dataType:ge(l,"type")?l.type:X.dataType||me(window,"app.api.ajaxOptions.dataType","text"),success:function(e,t,a){var n,r=ge(l,"target")?""+l.target:"",o=de(e)?oe(""+e,"data"):e;if(0<r.indexOf("."))n=ae.hasKey(o,r)?me(o,r):o;else try{n=o.hasOwnProperty(r)?o[r]:o}catch(e){console.warn("Error in Data Model ["+r+"] in URL ["+d+"].\n"+e.stack)}h[p][c]?(h[p][c]=[h[p][c]],h[p][c].push(n)):h[p][c]=n,ae.console.info("Loaded data model ["+c+"] from ["+d+"]");var i=l.success||l.onsuccess||l.onSuccess;if(i=i||(m.success||m.onsuccess||m.onSuccess))if(le(i))i.call(this,o,l,t,a);else if(de(i)){var s=me(window,i);le(s)?s.call(this,o,l,t,a):ae.console.log("Unknown ajax success handle: "+i)}},error:function(e,t,a){ae.console.warn("Error processing data-api ["+d+"]");var n=l.error||l.onerror||l.onError;if(!n){n=m.error||m.onerror||m.onError;var r=X.dataUrlErrorHandle||X.onDataUrlError||X.onError;!n&&r&&(n=r)}if(n){if(le(n))n.call(this,e,t,a);else if(de(n)){var o=me(window,n);le(o)?o.call(this,oResult,l):ae.console.log("Unknown ajax error handle: "+n)}}else le(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a)}}))}else ae.console.error("data-api-url not found. Please check the arguments or html markup. Skipped this data-api request");g++})}else ae.console.warn("Invalid [data-urls].Check the arguments or html markup. Rendering with empty data {}.")}else if(o.beginsWithStrIgnoreCase("local:")){var d=o.replace(/local:/gi,""),y={};if(re(d)){try{y=Function('"use strict";return ('+d+")")()}catch(e){console.error("Error in spa.$('"+X.componentName+"'): Invalid Data Model >> \"local:"+d+'"\n>> '+e.stack.substring(0,e.stack.indexOf("\n")))}ae.console.info("Using LOCAL Data Model: "+d)}if(!i&&0<r.indexOf("."))h[p]=ae.hasKey(y,r)?me(y,r):y;else try{h[p]=y.hasOwnProperty(r)?y[r]:y}catch(e){console.warn("Error in Data Model ["+r+"] in Local Object ["+d+"].\n"+e.stack)}}else{fe(X.dataUrlParams)||(o=ae.api.url(o,X.dataUrlParams)),ae.console.info("Request Data ["+r+"] [cache:"+(X.dataUrlCache||X.dataCache)+"] from URL =>"+o);var b=X.dataUrlHeaders;fe(b)&&(b=me(window,"app.api.ajaxOptions.headers",{})),a=X.dataParams,X.hasOwnProperty("defaultPayload")||fe(u)||(a=Se({},u,!fe(a)&&ce(a)?a:{})),!fe(a)&&f&&(a=JSON.stringify(a));var S={url:o,method:(""+(Z("dataUrlMethod","urlMethod")||"GET")).toUpperCase(),headers:le(b)?b():b,data:a,cache:X.dataUrlCache||X.dataCache,dataType:X.dataType||me(window,"app.api.ajaxOptions.dataType","text"),success:function(e){var t=de(e)?oe(""+e,"data"):e,a=Z("dataValidate","validate");if(0<r.indexOf("."))h[p]=ae.hasKey(t,r)?me(t,r):t;else try{"data"!=r||t.hasOwnProperty(r)||(p=r="Data"),h[p]=!a&&t.hasOwnProperty(r)?t[r]:t}catch(e){console.error("Error in Data Model ["+r+"] in URL ["+o+"].\n"+e.stack)}ae.console.info("Loaded data model ["+r+"] from ["+o+"]")},error:function(e,t,a){var n=Z("dataUrlErrorHandle","urlErrorHandle");if(fe(n))le(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a);else{var r=me(window,n);le(r)?r.call(this,e,t,a):ae.console.log("Unknown ajax error handle: "+n)}}};H.push($.ajax(S))}}ae.console.info("End of Data Processing"),ae.console.log({o:h}),ae.console.groupEnd("spaDataModel");var C=Y("template")||Y("html"),w=Y("templates")||Y("htmls");w&&fe((w||"").replace(/[^:'\"]/g,""))&&(w="'"+w.split(",").join("','")+"'");var O=oe(w||"{}");if(!ce(X.dataTemplates)&&de(X.dataTemplates)&&(fe(((w=(X.dataTemplates||"").trimStr())||"").replace(/[^:'\"]/g,""))&&(w="'"+w.split(",").join("','")+"'"),X.dataTemplates=oe(w)),ue(X.dataTemplates)||(O=X.dataTemplates,w=""+JSON.stringify(O)),(_isEmpty(oe((w||"").trimStr()))||se(O)&&1==O.length&&fe(O[0]))&&(O={},w=""),ae.console.info("Templates:"),ae.console.info(O),se(O)&&!_isEmpty(O)){ae.console.info("Array of template(s) without templateID(s).");var x=ae.renderUtils.array2ObjWithKeyPrefix(O,"__tmpl_",B);ae.console.info("Template(s) with template ID(s)."),ae.console.log(x),w=_isEmpty(x)?(O={},""):(O=x,""+JSON.stringify(O))}if(!O||ue(O)){O={};var k=X.dataTemplate,T="",E="";fe(k)&&(fe(C)||(ae.console.info("Template to load from location <"+C+">"),k=C)),k=(k||"").trimStr(),ae.console.info("Primary Template: <"+k+">"),fe(k)||k.equalsIgnoreCase("inline")||k.equals(".")?(ae.console.info("Using target container (inline) content as template."),T="_tmplInline_"+B.trimStr("#")):k.beginsWithStr("#")?(ae.console.info("Using page container <"+k+"> content as template."),T=k.trimStr("#")):(ae.console.info("External path <"+k+"> content as template."),T="__tmpl_"+(""+k).replace(/[^a-z0-9]/gi,"_"),E=k),O[T]=E.replace(/['\"]/g,""),ae.console.info(O)}if(ae.console.group("spaView"),O&&!ue(O)){ae.console.info("Templates of ["+ee+"] to be used in view container ["+B+"] => "+JSON.stringify(O));var P=ve(O);if(ae.console.group("spaLoadingTemplates"),ae.console.group("spaLoadingTemplatesCache"),q&&M.hasOwnProperty("dataTemplatesCache"))ae.console.info("Override [data-templates-cache] with user option [dataTemplatesCache]: "+X.dataTemplatesCache);else{var R=Y("templatesCache")||Y("templateCache")||Y("htmlsCache")||Y("htmlCache");fe(R)||(X.dataTemplatesCache=R.toBoolean(),ae.console.info("Override [data-templates-cache] with [data-templates-cache] option in tag-attribute: "+X.dataTemplatesCache))}ae.console.groupEnd("spaLoadingTemplatesCache"),ae.console.info("Load Templates"),ae.console.info(O);var A=X.templateUrlPayload;A&&(le(A)||de(A)&&A.indexOf("=")<0)&&(A=he(A,X));var L={method:X.templateUrlMethod,params:he(X.templateUrlParams,X),payload:A,headers:he(X.templateUrlHeaders,X),onError:he(X.onTemplateUrlError||X.onError)};ye(P,function(e,t){ae.console.info([t,e,O[e],ee,B,X]),H=ae.loadTemplate(e,O[e],ee,B,H,!X.dataTemplatesCache,L)});var I="#"+P[0].trimStr("#");if(ae.console.info("External Data/Templates Loading Status: "+JSON.stringify(H)),ae.console.groupEnd("spaLoadingTemplates"),ae.console.info("Render TemplateID: "+I),ae.console.group("spaLoadingViewStyles"),q&&M.hasOwnProperty("dataStylesCache"))ae.console.info("Override [data-styles-cache] with user option [dataStylesCache]: "+X.dataStylesCache);else{var N=Y("stylesCache");fe(N)||(X.dataStylesCache=N.toBoolean(),ae.console.info("Override [data-styles-cache] with [data-styles-cache] option in tag-attribute: "+X.dataStylesCache))}var U=Y("styles");U&&fe((U||"").replace(/[^:'\"]/g,""))&&(U="'"+U.split(",").join("','")+"'");var j=oe(U||"{}");if(ue(X.dataStyles)||(j=X.dataStyles),se(j)&&be(j,function(e){return!e}),j&&!ue(j)){if(se(j)){ae.console.info("Convert array of style(s) without styleID to object with styleID(s).");var D=ae.renderUtils.array2ObjWithKeyPrefix(j,"__styles_",B);ae.console.info("Style(s) with styleID(s)."),ae.console.log(D),j=_isEmpty(D)?{}:D}ae.console.info("External styles to be loaded [cache:"+X.dataStylesCache+"] along with view container ["+B+"] => "+JSON.stringify(j));var F,z=ve(j);ae.console.group("spaLoadingStyles"),ye(z,function(e){F=we(j[e],J),H=ae.loadStyle(e,F,X.dataStylesCache,H)}),ae.console.info("External Styles Loading Status: "+JSON.stringify(H)),ae.console.groupEnd("spaLoadingStyles")}else ae.console.info("No styles defined [data-styles] in view container ["+B+"] to load.");ae.console.groupEnd("spaLoadingViewStyles"),$.when.apply($,H).then(function(){ae.console.group("spaRender["+te+"] - spa.renderHistory["+V.id+"]"),ae.console.info("Rendering "+B+" using master template: "+I);try{var R,A=!1,e=!Z("dataValidate","validate");if(!e){ae.console.info("Validating Data");var t=Z("dataValidate","validate");t&&de(t)&&(t=me(window,t)),e=t&&le(t)?t.call(h[p],h[p]):ae.api.isCallSuccess(h[p])}var L=h[p];e?$.when.apply($,function(){var e,t=Z("dataPreProcessAsync","preProcessAsync");if(t&&de(t)&&(t=me(window,t)),V.modelOriginal=$.extend({},L),V.model=L,t&&le(t)){A=!0;var a=$.extend({},app[J]||{},M||{});e=t.call(a,L),(A=!pe(e))||(e=[]),A&&(R=!se(e)||se(e)&&1==e.length,se(e)||(e=[e]))}return e}()).done(function(){var a=Array.prototype.slice.call(arguments);A&&(ae.console.log(J,".dataPreProcessAsync() =>",a.__now()),R&&1<a.length&&"success"==a[1]?(a[0]=oe(a[0]),a.splice(1)):ye(a,function(e,t){e&&se(e)&&1<e.length&&"success"==e[1]&&(a[t]=oe(e[0]))}),ae.console.log(a.__now()));var e,t=Z("dataProcess","process");if(t&&de(t)&&(t=me(window,t)),V.modelOriginal=$.extend({},L),V.model=L,t&&le(t)){var n=$.extend({},app[J]||{},M||{});a.unshift(L),e=t.apply(n,a)}else A&&(ae.console.warn(J,".dataPreProcessAsync without dataProcess. Merging responses."),a.unshift(L),Se.apply(_,a));if(V.model=pe(e)?L:e,ce(V.model)||(V.model=V.modelOriginal),ae.console.log(J,"Final Template Data:",V.model),J){if(ce(app)&&app.hasOwnProperty(J)){var r=Se({},ce(V.model)?V.model:{_noname:V.model});r.hasOwnProperty("spaComponent")?app[J].$data={}:app[J].$data=X.extend$data?Se({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,r):{},app[J].__global__=window||{}}V.model._this=Se({},me(window,"app."+J,{})),V.model._this_=Se({},ae.components[J]||{},M)}V.model._global_=window||{};var o,i=V.model,s=($(I).html()||"").replace(/_LINKTAGINTEMPLATE_/g,"link"),l=X.templateScript||ae.defaults.components.templateScript,c=(s=l?s.replace(/_BlockedScript_ src-ref="([^"])*"/g,"script").replace(/_BlockedScript_/g,"script"):s.replace(/<\/_BlockedScript_>/g,"&lt;/_BlockedScript_&gt;")).match(/({\s*\@\$(.*?)\s*})/g);!X.skipDataBind&&c&&ye(c,function(e){s=s.replace(new RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\@\$/g,"_global_.app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(J||"")+"."))});var d,p,u=s.match(/({\s*\$(.*?)\s*})/g);if(!X.skipDataBind&&u&&ye(u,function(e){s=s.replace(new RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\$/g,"app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(J||"")+"."))}),o=s,ae.console.groupCollapsed("Template Source ..."),ae.console.log(s),ae.console.groupEnd("Template Source ..."),ae.console.log("DATA for Template:",i),!fe(i))if(X.skipDataBind)ae.console.log("Skipped Data Binding.");else{if(X.dataTemplatesCache||(delete ae.compiledTemplates4DataBind[J],delete ae.compiledTemplates[J]),!ae.compiledTemplates4DataBind.hasOwnProperty(J)&&/ data-bind\s*=/i.test(s)){s=s.replace(/<img /gi,"<IMG-X-TMP ").replace(/<iframe /gi,"<IFRAME-X-TMP ").replace(/<\/iframe/gi,"</IFRAME-X-TMP").replace(/{{/g,">\x3c!--_XHBTINSPA_{{").replace(/}}/g,"}} _XHBTINSPA_--\x3e"),ae.console.log("TemplateBeforeBind",s);var f=ce(i)?Se({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,i):i;ae.console.log("SPA built-in binding ... ...",f),s=Oe(s=ae.bindData(s,f,"$"+J)),ae.console.log("TemplateAfterBind",s),ae.compiledTemplates4DataBind.hasOwnProperty(J)||(ae.compiledTemplates4DataBind[J]={}),d=!0}if(0<=te.indexOf("handlebar")||0<=te.indexOf("{"))if("undefined"!=typeof Handlebars&&Handlebars){ae.console.groupCollapsed("Data bind using handlebars on Template ..."),ae.console.log(s),ae.console.groupEnd("Data bind using handlebars on Template ...");try{var h=ae.compiledTemplates[J]||Handlebars.compile(s),m=ce(i)?Se({},V,X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,i):i;p=m,ae.compiledTemplates.hasOwnProperty(J)||(ae.compiledTemplates[J]=h),o=h(m),ae.console.log(o)}catch(e){console.error("Error in Template",e)}}else ae.console.error("handlebars.js is not loaded.")}ae.console.groupCollapsed("Compiled Template ..."),ae.console.log(o),ae.console.groupEnd("Compiled Template ..."),W=!1,V.view=o.replace(/\_\{/g,"{{").replace(/\}\_/g,"}}");var g=J?Se({},app[J]||{},{__prop__:Se({},M||{})}):{};g.__prop__&&g.__prop__.data&&(delete g.__prop__.data._global_,delete g.__prop__.data._this_,delete g.__prop__.data._this),V.model&&(delete V.model._global_,delete V.model._this_,delete V.model._this),ae.renderUtils.runCallbackFn(ae.defaults.components.render,w,g);var v,y,b,S,C=Z("dataBeforeRender","beforeRender");if(C){var w={template:s,data:V.model,view:V.view};if(!pe(v=ae.renderUtils.runCallbackFn(C,w,g)))switch(ie(v)){case"string":V.view=v;break;case"boolean":y=!v}}if(b=V.view.beginsWithStr("\x3c!----\x3e"),y)V={},ae.console.warn("Render aborted by "+C);else if(!b){var O=G.attr("data-rendered-component");O&&!ae.removeComponent(O,J)&&(y=!0,V={},ae.console.warn("Render $"+J+" aborted by $"+O+".onRemove()"))}if(!y){if(b)ae.console.log("Rendering component [",J,"] view aborted.");else{var x=Z("dataRenderType","renderType");switch(ae.console.log("Injecting component in DOM (",B,")."+(x||"html")),x){case"value":$(B).val(V.view);break;case"text":$(B).text(V.view);break;default:switch(W=!0){case Q.equalsIgnoreCase("append"):$(B).append(V.view);break;case Q.equalsIgnoreCase("prepend"):$(B).prepend(V.view);break;default:$(B).html(V.view)}}}$(B).attr("data-rendered-component",J).data("renderedComponent",J),S=J,S=String(S).replace(/[^a-z0-9]/gi,"_"),app[S]&&(app[S].__renderCount__=ae.toInt(ae.$renderCount(S))+1),ae.console.info("Render: SUCCESS");var k=ve(ae.renderHistory),T=k.length;if(T>ae.renderHistoryMax&&$.each(k.splice(0,T-ae.renderHistoryMax),function(e,t){delete ae.renderHistory[t]}),V.cron=""+ae.now(),0<ae.renderHistoryMax&&(ae.renderHistory[V.id]=V),W&&!b&&(ae.renderUtils.registerComponentEvents(J),$(B).find(".lang-icon,.lang-text,[data-i18n-lang]").length&&ae.i18n.displayLang(),St(B),d||ae.bindData(B,p,"",!0),ae.i18n.apply(B),function(e){var t=(ae.sesStore.get("_spaReloadUrl")||"").trim();if(e&&0!=t.indexOf(e))return;if(t)return ae.sesStore.remove("_spaReloadUrl"),t=t.replace(/.*#/gi,""),ae.route(t,!0),!0}(J)))return V;ae.console.log(V);var E=Y("renderCallback");X.dataRenderCallback&&(E=X.dataRenderCallback);var P=de(E)&&E.equalsIgnoreCase("off");ae.console.info("Processing callback: "+E),P||ae.renderUtils.runCallbackFn(E,V),ae.renderUtils.runCallbackFn(ae.defaults.components.callback,V,g),W&&!b&&($(B).find("[rel='spaRender'],[data-render],[data-sparender],[data-spa-render]").spaRender(),ae.renderComponentsInHtml(B,J))}}):le(app.api.onResError)?app.api.onResError(h[p],"Invalid-Data",void 0):ae.api.onResError(h[p],"Invalid-Data",void 0)}catch(e){console.error(e)}ae.console.groupEnd("spaRender["+te+"] - spa.renderHistory["+V.id+"]")}).fail(function(){console.error("External Data|Template|Style|Script Loading failed! Unexpected!! Check the template Path / Network. Rendering aborted.")})}else ae.console.error("No templates defined [data-templates] in view container ["+B+"] to render. Check HTML markup.");ae.console.groupEnd("spaView")},function(){console.error("External Scripts Loading Failed! Unexpected!? Check the Script Path/Network.")}),V}if((M=Se({},B)).hasOwnProperty("target"))B=M.target,delete M.target;else{var S=$('[data-rendered-component="'+M.componentName+'"]').attr("id");(B=(S?"#":"")+S)||(console.warn("Render target is missing."),B="dynRender_"+ae.now()+"_"+ae.rand(1e3,9999))}ae.render(B,M)}function C(e,t,a){de(X[e])&&X[e]=="app."+J+t&&app[J].hasOwnProperty(a)&&(X[e]="app."+J+"."+a)}},ae.initElementsIn=te,ae.setElIdIfNot=function(e){var t=$(e);return fe(t.attr("id"))&&t.attr("id","_el_"+ae.now()+"_"+ae.rand(1e3,9999)),t.attr("id")},ae.Foundation={autoReflow:!1},ae.reflowFoundation=function(e){"Foundation"in window&&ae.Foundation.autoReflow&&$(e||document).foundation("reflow")},$.expr[":"].regex=function(e,t,a){var n=a[3].split(","),r=/^(data|css):/,o={method:n[0].match(r)?n[0].split(":")[0]:"attr",property:n.shift().replace(r,"")};return new RegExp(n.join("").replace(/^\s+|\s+$/g,""),"ig").test($(e)[o.method](o.property))},$.fn.extend({spaRender:function(n){this.each(function(){var e,t,a;e=this,t=n,a=ae.setElIdIfNot(e),t&&!ue(t)?ae.render("#"+a,t):ae.render("#"+a)})}}),$.extend({spaRender:function(e,t){$(e).spaRender(t)}}),$.fn.extend({renameAttr:function(e,t){return this.each(function(){this.setAttribute(t,this.getAttribute(e)),this.removeAttribute(e)}),this},spa$:function(){return this.map(function(){return $(this).closest("[data-rendered-component]")})},spa$name:function(){var e=this.map(function(){return $(this).closest("[data-rendered-component]").attr("data-rendered-component")});return 1==e.length?e[0]:e},spaBindData:function(e,t){return ae.bindData(this,e,t)},inBlockedSpaNavContainer:function(){return!!this.closest(We).length},blockNav:function(){return Ye(this),this},allowNav:function(){return Ze(this),this},isNavBlocked:function(){return et(this)},isNavAllowed:function(){return tt(this)},disable:function(e){return e||pe(e)?this.css("pointer-events","none").addClass("disabled").attr("disabled","disabled"):this.enable(!0)},enable:function(e){return e||pe(e)?this.css("pointer-events","auto").removeClass("disabled").removeAttr("disabled"):this.disable(!0)},value:function(e,t){return pe(e)?this.val():(this.each(function(){$(this).val(e).trigger(t||"change")}),this)},htm:function(e){return pe(e)?this.html():(this.each(function(){$(this).html(ae.sanitizeScript(e))}),this)},dataJSON:function(e,t,a){var n;if(arguments.length){if(n=ce(n=oe(this.data(e)))?n:{},!pe(t)){n=a?t:Se(n,t);var r=JSON.stringify(n),o=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();this.attr("data-"+o,r).data(e,r)}}else n=this.data();return n},isDisabled:function(e){var t=this.hasClass("disabled")||this.is("[disabled]");return t&&e&&e.call(this,this),t},isEnabled:function(e){var t=!this.isDisabled();return t&&e&&e.call(this,this),t},trackChanges:function(){ae.trackFormElChange(this)},isChanged:function(e){var t="ALL"==(e=(e||"ANY").toUpperCase()),a=!t,n=!1,r=this;if(r.length)for(var o=0;o<r.length;o++){var i=r[o].tagName.toUpperCase();if("FORM"==i)n=$(r[o]).find("input,textarea,select").isChanged(e);else if(0<"/INPUT/TEXTAREA/SELECT/".indexOf(i)){if(n=ae.isElValueChanged(r[o]),a&&n)break;if(t&&!n)break}}return n},initSpaRoutes:function(){mt(this)},initFormValidation:function(){var e=this.filter("form");if(!e.length)return"Form Not Found";e.each(function(e,t){xe(t)})},validateForm:function(e,t,a){var n,r=this;if(1<r.length)n=[{errcode:1,errmsg:"Too many forms to validate."}];else if(1==r.length){var o="#"+r.attr("id");if("FORM"==(r.prop("tagName")||"").toUpperCase())if(de(e)){var i=r.find(e).map(function(){return this.id}).get().join();n=ae.validateForm(o,i,t,a)}else n=ae.validateForm(o,e,t);else n=[{errcode:1,errmsg:"NOT a FORM"}]}else n=[{errcode:1,errmsg:"Form Not Found."}];return n},updateValidation:function(a,n){this.each(function(e,t){ae._validate._showValidateMsg(t,n,a)})},updateValidationPromise:function(e,t,a){ae.updateValidationPromise(e,this,a,t)}}),ae.initDataValidation=function(){ae.console.log("include validate framework lib (spa-validate.js) to use this feature!")},ae.doDataValidation=function(){ae.console.log("include validate framework lib (spa-validate.js) to use this feature!")},ae.properties={version:ae.VERSION},ae.api={baseUrl:"",liveUrlSuffix:"",urls:{},mock:!1,mockBaseUrl:"",mockRootFolder:"api_",mockDataFile:"data.json",defaultPayload:!1,forceParamValuesInMockUrls:!1,urlKeyIndicator:"@",url:function(e,t){e=(e||"").trimLeftStr(ae.api.urlKeyIndicator),t=t||{};var a,n,r=ae.api.urls[e]||e,o=r.beginsWithStr("!")||ae.api.mock||app.api.mock,i=r.beginsWithStr("!!")||r.beginsWithStr("~")||ae.api.forceParamValuesInMockUrls,s=r.extractStrBetweenIn("{","}",!0);return fe(s)||ye(s,function(e){(a=e.replace(/[{}<>]/g,""))&&(n=me(t,a,t._undefined),n=o&&!i?e.containsStr(">")?n:"_"+a:n,r=r.replace(new RegExp(e.replace(/([^a-zA-Z0-9])/g,"\\$1"),"g"),n))}),r},success:function(e){return[e,"success"]},isCallSuccess:function(){return!0},onReqError:function(e,t,a){ae.console.error([e,t,a]),ae.console.error($(e.responseText).text())},onResError:function(){},_call:function(n){var e=me(window,"app.api.ajaxOptions",{}),t=ce(n)&&n.hasOwnProperty("error")?n.error:app.api.onError||ae.api.onReqError;if((n=$.extend({},e,n,{error:t,success:function(e,t,a){e=de(e)&&"html"!=String(this.dataType).toLowerCase()?oe(e):e,ae.api.isCallSuccess(e)?n._success.call(this,e,t,a):le(app.api.onResError)?app.api.onResError.call(this,e,t,a):ae.api.onResError.call(this,e,t,a)}})).dataType||(n.dataType="text"),"json".equalsIgnoreCase(n.dataType)&&!n.contentType&&(n.contentType="application/json"),n.data&&ce(n.data)&&n.stringifyPayload&&(delete n.stringifyPayload,n.data=JSON.stringify(n.data)),n.defaultPayload){var a=ie(n.data),r=n.defaultPayload,o=le(r)?r(i):ce(r)?Se({},r):r,i="string"==a?oe(n.data):n.data;if(ce(o)){var s=ce(i)?Se({},o,i):o;fe(s)||"string"!=a||(s=JSON.stringify(s)),n.data=s}}return n.url.beginsWithStr(ae.api.urlKeyIndicator)&&(n.url=ae.api.url(n.url.trimLeftStr(ae.api.urlKeyIndicator),n.data)),(app.debug||ae.debug)&&console.info(["API(ajax) call with options",n]),$.ajax(n)},_params2AxOptions:function(){var t,a,n,r,o={method:"GET",url:"",data:{},_success:function(){},async:!0};return ye(arguments,function(e){switch(!0){case de(e):t="url",o.url&&(a=!0,t="data");break;case le(e):t=r?"error":(r=!0,"_success");break;case w(e):t="async";break;case ce(e):a||e.__hasPrimaryKeys("ajaxOptions|dataUrlParams")?(t="axOptions",n=e.hasOwnProperty("ajaxOptions")?e.ajaxOptions:e):(t="data",a=!0);break;default:t="unknown"}"axOptions"!=t&&(o[t]=e)}),n&&(n.dataUrlParams&&((""+o.url).beginsWithStr(ae.api.urlKeyIndicator)&&(o.url=ae.api.url(o.url.trimLeftStr(ae.api.urlKeyIndicator),n.dataUrlParams)),delete n.dataUrlParams),Se(o,n)),ae.console.log("API ajax options >>"),ae.console.log(o),o},get:function(){return ae.api._call(ae.api._params2AxOptions.apply(void 0,arguments))},post:function(){return ae.api._call($.extend(ae.api._params2AxOptions.apply(void 0,arguments),{method:"POST"}))},put:function(){return ae.api._call($.extend(ae.api._params2AxOptions.apply(void 0,arguments),{method:"PUT"}))},del:function(){return ae.api._call($.extend(ae.api._params2AxOptions.apply(void 0,arguments),{method:"DELETE"}))},mix:function(){for(var e=[],t=arguments[arguments.length-1],a=0;a<arguments.length;a++)se(arguments[a])?e=e.concat(arguments[a]):le(arguments[a])||e.push(arguments[a]);return $.when.apply($,e).done(function(){var a=Array.prototype.slice.call(arguments);1==e.length&&1<a.length&&"success"==a[1]?(a[0]=oe(a[0]),a.splice(1)):ye(a,function(e,t){e&&se(e)&&1<e.length&&"success"==e[1]&&(a[t]=oe(e[0]))}),t&&le(t)&&t.apply(void 0,a)})}},ae.i18n.onLangChange,ae.i18n.displayLang=function(){var e=$("html").attr("lang");if(e){var t=e,a=e.replace("-","_"),n=$('[data-i18n-lang="'+t+'"],[data-i18n-lang="'+a+'"]'),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+a,o="-";$(".lang-text").attr("data-i18n",r).data("i18n",r),$("[data-i18n-lang]").removeClass("active"),n.length&&(n.addClass("active"),o=($(n[0]).data("i18nLang")||"").replace(/[a-z]/gi,""),$(".lang-icon").removeClass(Array.prototype.join.call($("[data-i18n-lang]").map(function(e,t){return $(t).data("i18nLang")})," "))),$(".lang-icon").addClass("-"==o?t:a),ae.i18n.apply(".lang-text")}return e},ae.testMockSys=function s(){app.api&&function(t){var a={url:"",responseType:"json",async:!0,cache:!1,method:"GET",headers:{},auth:null,timeout:0,success:null,error:null,finally:null},n=a.responseType.toUpperCase(),e={TEXT:"text/plain",HTML:"text/html",CSS:"text/css",CSV:"text/csv",XML:"text/xml",JSON:"application/json",PDF:"application/pdf",ZIP:"application/zip"}[n]||a.responseType,r={};ve(t||{}).forEach(function(e){a[e]=t[e]}),a.method=a.method.toUpperCase(),le(a.headers)&&(a.headers=a.headers.call(void 0,a)),ce(a.headers)&&ve(a.headers).forEach(function(e){r[e]=a.headers[e]}),e&&(r["Content-Type"]=e),r["Cache-Control"]=a.cache?"max-age=86400000":"no-cache, no-store, must-revalidate, max-age=0",r.Expires=a.cache?new Date((new Date).setDate((new Date).getDate()+1)).toUTCString():"0",a.cache||(r.Pragma="no-cache");var o,i,s=new XMLHttpRequest;(s.requestOptions=a).timeout&&(s.timeout=a.timeout),ve(a).forEach(function(t){var e=t.toLowerCase();"onreadystatechange"===e&&le(a[t])?i=a[t]:0===e.indexOf("on")&&le(a[t])&&(s[e]=function(e){a[t].call(a,s,e)})}),s.onreadystatechange=function(e){if(i&&i.call(a,s,e),4===s.readyState){var t=s.responseText;if(200<=s.status&&s.status<300){if("JSON"===n)try{t=t&&JSON.parse(t)}catch(e){t=s.responseText,console.warn("Invalid JSON response.",t,s,e)}le(a.success)&&a.success.call(a,t,s.status,s)}else le(a.error)&&a.error.call(a,s.status,s.statusText,s);le(a.finally)&&a.finally.call(a,t,s.status,s)}},a.hasOwnProperty("data")&&"GET"===a.method&&(o=ce(a.data)?T(a.data):""+a.data)&&(a.url+=(a.url.indexOf("?")<0?"?":/\?$|\&$/.test(a.url)?"":"&")+o);try{a.auth&&ce(a.auth)?a.auth.hasOwnProperty("user")&&(a.auth.hasOwnProperty("pwd")?s.open(a.method,a.url,a.async,a.auth.user,a.auth.pwd):s.open(a.method,a.url,a.async,a.auth.user)):s.open(a.method,a.url,a.async),ve(r).forEach(function(e){s.setRequestHeader(e,r[e])}),"GET"!==a.method&&a.hasOwnProperty("data")?(o=ce(a.data)?JSON.stringify(a.data):a.data,s.send(o)):s.send()}catch(e){console.warn("Ajax-Exception",s,e)}}({url:Te(),method:"HEAD",error:function(){var e=me(app,"api.mockBaseUrl")||me(ae,"api.mockBaseUrl")||"",t=(e||location.origin).trimRightStr("/")+"/",a=e?"":(me(app,"api.mockRootFolder")||me(ae,"api.mockRootFolder")||"api_").trimRightStr("/"),n=prompt("Enter Mock Root Address: http[s]://server.address[:port]/root-folder",t+a);if(n){var r=n.indexOf("/",8),o=0<r?n.slice(0,r):n,i=0<r?n.substr(r+1):"";app.api.mockBaseUrl=o==location.origin?"":o,app.api.mockRootFolder=i,s()}}})};var Ee={},Pe={pub:function(a,e,n,r){var o,i;le(e)?(r=n,n=e):o=e;var s,l,c=0,d=[];return ye(Ee[a],function(t){try{c++,s=t.fn,l=null,s&&(l=s.call(o||{},a,o,n,r)),d.push({id:""+(t.name||c),response:l}),!i&&w(l)&&(i=!l)}catch(e){console.warn("Execution error in subscribed function:"+t.name+" on-"+a),console.error(e.stack)}}),i?r&&le(r)&&r(d):n&&le(n)&&n(d),d},sub:function(e,t,a){return Ee.hasOwnProperty(e)||(Ee[e]=[]),Ee[e].push({fn:t,name:a}),Ee[e].length},unSub:function(e,t){var a=!1;return Ee.hasOwnProperty(e)&&(a=!0,t?Ee[e][t-1]=null:Ee[e]=[]),a}};ae.event={on:Pe.sub,off:Pe.unSub,trigger:Pe.pub,announce:Pe.pub};var Re,Ae,Le="#",Ie="",Ne=!0,Ue=[],je=100,De=!1,Fe="",ze="",Be=!1,Me="",Ve="",He="",We="",qe="",Ke="",Je="",Xe=!1,Ge="";function Ye(e){var t=$(e||"body :first");return t.addClass(He),Re=et()||!0,t}function Ze(e){var t=$(e||We);return t.removeClass(He),t.find(We).removeClass(He),Re=et(),t}function Qe(){return!Ae}function et(e){if(e){var t=$(e);return t.hasClass(He)||0<t.find(We).length}return!!$(We).length}function tt(e){return!et(e)}function at(){Re&&pt(Fe)}var nt="x"+ae.now();function rt(e){var t;t=ae.urlHashFull(Le),ae.console.log("on Hash Change: Url To [",t,"] from[",Fe,"] on click:",De," block-Navigation:",Re,"isDelayed:",Be),!De&&Re?(ae.console.log("-------------\x3e",Fe,t,Be,Me),ae.console.log("lastBlocked:",Ve),Ve=Ve||Fe,"#"==Le[0]?(pt(Be?Me:Fe,t),Ve==t&&it(t)):(pt(Be?Me:Fe,t),it(t))):(ae.console.log("Triggering next hash... by href:",Xe,"autoRoute:",Ne,"byClick",De),ct(Ne||!De)),ze=ze&&ze!=nt?(ae.console.warn("Blocked:",ze),nt):(ze!=nt&&(ae.onUrlHashChange?ae.onUrlHashChange(ae.urlHash([],Le),e):ae.onUrlChange&&ae.onUrlChange(ae.urlHash([],Le),e)),"")}function ot(){var e,t;switch(ae.onReload&&(e=ae.onReload()),ie(e)){case"boolean":if(!e)return t="spa.message.on.window.reload",ae.i18n.text(t).replace(t,"");break;case"string":return(e=e.trim())&&(t=e.beginsWithIgnoreCase("i18n")?e.replace(/i18n(:)*/i,""):"")?ae.i18n.text(t).replace(t):e;default:if(t="spa.message.on.window.reload",Re)return ae.i18n.text(t).replace(t,"")}}function it(e,t){var a,n,r,o,i,s;Ve=e,ae.console.log("Trying to navigate away from:["+Fe+"] To:["+e+"] by",t),$(We).each(function(){a=$(this),"#"==(n=(a.attr(Ge)||"").trim())[0]||">"==n[0]?(r=">"==n[0]?n.substr(1).trim():n,(o=a.find(r).filter(":not(.disabled):not(:disabled)")).length&&(t&&(s="id:'"+t.attr("id")+"', spaRoute:'"+t.attr(Ke)+"'"),o.data("navToUrl",e).attr("data-nav-to-url",e),o.data("navBy",s).attr("data-nav-by",s),o.trigger("click"))):(i=me(window,n.split("(")[0].split(";")[0]))&&le(i)&&i.call(a,e,a,t)})}ae.blockNav=Ye,ae.allowNav=Ze,ae.isNavBlocked=et,ae.isNavAllowed=tt,ae.isToShowNav=Qe,ae.isInBlockedSpaNavContainer=function(e){return!!$(e).closest(We).length},window.onerror=function(e,t,a){console.warn("Invalid Content: Check the network/path/content.",e,t,a)};var st=[];function lt(e,t){var a=0<=e.indexOf(":"),n=t;if(w(t)&&(n=t?"click":""),a){var r,o,i=a?e.split(":")[0]:"",s={};ye(0<e.indexOf("&")?e.split("&"):0<e.indexOf(",")?e.split(","):[e],function(e){r=e.split(":")[0],o=e.getRightStr(":"),s[r]=decodeURIComponent(o)});var l=$("["+Ke+'*="/'+i+':"]['+Je+"]"),c=(l.attr(Je)||"").trim();if(a=!fe(c))st.push(e),ye(oe(c),function(e,t){if(e=e.trim(),/(^app\.(.)+\.)|(^\$)|(^\#)/.test(e))ae.setElValue(e,s[t]);else if(/^fn:/i.test(e)){var a=e.split(" ")[0].getRightStr(":").trim().split("(")[0];(a=a?me(window,a):"")&&le(a)?a(t,s[t]):console.warn("Not a function",e)}}),n&&l.isEnabled()&&!l.hasClass("AUTO-ROUTING")&&l.trigger(n)}return a}function ct(e){e&&(Ue=[],je=50),Ne=pe(e)?Ne:e;var t,a,n,r=ae.urlHash([],Le),o=r.length-1;if(je<0&&(Ne=!1),Ne){je--;for(var i=o;0<=i&&(n=r[i-1]||"",Ne&&0<n.indexOf(":")&&!Ue.__has(n)&&i--,t=r[i],a=i==o,Ne&&!Ue.__has(t));i--)if(t){var s=0<=t.indexOf(":"),l=s?t.split(":")[0]:"",c="["+Ke+'$="/'+t+'"]:not(:disabled):not(.disabled):not(.AUTO-ROUTING):first';s&&(c="["+Ke+'*="/'+l+':"]['+Je+"]");var d=$(c);if(d.length){if(s=s&&lt(t),Ue.push(t),Ne=!a,d.isEnabled()&&!d.hasClass("AUTO-ROUTING")&&d.addClass("AUTO-ROUTING").trigger(d.data("routeEvent")||"click"),a){B="";break}i+=2}}}De=!1}function dt(e,t){ae.console.log("_updateBrowserAddress >>>>>>>>>[",e,"]delay:",t,"prev:",Fe);var a="#"==Le[0];if(e)if(Fe=e,a){ae.console.log(e);var n=$("#_spaRouteLink_");n.length||(n=$('<a id="_spaRouteLink_" href=""></a>'),$("body").append(n)),ae.console.log("################# "+e),n.attr("href",e)[0].click()}else ae.console.log(e),"#"!=(e=e.trimLeftStr("/"))[0]&&(e="//"+window.location.host+M("/",e),ae.console.log("updating the address bar with >>>>>",e)),ae.console.log(">>>>>>>>>>>>>>>>> "+e),history.pushState(null,null,e)}function pt(e,t){e!=t&&(ae.console.log("attempt to set URL:",e,"insteadOf",t),ze=t,dt(e))}function ut(e){if(!(e=(e||"").trim()))return[];var t=ae.urlHash([],Le),a=e.trimStr("/").split("/"),n=[],r=a[0];function o(e,t){var a=t,n=t.getLeftStr("*");if(n)for(var r=0;r<e.length;r++)if(e[r].beginsWithStr(n)){a=e[r];break}return a}var i=t.indexOf(r);if(0<r.indexOf("*")){r=r.getLeftStr("*");for(var s=0;s<t.length;s++)if(t[s].beginsWithStr(r)){i=s;break}}if(0<=i){for(var l,c=t.splice(i),d=0;d<a.length;d++)l=a[d].indexOf("*"),n[d]=l<0?a[d]:l?o(c,a[d]):c[d];n=t.concat(n)}else n="/"==e[0]?a:t.concat(a);return n}function ft(e){var a,n,r,o,i,t,s,l=ae.urlHash([],Le),c=$(this);if(c.hasClass("disabled")||c.is(":disabled"))return e.stopImmediatePropagation(),e.stopPropagation(),void e.preventDefault();function d(e,t){"#"==(a=(e||"").trim())[0]&&(a=a.substr(1)),n="<"==a[0],r=">"==a[0],o=t||a[r?1:0],i=a.substr(r?2:1),s=!1}"#"!=Le[0]&&e.preventDefault(),d(c.attr(Ke),c.attr("data-route-dir"));var p,u=(c.attr(Je)||"").trim();u&&ye(oe(u),function(e,t){if(/(^app\.(.)+\.)|(^\$)|(^\#)/.test((p=e).trim()))p=ae.getElValue(e);else if(/^fn:/i.test(e.trim())){var a=e.split(" ")[0].getRightStr(":").trim().split("(")[0];(a=a?me(window,a):"")&&le(a)?p=a(t):console.warn("Not a function",e)}i=i.replace(new RegExp(t+":","g"),t+":"+encodeURIComponent(p))});if(Q(this,"onrouteclick"),c.hasClass("AUTO-ROUTING"))c.removeClass("AUTO-ROUTING");else{switch("^"==o&&(fe(l)?d(a.substr(1)):(e.preventDefault(),s=!0,o="/",i=ae.urlHash("",Le))),"#/-<>".indexOf(o)<0&&(i=o+i,o="?"),o){case"#":case"/":l=ut(i);break;case"-":var f=ae.toInt(i.replace(/[^0-9]/g,""))||1;l.length&&(l.length=l.length-f);break;case"<":t=Fe;break;case"?":l=ut(i)}var h,m,g;n||(t=M(Le,l.join("/"))),Re&&(n||c.hasClass(qe)||c.inBlockedSpaNavContainer()||(r=!0,it(t,c))),ae.console.log("Routing to...",t,"delay:",r,"prev:",Fe),h=t,m=r,g=s,ae.console.log("Updating url with:",h,"delay:",m,"autoRoute:",g),Ne=g,Me=(Be=m)?Fe:"",m?Fe=h:(De=!0,ae.isToShowNav()?Ne||dt(h,m):Fe=h)}}function ht(){ae.route(this.getAttribute(Ke+"-AUTO").substr(1))}function mt(e){$(e||"body").find("["+Ke+'^="*"]:not(.ROUTE):not(.ROUTE-AUTO)').renameAttr(Ke,Ke+"-AUTO").addClass("ROUTE-AUTO").on("click",ht);var t,a,n,r=$(e||"body").find("["+Ke+"]:not(.ROUTE)").renameAttr("onclick","onrouteclick").addClass("ROUTE").off("click",ft).on("click",ft);Xe&&r.length&&r.each(function(){t=$(this),a=t.attr("href").replace(/\s*/g,"").trim(),n="","#"==a[0]?0<="^><-".indexOf(a[1])&&(n=a[1],a=a.substr(2)):0<="^".indexOf(a[0])&&(n=a[0],a=a.substr(1)),t.attr("href","#"+a).removeAttr("target").attr("data-route-dir",n)});ct(),Re=ae.isNavBlocked()}function gt(e){if(e=(e||"").trim()){var t,a,n=e[0],r=1;switch("#/-<>".indexOf(n)<0&&(n="?",r=0),t=e.substr(r),n){case"/":a=ut(t);break;case"-":a=ae.urlHash([],Le);var o=ae.toInt(e.replace(/[^0-9]/g,""))||1;a.length&&(a.length=a.length-o);break;case"?":a=ut(t);break;default:a=[t]}return M(Le,a.join("/"))}}function vt(r){function a(t,e){function a(e,t){r.setItem(""+e,JSON.stringify(t))}1==arguments.length?s(t,"object")?Object.keys(t).forEach(function(e){a(e,t[e])}):s(t,"array")&&t.forEach(function(e,t){a(t,e)}):2==arguments.length&&a(t,e)}function o(e){return 0==arguments.length?n():1!=arguments.length?n.apply(null,arguments):s(e,"string")?0<e.indexOf(",")?n.apply(null,e.split(",")):JSON.parse(r.getItem(e)):s(e,"array")?n.apply(null,e):void 0}function n(){var t=arguments.length,a=Array.prototype.slice.call(arguments).map(function(e){return(""+e).trim()}),n={};return Object.keys(r).forEach(function(e){(!t||-1<a.indexOf(e))&&(n[e]=o(e))}),n}function i(){if(arguments.length){var t=Array.prototype.slice.call(arguments).map(function(e){return(""+e).trim()});Object.keys(r).forEach(function(e){t.indexOf(e)<0&&r.removeItem(e)})}else r.clear()}function s(e,t){var a=Object.prototype.toString.call(e).split(" ")[1].toLowerCase().replace(/\]$/gi,"");return 2==arguments.length?-1<(""+t).toLowerCase().indexOf(a):a}function e(e,t){return 0==arguments.length?n():1==arguments.length?s(e,"object|array")?(a(e),e):o(e):2==arguments.length?(a(e,t),o(e)):void 0}return e.set=a,e.get=o,e.getAll=n,e.remove=function(e){function t(){arguments.length&&Array.prototype.slice.call(arguments).forEach(function(e){r.removeItem(e)})}var a;0==arguments.length?i():1==arguments.length?s(e,"string")?0<e.indexOf(",")?t.apply(null,e.split(",")):(a=e,r.removeItem(a)):s(e,"array")&&t.apply(null,e):t.apply(null,arguments)},e.removeAll=i,e.removeExcept=i,e.clear=i,e.clearExcept=i,e}ae.parseRoutes=ut;try{ae.sesStore=vt(sessionStorage)}catch(e){console.warn("No Access to sessionStorage.",e)}try{ae.locStore=vt(localStorage)}catch(e){console.warn("No Access to localStorage.",e)}function yt(){var e=this,t=$(e),a=ae.getElValue(e),n={},r=t.spa$()[0],o=t.spa$name(),i="2way".equalsIgnoreCase(ae.components[o].dataBindType);e.classList.add("DATA-MODEL-CHANGE-SRC");var s,l,c,d,p,u,f=(l="value|$",p=(s=e).getAttribute("data-bind"),u="",p&&!p.containsStr(":")&&(p=W(s)+":'"+p+"'"),(c=oe(p||"{}"))&&!ue(c)&&N(ve(c),function(e){return!u&&new RegExp(l,"i").test(e)&&(d=c[e].split("|"),u=d.shift().trim()),!!u}),u);ae.setSimpleObjProperty(n,f,a),i&&(Se(ae.$data(o),n),app[o].is$DataUpdated=ae.components[o].is$DataUpdated=!0),ae.bindData(r,n,'[data-bind*="'+f+'"]:not(.DATA-MODEL-CHANGE-SRC)',!0),e.classList.remove("DATA-MODEL-CHANGE-SRC"),i&&ae.renderUtils.runCallbackFn("app."+o+".$dataChangeCallback",app[o].$data,app[o])}function bt(e,t){function a(e,t){$(e).on((e.getAttribute("data-bind-event")||t).toLowerCase(),yt)}var n="[data-bind]:not(.SPA-DATA-BOUND)",r=$(e||"body").find((t||"")+" "+n);r.length||t||(r=$(e+n)),r.length&&(r.filter("textarea,input:not([type=radio]):not([type=checkbox])").addClass("SPA-DATA-BOUND").each(function(){a(this,"keyup")}),r.filter("select,input[type=radio],input[type=checkbox]").addClass("SPA-DATA-BOUND").each(function(){a(this,"change")}))}function St(e){var t;ae.reflowFoundation(e),C("",e),$(e||"body").find("[onKeyPause]:not([onKeyPauseReg])").each(function(e,t){$(t).attr("onKeyPauseReg","").on("input propertychange paste",function(){var a=this,e=1*((""+a.getAttribute("data-pause-time")).replace(/[^0-9]/g,"")||"1250");o&&clearTimeout(o),o=setTimeout(function(){var e=a.getAttribute("onKeyPause").split("(")[0],t=me(window,e);t&&t.call(a,a)},e)})}),te(e),ae.initTrackFormElChanges(e),t=e,ae.hasOwnProperty("initDataValidation")?$(t||"body").find("[data-validate-form],[data-validate-scope],form:has([data-validate])").filter(":not([data-validation-initialized])").each(function(e,t){xe(t)}):console.warn("SPA validation module is not loaded."),mt(e),ae.initTogglePassword(e),bt(e),function(){for(var e,t=ae.urlHash([],Le),a="",n=0;n<t.length;n++)a=t[n],0<=(e=st.indexOf(a))?st.splice(e,1):lt(a,n==t.length-1)}()}function Ct(){window.onpageshow=at,n?window.onhashchange=rt:window.onpopstate=rt,is(window,"window")&&(window.onbeforeunload=ot),function(){$(document).on("click","[data-i18n-lang]",function(){var e=$(this).data(),a=e.i18nLang||"",n=(e.i18nLang||"").replace("-","_"),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+n;V(n,{callback:function(){var e="-",t=$("[data-i18n-lang]:first");t.length&&(e=(t.data("i18nLang")||"").replace(/[a-z]/gi,"")),$(".lang-text").attr("data-i18n",r).data("i18n",r),$(".lang-icon").removeClass(Array.prototype.join.call($("[data-i18n-lang]").map(function(e,t){return $(t).data("i18nLang")})," ")).addClass("_"==e?n:a),$("[data-i18n-lang]").removeClass("active"),$('[data-i18n-lang="'+a+'"],[data-i18n-lang="'+n+'"]').addClass("active"),ae.i18n.apply(".lang-text")}})});var e=($("body").attr("i18n-lang")||"").replace(/ /g,""),t=e.split(",")[0];if(e){if("*"==t&&(t=ae.i18n.browserLang(),(","+e.toLowerCase()+",").indexOf(","+t.toLowerCase()+",")<0)){t=t.getLeftStr(2).toLowerCase();for(var a=e.split(","),n="",r="",o=0;o<a.length;o++)if(0==(n=(a[o]||"").trim()).toLowerCase().indexOf(t)){r=n;break}t=r||(e.split(",")[1]||"")}t&&(V(t,{},!0),setTimeout(function(){ae.i18n.displayLang()},500))}}(),St("body"),ae.i18n.apply("body")}function wt(){(ne=!!ve(app.api).length)&&ae.console.log("Initializing app.api");var e=me(window,"app.api.baseUrl");fe(e)||(ae.api.baseUrl=e);var t=me(window,"app.api.urls");if(fe(ae.api.urls)&&!fe(t)&&(ae.api.urls=app.api.urls),!fe(ae.api.urls)){var a=me(window,"app.api.liveApiPrefix|app.api.mockRootAtPaths");if(!fe(a)){var n,r,o=se(a)?a:(""+a).split(",");ye(o,function(a,e){a=a.trim(),"!"!=(n=a[0])&&"~"!=n||(a=a.substr(1),ye(ae.api.urls,function(e,t){"!"!=(r=e[0])&&"~"!=r&&(0==e.indexOf(a)||0<e.indexOf("/"+a))&&(ae.api.urls[t]=n+e)})),o[e]=a}),app.api.liveApiPrefix=o,delete app.api.mockRootAtPaths}}}function Ot(){function t(e){if(ae[e])return ae[e]()}$.when(t("onInit")).done(function(){if(ae.env&&"dev".equalsIgnoreCase(ae.env)){var e={components:{templateCache:!(ae.api.mock=!0),callback:function(){console.log("spa$>",this.__prop__.componentName)}}};ae.defaults.set(e)}$.when(Ct()).done(function(){$.when(t("onInitComplete")).done(function(){$.when(t("onReady")).done(ae.renderComponentsInHtml)})})})}function xt(){var t,e=$("body"),a=e[0],n=e.data();fe(n)||(n.spaDefaults=oe(a.getAttribute("data-spa-defaults")||{}),ye(ve(ae.defaults),function(e){e.equalsIgnoreCase("set")||fe(t=n.spaDefaults[e]||n["spaDefaults"+e.toTitleCase()])||Se(ae.defaults[e],oe(t))})),Fe=ae.urlHashFull(Le),Le=(me(ae,"defaults.routes.base","")||"#").trim(),He=(me(ae,"defaults.routes.className.block","")||"BLOCK-SPA-NAV").trim(),We="."+He,qe=(me(ae,"defaults.routes.className.allow","")||"ALLOW-SPA-NAV").trim(),Ie=(me(ae,"defaults.routes.className.hide","")||"HIDE-SPA-NAV").trim(),Ke=(me(ae,"defaults.routes.attr.route","")||"data-spa-route").trim(),Je=(me(ae,"defaults.routes.attr.params","")||"data-spa-route-params").trim(),Xe=Ke.equalsIgnoreCase("href"),Ge=(me(ae,"defaults.routes.attr.onNavAway","")||"onNavAway").trim(),Ae=$("body").hasClass(Ie),wt()}ae.reload=function(e){e&&ae.sesStore.set("_spaReloadUrl",e||""),ae.allowNav(),window.location.reload()},ae.hasReloadUrl=function(){return!!(ae.sesStore.get("_spaReloadUrl")||"").trim()},ae.initRoutes=mt,ae.route=function(e,t){var a=gt(e);if(ae.console.log("Route:",e,"URL:",a),a)if(!t&&Re)it(a);else{var n=$("["+Ke+'$="'+e.trim()+'"].ROUTE:first');n.length?n.hasClass("disabled")||n.is("[disabled]")?console.warn("Route:",e,"is disabled."):n.click():(Qe()?dt(a):B=a,"/"==e.trim()?(ae.allowNav(),window.location.reload()):rt())}},ae.routeUrl=gt,ae.routeEl=function(e){return $("["+Ke+'$="'+e.trim()+'"].ROUTE')},ae.initDataBind=bt,ae.async=function(n){var r=Array.prototype.slice.call(arguments,1);setTimeout(function(){var e=n.apply(void 0,r),t=r.length,a=t?r[t-1]:"";a&&le(a)&&a(e)},0)},$(document).ready(function(){xt(),ae.debug=ae.urlParam("spa.debug")||ae.hashParam("spa.debug")||ae.debug,$.ajaxPrefilter(_e),Ot()})}(),spa.console.info("spa loaded.");
/*@license SPA.js (Form Validation Extension) [MIT]*/
function _clearSpaValidateMsg(a){return spa._validate._showValidateMsg(a),!0}spa._validateDefaults={required:"Required",digits:"Digits",numbers:"Numbers",integer:"Integer",alphabet:"Alpha",alphanumeric:"AlphaNumeric",pattern:"PatternMatch",range:"ValueRange",fixedlength:"Lengths",minlength:"LengthMin",maxlength:"LengthMax",email:"Email",url:"Url",date:"Date",cardno:"CardNo",ipv4:"IPv4",ipv6:"IPv6",ipaddress:"IP",subnetmask:"Subnet",phoneUS:"PhoneUS",wordsize:"WordSize",compare:"Compare",promise:"Promise",xss:"CheckXSS",noop:"Noop"},spa._validate={defaults:{offline:!0},_isOnOfflineValidation:!1,_validateAlertTemplate:'<div class="errortxt error-txt break-txt" data-i18n=""></div>',_offlineValidationRules:{},_fn:{Noop:function(){return!0},CheckXSS:function(a){var e=spa.getElValue(a);return!(/<\s*\/?\s*(\bscript\b)/gi.test(e)||/<(.)+\s+on([a-z])+\s*=|javascript:/gi.test(e))},Promise:function(a){if(!spa._validate._isOnOfflineValidation){var e=$(a),t=e.data("validate")||"";/(promise)(\s)*:(\s)*(\'|\")/.test(t)&&spa._validate._addValidationClass(e,"validation-pending")}return!0},Required:function(a){var e=spa.getElValue(a);return!spa.isBlank(e)},Digits:function(a){var e=$(a).val();return 0===e.length||/^\d+$/.test(e)},Numbers:function(a){var e=$(a).val();return 0===e.length||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},Integer:function(a){var e=$(a).val();return 0===e.length||/^-?\d+$/.test(e)},Alpha:function(a){var e=$(a).val();return 0===e.length||!/[^a-z]/gi.test(e)},AlphaNumeric:function(a){var e=$(a).val();return 0===e.length||!/[^a-z0-9]/gi.test(e)},PatternMatch:function(a){var e=$(a).val(),t=0===e.length;t||(t=new RegExp($(a).data("validatePattern"),$(a).data("validatePatternOptions").replace(/!/g,"")).test(e),0<=$(a).data("validatePatternOptions").indexOf("!")&&(t=!t));return t},ValueRange:function(a){var e=$(a).val(),t=0===e.length;if(!t&&(t=!1,/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e))){var n=spa.toFloat(e),s=(" "+($(a).data("validateRange")||"")+": ").split(":"),i=!spa.isBlank(s[0]),l=!spa.isBlank(s[1]),r=spa.toFloat(s[0]),o=spa.toFloat(s[1]);i&&l?t=r<=n&&n<=o:i?t=r<=n:l&&(t=n<=o)}return t},LengthMin:function(a){var e=$(a).val(),t=spa.toInt($(a).data("minlength")||$(a).attr("minlength"));return e.length>=t},LengthMax:function(a){var e=$(a).val(),t=spa.toInt($(a).data("maxlength"));return e.length<=t},Lengths:function(a){var e=$(a).val().length,t=spa.toInt($(a).data("minlength")||$(a).attr("minlength")),n=spa.toInt($(a).data("maxlength"));return t<=e&&e<=n},WordSize:function(a){var e=(""+$(a).val()).replace(/[-\n]/g," ").split(" ").map(function(a){return a.length});return(spa.isBlank(e)?0:Math.max.apply(null,e))<=(spa.toInt($(a).data("validWordSize"))||20)},Email:function(a){var e=$(a).val(),t=0===e.length;return t=t||(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)||/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))&&/[a-z0-9]/i.test(e[e.length-1])&&1==((e||"").match(/@/g)||[]).length},Url:function(a){var e=$(a).val(),t=0===e.length;return t=t||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},Date:function(a){var e=$(a).val(),t=0===e.length;if(!t){t=!1;var n,s,i,l,r=$(a).data("validateFormat")||"YMD",o="^\\d{1,2}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{4}$",d=e.replace(/[^a-z]/gi,"");d&&((l=["","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"].indexOf(d.toUpperCase()))<=0&&(l=["","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"].indexOf(d.toUpperCase())),0<l&&(e=e.replace(new RegExp(d,"gi"),l)));var u=(e=e.replace(/[^0-9]/g," ").normalizeStr().replace(/ /g,"/")).split("/");switch(r.toUpperCase()){case"YMD":o="^\\d{4}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{1,2}$",n=u[0],s=u[1],i=u[2];break;case"MDY":s=u[0],i=u[1],n=u[2];break;case"DMY":i=u[0],s=u[1],n=u[2]}if(new RegExp(o,"").test(e)){i=parseInt(i,10),s=parseInt(s,10),n=parseInt(n,10);var F=new Date(n,s-1,i);t=F.getFullYear()===n&&F.getMonth()===s-1&&F.getDate()===i}}return t},CardNo:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=!/[^0-9 \-]+/.test(e),s=e.replace(/[^0-9]/g,""),i=s.length;if(n&&i&&0<"0345".indexOf(s[0])&&(15==i||16==i)){for(var l=0,r=0,o=!1,d=e.replace(/\D/g,""),u=d.length-1;0<=u;u--){var F=d.charAt(u);r=parseInt(F,10),o&&9<(r*=2)&&(r-=9),l+=r,o=!o}t=l%10==0}}return t},IPv4:function(a){var e=$(a).val(),t=0===e.length;return t=t||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)&&spa.every(e.split("."),function(a){return!(1<a.length)||!a.beginsWithStr("0")})},IPv6:function(a){var e=$(a).val(),t=0===e.length;return t=t||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},IP:function(a,e){var t=$(a).val(),n=0===t.length;if(!n){var s=t,i=spa.toInt($(a).data("validateIpaddressOctates")||4)-1;n=new RegExp("^(([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))\\.){"+i+"}([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))$","g").test(s)&&spa.every(s.split("."),function(a){return!(1<a.length)||!a.beginsWithStr("0")}),spa._validate._showValidateMsg(a,e,n);var l=$(a).data("validateIpaddressClass");if(n&&l){var r=s.split("."),o={A:{oct1:{B:0,E:127},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:1,E:255}},B:{oct1:{B:127,E:192},oct2:{B:1,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}},C:{oct1:{B:191,E:224},oct2:{B:0,E:256},oct3:{B:1,E:256},oct4:{B:1,E:255}},D:{oct1:{B:223,E:240},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:256}},E:{oct1:{B:239,E:255},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}}};n=1*r[0]>o[l].oct1.B&&1*r[0]<o[l].oct1.E&&(1*r[1]>=o[l].oct2.B&&1*r[1]<o[l].oct2.E&&(1*r[2]>=o[l].oct3.B&&1*r[2]<o[l].oct3.E&&(1*r[3]>o[l].oct4.B&&1*r[3]<o[l].oct4.E))),spa._validate._showValidateMsg(a,e,n)}}return n},Subnet:function(a){var e=$(a).val(),t=0===e.length;t=t||new RegExp("^((128|192|224|240|248|252|254)\\.0\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0)|255\\.(0|128|192|224|240|248|252|254)))))$").test(e)&&spa.every(e.split("."),function(a){return!(1<a.length)||!a.beginsWithStr("0")});return t},PhoneUS:function(a){var e=$(a).val(),t=0===e.length;return t=t||9<e.length&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},Compare:function(a){var e=0===$(a).val().length;if(!e){var t,n=$(a).data(),s=spa.toJSON(n.validateCompare||"{}");if(!spa.isBlank(s)&&s.target){t=$(s.target);var i=s.valid||"=",l=spa.getElValue(a),r=spa.getElValue(t);if(("number".equalsIgnoreCase(s.type)||0<=i.indexOf("<")||0<=i.indexOf(">"))&&(l=spa.toFloat(l),r=spa.toFloat(r)),!"date".equalsIgnoreCase(s.type))switch(i){case"!=":e=l!=r;break;case"!==":e=l!==r;break;case"===":e=l===r;break;case">":e=r<l;break;case"<":e=l<r;break;case">=":e=r<=l;break;case"<=":e=l<=r;break;default:e=l==r}}}return e}},_showValidateMsg:function(a,e,t,n,s){e=e||"";var i=$(a);if(i.length){2<arguments.length&&spa.isString(t)&&(n=t),2<arguments.length&&spa.isBoolean(t)&&t&&(e="");var l=!(n=n||spa._validate._validateAlertTemplate).beginsWithStrIgnoreCase("<"),r=i.parent(),o=i.data("errorClassTarget"),d=o?i.closest(o):r,u=i.data("errorPosition");a=i.get(0),spa._validate._isOnOfflineValidation||(d.removeClass("has-error-msg no-error-msg")[!1===t?"addClass":"removeClass"]("validation-error "+(e?"has-error-msg":"no-error-msg")),i[!1===t?"addClass":"removeClass"]("invalid-data"),s||spa.updateTrackFormCtrls(a.form));var F=l?$(n):i.next();!l&&u&&("first".equalsIgnoreCase(u)?F=r.children().first():"last".equalsIgnoreCase(u)&&(F=r.children().last()));var p,f="",c="",g="";if($(F).attr("class")===$(n).attr("class")||l){if(e.beginsWithStrIgnoreCase("i18n:")){spa.console.group("i18n-Msg"),spa.console.log("msg:",e),f=(e.getLeftStr("|")||e).replace(/i18n:/gi,""),g=e.getRightStr("|"),c="{html:'"+f+"'}",p=spa.toJSON(g),p=spa.isObject(p)?p:{},spa.console.log("i18nData@msg:",p);var v=i.dataJSON("i18nData");spa.isBlank(v)||(spa.console.log("i18nData@el",v),p=spa.merge(p,v),spa.console.log("i18nData:",p)),e=spa.i18n.text(f,p),spa.console.groupEnd("i18n-Msg")}spa._validate._isOnOfflineValidation||($(F).attr("data-i18n",c).data("i18n",c),$(F).attr("data-i18n-data",g).data("i18nData",g),$(F).html(e))}else spa.isBlank(e)||(u?"first".equalsIgnoreCase(u)?$(n).prependTo(r):"last".equalsIgnoreCase(u)?$(n).appendTo(r):$(n).insertAfter(i):$(n).insertAfter(i),spa._validate._showValidateMsg(a,e,t,n));return t}spa.console.warn("Validation config/setup is wrong for validation Msg:["+e+"] forEl:",a)},_getValidationClassTarget:function(a){var e=$(a),t=e.data("errorClassTarget");return t?e.closest(t):e.parent()},_addValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).addClass(e)},_removeValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).removeClass(e)},_deferValidate:function(){return!0},_registerPromise:function(a,e,t,n){var s=!spa.isBlank(a);if(s){var i=$(e),l=i.data("promises")||"";l.indexOf("["+a+"]")<0&&(spa.console.log("validating promise: "+a),l+="["+a+"]",i.attr("data-promises",l).data("promises",l),spa._validate._addValidationClass(i,"validation-pending"),spa.isFunction(t)&&t.call(i,i,n,a))}return s},expose:function(e){return e=e||{},spa.keys(spa._validateDefaults).forEach(function(a){e[a]=spa._validate._fn[spa._validateDefaults[a]]}),e}};var _check=spa._validate.expose();spa.initValidation=spa.initDataValidation=function(a){spa.console.log(">>>>> initDataValidation request for context:"+a);function r(t){return t=t||{},spa.each(spa.keys(t),function(e){0==e.indexOf("on")&&0<e.indexOf("_")&&(spa.each(e.split("_"),function(a){a.indexOf("on")<0&&(a="on"+a),t[a]?spa.isArray(t[a])?t[a].push(t[e]):t[a]=[t[a],t[e]]:t[a]=[t[e]]}),delete t[e])}),t}a=a||"body";var e=$(a),t=e.data("validateElFilter")||"",o=r(spa.toJSON(e.data("validateCommon")||"{}")),n=spa.merge({},o.onFocus),d=!!spa.toJSON(e.attr("data-validate-defaults")||{}).offline;spa.console.log("commonValidateRules");var u,F,p,f,c,s={fn:"_check.promise",offline:!1};spa.isBlank(n)?o.onFocus=s:(spa.isArray(n)||(n=[n]),n.push(s)),o.onFocus=n,spa.console.log(o);var g=(e.data("validateForm")||e.data("validateScope")||"").replace(/onRender/i,"").replace(/[^a-zA-Z0-9]/g,"");if(spa.isBlank(g)){var i=a.replace(/[^a-zA-Z0-9]/g,"");g=i}spa.console.log("offlineValidationKey: "+g);var v=!spa.isBlank(g);v&&(spa.console.log("resetting the rules for "+g),spa._validate._offlineValidationRules[g]={rules:{}}),spa.console.log(g,spa._validate._offlineValidationRules[g]),e.find(t+"[data-validate]").each(function(a,t){var s=$(t).prop("id");s||(s=(t.name||t.type).replace(/[^a-z]/gi,"")+a,$(t).attr("id",s));var i={},e=$(t).data("validate");if(e&&e.indexOf("{")<0){var n=($(t).data("validateEvents")||"onBlur").replace(/[^a-z]/gi," ").normalizeStr().replace(/ /g,"_"),l=",offline:"+($(t).data("validateOffline")||d||"false");e="{"+n+":["+("{fn:"+e.replace(/[,;]/," ").normalizeStr().replace(/ /g,l+"},{fn:")+l+"}")+"]}"}i=r(spa.toJSON(e)),spa.console.log(e),spa.each(spa.keys(o),function(n){var a=o[n];spa.isArray(a)||(a=[a]),a.reverse(),spa.console.group("vRules #"+s),spa.each(a,function(a){if(u=!0,F="<",f=a.offline||!1,p=!1,a.el){var e=a.el.replace(/ /g,"").split(","),t=a.el.replace(/[< >!]/g,"").split(",").indexOf(s);(u=0<=t)&&(F=0<=e[t].indexOf(">")?">":"<",p=0<=e[t].indexOf("!"))}else a.ex&&(u=a.ex.replace(/[< >!]/g,"").split(",").indexOf(s)<0);u&&(c=spa.omit(a,["el","ex"]),spa.console.log(">>commonRule2El:",c,a),p&&(c.offline=!f),i[n]||(i[n]=[]),spa.console.group("-"+n),"<"===F?(spa.console.log(F+"all:",[c],i[n]),i[n]=spa.union([c],i[n])):(spa.console.log(F+"all:",i[n],[c]),i[n]=spa.union(i[n],[c])),spa.console.log("uniq:",i[n]),spa.console.groupEnd("-"+n))}),spa.console.group("-FinalRules"),spa.console.log(i),spa.console.groupEnd("-All"),spa.console.groupEnd("vRules #"+s)}),spa.each(spa.keys(i),function(a){var e=a.substring(2,3).toLowerCase()+a.substring(3);spa.console.log("settingup event on["+e+"]..."),spa.isArray(i[a])||(i[a]=[i[a]]),spa.console.log(i),v&&spa.each(i[a],function(a){spa.isArray(a)||(a=[a]),spa.each(a,function(a){if(a.hasOwnProperty("offline")||(a.offline=d),spa.console.log(a),a.offline&&!a.promise){var e={fn:a.fn,msg:a.msg};spa._validate._offlineValidationRules[g].rules[s]||(spa._validate._offlineValidationRules[g].rules[s]=[]),spa.indexOf(spa._validate._offlineValidationRules[g].rules[s],e)<0&&spa._validate._offlineValidationRules[g].rules[s].push(e)}})}),spa.console.log("registering an event: "+a),a.beginsWithStrIgnoreCase("on")&&!"test".equalsIgnoreCase(e)&&$(t).on(e,function(){var e,t,n,s=this;spa.every(i[a],function(a){return spa.isArray(a)?spa.every(a,function(a){return e=a.fn,spa.isString(e)&&(e=spa.findSafe(window,e)),spa.isFunction(e)||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(s).data("validateMsg")||"",spa._validate._registerPromise(a.promise,s,e,t)&&(e=spa._validate._deferValidate),n=!!spa.isFunction(e)&&e.call(s,s,t),spa.isBoolean(n)&&spa._validate._showValidateMsg(s,t,n),n}):(e=a.fn,spa.isString(e)&&(e=spa.findSafe(window,e)),spa.isFunction(e)||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(s).data("validateMsg")||"",spa._validate._registerPromise(a.promise,s,e,t)&&(e=spa._validate._deferValidate),n=!!spa.isFunction(e)&&e.call(s,s,t),spa.isBoolean(n)&&spa._validate._showValidateMsg(s,t,n),n)})})})})},spa.validateForm=spa.validate=spa.doDataValidation=function(a,e,r){var t;spa.isString(e)&&(t="#"+e.replace(/[ #]/g,"").replace(/,/g,",#")+",",e=r,r=arguments[3]);var n=a.replace(/[^a-zA-Z0-9]/g,""),s="#"+a.replace(/#/g,""),o=$(s),d=[];if(spa._validate._offlineValidationRules[n]){var u=spa._validate._offlineValidationRules[n].rules;if(spa.isEmptyObject(u)){var i=1,l="Offline rules not found in scope ["+a+"].";o.find(".validation-error,.validation-pending").length&&(i=3,l+=" Found .validation-error|.validation-pending"),d=[{errcode:i,errmsg:l}]}else{var F=spa.keys(u);t&&(F=F.map(function(a){return 0<=t.indexOf("#"+a+",")?a:""})),spa._validate._isOnOfflineValidation=!e,spa.every(F,function(a){return!a||(e=a,i=o.find("#"+e),l=i[0],spa.toBoolean(i.data("ignoreValidationIfInvisible"))&&!i.is(":visible")||spa.every(u[e],function(a){if(n=a.fn,spa.isString(n)&&(n=spa.findSafe(window,n)),spa.isFunction(n)||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||i.data("validateMsg")||"",s=!!spa.isFunction(n)&&n.call(l,l,t),spa.isBoolean(s)&&spa._validate._showValidateMsg(i,t,s,"",!0),!s){var e={errcode:2,el:l,fn:a.fn,msg:t};d.push(e)}return s})||r);var e,t,n,s,i,l}),spa._validate._isOnOfflineValidation=!1}}else o.length?o.is("[data-validate-form]")&&(d=[{errcode:1,errmsg:"Form Not Initialized."}]):d=[{errcode:1,errmsg:"Form Not Found."}];return d},spa.removeValidationMsg=function(a){$(a).each(function(a,e){spa._validate._showValidateMsg(e,"",!0)})},spa.updateValidation=function(a,t,n,s){2==arguments.length&&(n=spa.isBlank(t)),$(a).each(function(a,e){spa._validate._showValidateMsg(e,t,n,s)})},spa.updateValidationPromise=function(t,a,n,s,i){var l,r;$(a).each(function(a,e){l=$(e),spa.each(t.split(","),function(a){r=(l.data("promises")||"").replace("["+a.trim()+"]",""),l.attr("data-promises",r).data("promises",r),spa.isBlank(r)&&spa._validate._removeValidationClass(l,"validation-pending")}),spa._validate._showValidateMsg(e,n,s,i)})};
