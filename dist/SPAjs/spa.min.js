/*@license SPA.js (core) [MIT]*/
!function(){var T,o=this,E=document,ae=function(){};o.spa=o.xsr=o.__=o._$=ae,ae.VERSION="2.80.0";var d=Object.prototype,ne=Array.prototype,e=String.prototype,t=Date.prototype,a=d.toString.call(window.app).slice(8,-1).toLowerCase();window.app&&/^html(.*)element$/i.test(a)&&(window.app={api:{}}),window.app=window.app||{api:{}},window.app.api=window.app.api||{};var re,n=function(){try{var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}}catch(e){}return 0}(),r=document.documentMode||n,i=!r;function P(){}function ie(e,t,a){if(L(e))return 3==arguments.length?(e.setAttribute(t,a),e):e.getAttribute(t)}ae.isIE=r,ae.isNonIE=i,ae.noop=P,function(){for(var e,t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=t.length,n=window.console=window.console||{};a--;)n[e=t[a]]||(n[e]=function(){});"none"in window||(window.none=""),"noop"in window||(window.noop=function(){})}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var s="hasOwnProperty,prototype,__proto__".split(",");function l(e){return-1<s.indexOf(e)}function c(e,t){return d.hasOwnProperty.call(e,t)}function p(e){return ne.slice.call(e)}function u(e,t){ae.debug&&console[e]&&console[e].apply(null,t)}ae.debug=!1,ae.debugger={on:function(){ae.debug=!0},off:function(){ae.debug=!1},toggle:function(){ae.debug=!ae.debug}};var f,oe={clear:function(){console.clear()},assert:function(){u("assert",p(arguments))},count:function(){u("count",p(arguments))},debug:function(){u("debug",p(arguments))},dir:function(){u("dir",p(arguments))},dirxml:function(){u("dirxml",p(arguments))},error:function(){u("error",p(arguments))},exception:function(){u("exception",p(arguments))},group:function(){u("group",p(arguments))},groupCollapsed:function(){u("groupCollapsed",p(arguments))},groupEnd:function(){u("groupEnd",p(arguments))},info:function(){u("info",p(arguments))},log:function(){u("log",p(arguments))},markTimeline:function(){u("markTimeline",p(arguments))},profile:function(){u("profile",p(arguments))},profileEnd:function(){u("profileEnd",p(arguments))},table:function(){u("table",p(arguments))},time:function(){u("time",p(arguments))},timeEnd:function(){u("timeEnd",p(arguments))},timeStamp:function(){u("timeStamp",p(arguments))},trace:function(){u("trace",p(arguments))},warn:function(){u("warn",p(arguments))}};if(ae.console=oe,ae.ajaxPreProcess,ae.onInit,ae.onInitComplete,ae.onReady,ae.onUrlChange,ae.onUrlHashChange,ae.onReload,t&&(t.yyyymmdd=function(e){var t=this.getMonth()+1,a=this.getDate();return[this.getFullYear(),(9<t?"":"0")+t,(9<a?"":"0")+a].join(e||"")},t.hhmmss=function(e){var t=this.getHours(),a=this.getMinutes(),n=this.getSeconds();return[(9<t?"":"0")+t,(9<a?"":"0")+a,(9<n?"":"0")+n].join(e||"")}),e){function h(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}function m(e){return(""+e).replace(/<\s*\/+\s*(\bscript\b)/gi,"&lt;/script&gt;</pre").replace(/<\s*(\bscript\b)/gi,"<pre>&lt;script")}function g(e){return m(e).replace(/\s+on([a-z])\s*=/gi," on=").replace(/javascript:/gi,"js:")}function v(e){switch(e){case"{":return"}";case"[":return"]";case"<":return">";default:return e}}e.trimLeftStr=function(e){return(""+this).replace(new RegExp("^["+(e||"\\s")+"]+","g"),"")},e.trimRightStr=function(e){return(""+this).replace(new RegExp("["+(e||"\\s")+"]+$","g"),"")},e.trimStr=function(e){return(""+this).trimLeftStr(e).trimRightStr(e)},e.getLeftStr=function(e){return"string"==typeof e&&(e=(""+this).indexOf(e)),e?(""+this).substr(0,e):""},e.getRightStr=function(e){var t=1;return"string"==typeof e&&(t=e.length,e=(""+this).indexOf(e)),e<0?"":(""+this).substr(e+t)},e.isBlankStr=function(){return""==(""+this).trimStr()},e.ifBlankStr=function(e,t){return e=void 0===e?"":e,t=void 0===t?(""+this).trimStr():t,(""+this).isBlankStr()?e:t},e.isNumberStr=function(){var e=(""+this).trim(),t=e.replace(/[0-9]/g,"").replace(".","").trimStr(),a=e[0];return e&&(0==t.length||1==t.length&&("+"==a||"-"==a))},e.normalizeStr=function(){return(""+this).trimStr().replace(/\s+/g," ")},e.beginsWithStr=function(e,t){t=t?"i":"";var a=new RegExp("^"+e,t);return!!(""+this).normalizeStr().match(a)},e.beginsWithStrIgnoreCase=function(e){var t=new RegExp("^"+e,"i");return!!(""+this).normalizeStr().match(t)},e.endsWithStr=function(e,t){t=t?"i":"";var a=new RegExp(e+"$",t);return!!(""+this).normalizeStr().match(a)},e.endsWithStrIgnoreCase=function(e){var t=new RegExp(e+"$","i");return!!(""+this).normalizeStr().match(t)},e.containsStr=function(e,t){return t=t?"gi":"g",new RegExp(""+e,t).test(""+this)},e.containsStrIgnoreCase=function(e){return new RegExp(""+e,"gi").test(""+this)},e.equals=function(e){return""+this==e},e.equalsIgnoreCase=function(e){return String((""+this).toLowerCase())==String(e).toLowerCase()},e.toProperCase=function(e){return(void 0===e||e?(""+this).normalizeStr():""+this).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})},e.toTitleCase=function(e){return(void 0===e||e?(""+this).normalizeStr():""+this).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})},e.capitalize=function(){return(""+this).charAt(0).toUpperCase()+(""+this).slice(1)},e.unCapitalize=function(){return(""+this).charAt(0).toLowerCase()+(""+this).slice(1)},e.sanitizeHTML=function(){return h(""+this)},ae.sanitizeHTML=h,e.sanitizeScript=function(){return m(""+this)},ae.sanitizeScript=m,e.sanitizeXSS=function(){return g(""+this)},ae.sanitizeXSS=g,e.splitToArray=e.toArray=function(e){return ge(""+this)?[]:(""+this).split(e)},e.extractStrBetweenIn=function(e,t,a){e=e||((e=(""+this).match(/[^a-z0-9\:\.\/\\]/i))?e[0]:""),t=t||v(e);var n=(""+this).match(RegExp("\\"+e+"([^\\"+e+"\\"+t+"].*?)\\"+t,"g"))||[];return a&&!ge(n)&&(n=n.__unique()),n},e.extractStrBetweenEx=function(e,t,a){var n="\\"+(e=e||((e=(""+this).match(/[^a-z0-9\:\.\/\\]/i))?e[0]:""))+"\\"+(t=t||v(e)),r=new RegExp("["+n+"]","g"),i=((""+this).match(new RegExp("\\"+e+"([^"+n+"].*?)\\"+t,"g"))||[]).map(function(e){return e.replace(r,"")});return a&&!ge(i)&&(i=i.__unique()),i},e.toNative=function(){return R(""+this)},e.toBoolean=function(){var e=!0;switch((""+this).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":e=!1}return e=e&&!(""+this).trimStr().beginsWithStr("-")},e.padStr=function(e,t,a){e=e||"",t=t||1,a=a||2;for(var n="",r=0;r<t;r++)n+=e;return(-1===a||2===a?n:"")+""+this+(1===a||2===a?n:"")},e.toObj=e.toObject=e.toJSON=function(){return le(""+this)},e.bindData=e.bindWith=function(e){return function(t,a,n,r){t=""+t,n=n||"{",r=r||"}";var e=ae.extractStrBetweenEx(t,n,r,!0);t&&!ge(e)&&ue(a)&&Se(e,function(e){t=t.replace(new RegExp(n+"\\s*("+e.trim()+")\\s*"+r,"g"),be(a,e,""))});return t}(""+this,e)}}function R(e){var t,a=e.trim();switch(!0){case t=a.replace(/[0-9]/g,""),!(!a.length||t.length&&"-"!=t&&"+"!=t&&"."!=t):return+a;case"true"==a||"false"==a:return"true"==a;case"{"==a[0]&&"}"==a[a.length-1]:return a.toJSON();case"["==a[0]&&"]"==a[a.length-1]:return("{xArr:"+a+"}").toJSON().xArr;default:return e}}function se(e){if(!ae.jsonDataSanityCheck)return 1;var t=e.indexOf("(");if(!(0<=t&&e.indexOf(")",t)>t))return 1;console.warn("Insecured String with braces():",e)}function le(t,e){var a;if(fe(t)){if(!se(a=t.trimStr().trimStr(",").trimStr(";")))return t;if(a.match(/^\</))return t;if(!(a.containsStr("{")||a.containsStr(":")||a.containsStr("\\[")||a.containsStr("'")||a.containsStr('"'))){if(a.containsStr(",")||a.containsStr(";"))return a.replace(/ /g,"").replace(/;/g,",").split(",");if(!e)return R(a);a="{"+e+":"+a+"}"}a.containsStr(":")&&!a.containsStr(",")&&a.containsStr(";")&&(a=a.replace(/\;/g,",")),a.beginsWithStr("{")||a.beginsWithStr("\\[")?a.beginsWithStr("{")&&!a.containsStr(":")&&a.containsStr("=")&&(a=""+a.replace(/=/g,":")):a=a.containsStr(":")?"{"+a+"}":a.containsStr("=")?"{"+a.replace(/=/g,":")+"}":"["+a+"]",!a.beginsWithStr("{")&&e&&(a="{"+e+":"+a+"}")}var n={};try{n=fe(t)||"object"!=typeof t?ge(t)?null:Function('"use strict";return ('+a+")")():t}catch(e){console.error('Error JSON Parse: Invalid String >> "'+t+'"\n>> '+e.stack.substring(0,e.stack.indexOf("\n")))}return n}function ce(e){return d.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function A(e,t){return"*"==(""+t)[0]?0<=of(e).indexOf((""+t).toLowerCase().substr(1)):0<=(""+t).toLowerCase().indexOf(of(e))}function de(e){return A(e,"array")}function w(e){return A(e,"boolean")}function pe(e){return A(e,"function")}function ue(e){return A(e,"object")}function b(e){return"object"==typeof e||"function"==typeof e}function fe(e){return A(e,"string")}function y(e){return A(e,"number")}function C(e){return(""+e).isNumberStr()}function he(e){return A(e,"undefined")}function L(e){return A(e,"*element")}function S(e){return!!de(e)||!!e&&("object"==typeof e&&(1===e.nodeType?!!e.length:0===e.length||0<e.length&&(0 in e&&e.length-1 in e)))}function me(e){var t;for(t in e)return!1;return!0}function ge(e){var t=!0;if(null!=e)switch(!0){case fe(e):t=0==e.trimStr().length;break;case pe(e):t=!1;break;case de(e):case ue(e):t=me(e);break;default:t=0==(""+e).trimStr().length}return t}function x(e){return!me($(e).get())}function O(e){var t=""+e;return ue(e)&&(t=JSON.stringify(e)),t}function ve(){return""+(new Date).getTime()}function k(e){return e=e||0,(new Date).getFullYear()+ae.toInt(e)}function I(e,t,a){var n=[],r=arguments.length;if(r){1===r?(t=e,a=(e=0)<=t?1:-1):2===r&&(a=e<=t?1:-1);for(var i=Math.max(Math.ceil((t-e)/(a||1)),0);i--;)n.push(e),e+=a}return n}function U(){var e=arguments.length&&arguments[0]?arguments[0]:"[data-disable-keys],[data-focus-next],[data-focus-back]",t=$(2==arguments.length&&arguments[1]?arguments[1]:"body").find(e);oe.info("Finding Key-Tracking for element(s): "+e),t.each(function(e,t){$(t).keydown(ae._trackAndControlKey),oe.info("SPA is tracking keys on element:"),oe.info(t)})}function N(e,t,a,n){t=(t||"value").toLowerCase(),n=n||",",de(a)&&(n="~~",a=a.join(n)),a=(n+a+n).toLowerCase();var r,i=ae.getDocObj(e);if(i)for(var o,s=0;s<i.length;s++)r=(n+i.options[s][t]+n).toLowerCase(),o=0<=a.indexOf(r),(i.options[s].selected=o)?ie(i.options[s],"selected",""):i.options[s].removeAttribute("selected")}function j(e,t){return Math.floor(Math.random()*(t-e+1))+e}ae.strToNative=R,ae.extractStrBetweenIn=function(e,t,a,n){return(e||"").extractStrBetweenIn(t,a,n)},ae.extractStrBetweenEx=function(e,t,a,n){return(e||"").extractStrBetweenEx(t,a,n)},ae.strToArray=function(e){return"string"==typeof e&&(e=[e]),e},ae.jsonDataSanityCheck,ae.toJSON=ae.toObj=le,ae.lastSplitResult=[],ae.getOnSplit=ae.pickOnSplit=function(e,t,a){return ae.lastSplitResult=e.split(t),ae.getOnLastSplit(a)},ae.getOnLastSplit=ae.pickOnLastSplit=function(e){return e<0?$e(ae.lastSplitResult):ae.lastSplitResult[e]},ae.of=of=ce,ae.is=is=A,ae.isArray=de,ae.isArrayLike=S,ae.isBoolean=w,ae.isFunction=pe,ae.isObject=ue,ae.isObjectLike=b,ae.isString=fe,ae.isNumber=y,ae.isUndefined=he,ae.isEmptyObject=me,ae.isElement=L,ae.isElementExist=x,ae.isBlank=ae.isEmpty=_isEmpty=ge,ae.toBoolean=function(e){var t=!0;switch((""+e).trimStr().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":t=!1}return t},ae.toInt=function(e){return e=ge(e=(""+e).replace(/[^+-0123456789.]/g,""))?"0":0<=e.indexOf(".")?e.substring(0,e.indexOf(".")):e,parseInt(+e,10)},ae.toFloat=function(e){return e=ge(e=(""+e).replace(/[^+-0123456789.]/g,""))?"0":e,parseFloat(+e)},ae.toStr=O,ae.toString=function(e){return oe.warn("xsr.toString is deprecated. use xsr.toStr instead."),O(e)},ae.dotToX=function(e,t){return e.replace(/\./g,t)},ae.dotToCamelCase=function(e){var t=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return t[0].toLowerCase()+t.substring(1)},ae.dotToTitleCase=function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")},ae.toDottedPath=function(e){return(e||"").trim().replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,".").trimStr("\\.")},ae.ifBlank=ae.ifEmpty=ae.ifNull=function(e,t,a){return t=(""+(t||"")).trimStr(),a=void 0===a?(""+e).trimStr():a,ge(e)?t:a},ae.now=ve,ae.year=k,ae.sizeOf=function(e,t){var a,n=0;function r(e){if(null!=e)switch(typeof e){case"number":n+=8;break;case"string":n+=2*e.length;break;case"boolean":n+=4;break;case"object":var t=d.toString.call(e).slice(8,-1);if("Object"===t||"Array"===t)for(var a in e)e.hasOwnProperty(a)&&(n+=2*a.length,r(e[a]));else n+=2*e.toString().length}return n}return he(t)||t?(a=r(e))<1024?a+" B":a<1048576?(a/1024).toFixed(3)+" KB":a<1073741824?(a/1048576).toFixed(3)+" MB":(a/1073741824).toFixed(3)+" GB":r(e)},ae.range=function(){var e=arguments.length;if(!e||1===e&&"0"===(""+arguments[0]).trim())return[];var t=arguments[0];"string"!=typeof arguments[0]&&e&&(t=1===e?"0.."+arguments[0]+":1":2===e?arguments[0]+".."+arguments[1]+":1":arguments[0]+".."+arguments[1]+":"+arguments[2]),(t=(t=t.toUpperCase()).replace(/Y([0-9])/g,"Y+$1")).indexOf("..")<0&&(t=(-1<t.indexOf("Y")?"Y..":"0..")+t),-1<t.indexOf("Y")&&t.indexOf("..Y")<0&&(t=t.replace(/\.\.([0-9])/g,"..+$1").replace(/\.\./g,"..Y"));var a=t.split(".."),n=""+a[0],r=""+a[1],i="1";0<r.indexOf(":")&&(r=""+a[1].split(":")[0],i=""+a[1].split(":")[1]),0<=n.indexOf("Y")&&(n=k(n.split(/[^0-9+-]/)[1])),0<=r.indexOf("Y")&&(r=k(r.split(/[^0-9+-]/)[1]));var o=ae.toInt(n),s=ae.toInt(r),l=ae.toInt(i);return r<n?I(s,o+1,l).reverse():I(o,s+1,l)},ae.checkAndPreventKey=function(e,t){var a=0<=(t=t||"").indexOf("+shift"),n=""+e.keyCode,r=0<=t.padStr(",").indexOf(n.padStr(","))&&(a?!!e.shiftKey:!e.shiftKey);return r&&(e.preventDefault(),oe.info("Key ["+n+(a?"+Shift":"")+"] has been disabled in this element.")),r},ae._trackAndControlKey=function(e){var t=e.currentTarget,a=$(t),n=(""+a.data("disableKeys")).toLowerCase();ae.checkAndPreventKey(e,n);var r=!ge((""+a.data("focusNext")).replace(/undefined/,"").toLowerCase()),i=!ge((""+a.data("focusBack")).replace(/undefined/,"").toLowerCase());r&&ae.checkAndPreventKey(e,"9")&&$(a.data("focusNext")).get(0).focus(),i&&ae.checkAndPreventKey(e,"9,+shift")&&$(a.data("focusBack")).get(0).focus()},ae.initKeyTracking=U,ae.getDocObj=function(e){var t="object"==typeof e?e:(e.beginsWithStr("#")?"":"#")+e;return L(t)?t:$(t).get(0)},ae.getDocObjs=function(e){var t=(e.beginsWithStr("#")?"":"#")+e;return $(t).get()},ae.hasCssRule=function(e){var t=!1;if(e){e=e.split(",");for(var a=0;a<document.styleSheets.length;a++){var n=document.styleSheets[a].rules||document.styleSheets[a].cssRules;if(t)break;for(var r in n)if(t=t||"string"==typeof n[r].selectorText&&0<=e.indexOf(n[r].selectorText))break}}return t},ae.getCssRule=function(e){var t,a;if(e)for(var n=0;n<document.styleSheets.length;n++){var r=document.styleSheets[n].rules||document.styleSheets[n].cssRules;if(t)break;for(var i in r)if(t=t||"string"==typeof r[i].selectorText&&e==r[i].selectorText){a=r[i];break}}return a},ae.setFocus=function(e,t){var a=ae.getDocObj(e);a&&(a.focus(),t&&a.select())},ae.swapClass=function(e,t,a){$(e).removeClass(t),$(e).addClass(a)},ae.docObjValue=function(e,t){var a=ae.getDocObj(e),n="";return a&&(n=a.value,2===arguments.length&&(a.value=t)),n},ae.optionSelectedIndex=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=n.selectedIndex,2===arguments.length&&(n.selectedIndex=t)),a},ae.optionIndexOfValue=function(e,t,a){var n=-1,r=ae.getDocObj(e);if(r)for(var i=0;i<r.length;i++)if((""+t).equalsIgnoreCase(r.options[i].value)){n=i;break}return n},ae.optionIndexOfText=function(e,t){var a=-1,n=ae.getDocObj(e);if(n)for(var r=0;r<n.length;r++)if(t.equalsIgnoreCase(n.options[r].text)){a=r;break}return a},ae.optionIndexOfValueBeginsWith=function(e,t){var a=-1,n=ae.getDocObj(e);if(n)for(var r=0;r<n.length;r++)if(n.options[r].value.beginsWithStrIgnoreCase(t)){a=r;break}return a},ae.optionsSelectedValues=function(e,t){return e=(e.beginsWithStr("#")?"":"#")+e,t=t||",",we($(e+" option:selected"),function(e){return e.value}).join(t)},ae.optionsSelectedTexts=function(e,t){return e=(e.beginsWithStr("#")?"":"#")+e,t=t||",",we($(e+" option:selected"),function(e){return e.text}).join(t)},ae.optionValueOfIndex=function(e,t){var a="",n=ae.getDocObj(e);return n&&0<=t&&t<n.length&&(a=n.options[t].value),a},ae.optionTextOfIndex=function(e,t){var a="",n=ae.getDocObj(e);return n&&0<=t&&t<n.length&&(a=n.options[t].text),a},ae.selectOptionsForValues=function(e,t,a){N(e,"value",t,a)},ae.selectOptionsForTexts=function(e,t,a){N(e,"text",t,a)},ae.selectOptionsAll=function(e){var t=ae.getDocObj(e);if(t)for(var a=0;a<t.length;a++)t.options[a].selected=!0,ie(t.options[a],"selected","")},ae.selectOptionsNone=function(e){var t=ae.getDocObj(e);if(t)for(var a=0;a<t.length;a++)t.options[a].selected=!1,t.options[a].removeAttribute("selected")},ae.selectOptionForValue=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfValue(e,t),n.selectedIndex=a,ie(n.options[a],"selected","")),a},ae.selectOptionForValueBeginsWith=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfValueBeginsWith(e,t),n.selectedIndex=a,ie(n.options[a],"selected","")),a},ae.selectOptionForText=function(e,t){var a=-1,n=ae.getDocObj(e);return n&&(a=ae.optionIndexOfText(e,t),n.selectedIndex=a,ie(n.options[a],"selected","")),a},ae.optionsReduceToLength=function(e,t){t=t||0;var a=ae.getDocObj(e);a&&(ae.selectOptionsNone(e),a.length=t)},ae.optionsRemoveAll=function(e){ae.optionsReduceToLength(e,0)},ae.optionRemoveForIndex=function(e,t){e=(e.beginsWithStr("#")?"":"#")+e;var a=ae.getDocObj(e);a&&((""+t).equalsIgnoreCase("first")&&(t=0),(""+t).equalsIgnoreCase("last")&&(t=a.length-1),a.remove(t))},ae.optionRemoveForValue=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfValue(e,t))},ae.optionRemoveForText=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfText(e,t))},ae.optionRemoveForValueBeginsWith=function(e,t){ae.optionRemoveForIndex(e,ae.optionIndexOfValueBeginsWith(e,t))},ae.optionAppend=function(e,t,a,n){var r=-1,i=ae.getDocObj(e);if(i)if(void 0===n){var o=i.length;i.length=o+1,i.options[o].value=t,i.options[o].text=a,r=o}else $(i).find("option").eq(n).before('<option value="'+t+'">'+a+"</option>"),r=n;return r},ae.optionsLoad=function(a,e,t,n){if(t=t||0,n=n||0,fe(e)&&(0<e.indexOf("..")?e=ae.range(e):0<e.indexOf(",")&&(e=e.split(",").map(function(e){return e.trim()}))),0<=t&&ae.optionsReduceToLength(a,t),de(e))Se(e,function(e){ae.optionAppend(a,e,e)});else if(0<n){var r=[];for(var i in e)r.push({key:i,value:e[i]});Se(q(r,["","key","value"][n]),function(e){ae.optionAppend(a,e.key,e.value)})}else Se(e,function(e,t){ae.optionAppend(a,t,e)})},ae.optionsList=function(t,e,a,n,r){var i=ae.getDocObj(t);he(a)&&(a=ie(i,"data-options-from")),he(n)&&(n=ie(i,"data-sort-on")),he(r)&&(r=ie(i,"data-sort-by"));var o,s,l=(ie(i,"data-value-key")||"value").toLowerCase(),c=(ie(i,"data-text-key")||"text").toLowerCase(),d=["",l,c];if(a=+(a||0),n=+((n||0)+"").replace(new RegExp(l,"i"),"1").replace(new RegExp(c,"i"),"2"),r=((r||"")+"").trim().toLowerCase(),0<=a&&ae.optionsReduceToLength(t,a),fe(e)&&(e=0<e.indexOf("..")?ae.range(e):i.hasAttribute("data-split-by")?e.split(ie(i,"data-split-by")).map(function(e){return e.trim()}):[e]),ue(e)){var p=[];Se(e,function(e,t){var a={};a[l]=t,a[c]=e,p.push(a)}),e=p}de(e)&&((n||r)&&(ue(e[0])?(e=q(e,d[n]),"d"==r[0]&&(e=e.reverse())):"a"==r[0]?e=e.sort():"d"==r[0]&&(e=e.sort().reverse())),Se(e,function(e){ue(e)?(o=e[l],s=e[c]):o=s=e,ae.optionAppend(t,o,s)}))},ae.checkedState=function(e,t){var a=!1,n=ae.getDocObj(e);return n&&(a=n.checked,2===arguments.length&&(n.checked=t)),a},ae.isChecked=function(e,t){return 0<$(e).find("input[name="+t+"]:checked").length},ae.radioSelectedValue=function(e,t){var a=$(e).find("input[name="+t+"]:checked").val();return a||""},ae.radioClearSelection=function(e,t){$(e).find("input[name="+t+"]:checked").attr("checked",!1)},ae.radioSelectForValue=function(e,t,a){$(e).find("input[name="+t+"]:radio").each(function(e){e.checked=e.value.equalsIgnoreCase(a)})},ae.checkboxCheckedValues=function(e,t,a){return a=a||",",$(e).find("input[name="+t+"]:checked").map(function(){return this.value}).get().join(a)},ae.sleep=function(e){var t=new Date;for(t.setTime(t.getTime()+1e3*e);(new Date).getTime()<t.getTime(););},ae.filterJSON=function(e,t){console.warn("xsr.filterJSON has been removed. please use alternate filter.")},ae.randomPassword=function(e,t){for(var a=t||"9a8b77C8D9E8dkfhseidF7G6H5QJ3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",n="",r=0;r<(e||8);r++){var i=Math.floor(Math.random()*a.length);n+=a.charAt(i)}return n},ae.rand=j,ae.appendToObj=function(e,t,a){ye(e,t)?(de(e[t])||(e[t]=[e[t]]),e[t].push(a)):e[t]=a},ae.parseKeyStr=function(e,t){return(t?e.toLowerCase():e).replace(/[^_0-9A-Za-z\$\[\]\?\*\-]/g,"")};var D={};function F(e){if(fe(e)){var t,a,n=e.trim().split(" "),r=n[0];/app\.(.+)\./.test(r)?(t=r.split(".")[1],n[0]=n[0].replace("app."+t+".",'[data-rendered-component="'+r.split(".")[1]+'"] '),e=n.join(" ")):r.beginsWithStr("\\$")&&(0<(t=r.substr(1)).indexOf(":")?(a=ae.toInt(t.getRightStr(":").trim()),t=t.getLeftStr(":"),n[0]='[data-rendered-component="'+t+'"]:eq('+a+")"):n[0]='[data-rendered-component="'+t+'"]',e=n.join(" "))}return e}function z(e,t,a){var n,r,i=$(this),o=i[0],s=i.serializeToArray(),l=i.data(),c="object"==typeof e?e:{},d="boolean"==typeof e?e:t||!1,p=l.serializeIgnorePrefix,u=l.hasOwnProperty("typeNative");return D={},a&&(p=a),Se(s,function(){n=p?this.name.replace(p,""):this.name,c=ae.setObjProperty(c,n,u?this.value.toNative():this.value,d)}),i.find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){(n=$(this).attr("name"))&&(r=$(this).data("unchecked"),p&&(n=n.replace(p,"")),r=""+(void 0===r?"":r),c=ae.setObjProperty(c,n,u?r.toNative():r,d))}),(o.hasAttribute("data-disabled")&&ge(ie(o,"data-disabled"))||R(l.disabled||"false"))&&i.find("[disabled][name]").each(function(){(n=$(this).attr("name"))&&(r=ae.getElValue(this),p&&(n=n.replace(p,"")),r=""+(void 0===r?"":r),c=ae.setObjProperty(c,n,u?r.toNative():r,d))}),c}function M(e,t){var a,n,r,i,o=$(this),s=o[0],l=o.data(),c=this.serializeToArray(),d="object"==typeof e?e:{},p="boolean"==typeof e?e:A(t,"boolean")?t:s.hasAttribute("data-disabled")&&ge(ie(s,"data-disabled"))||R(l.disabled||"false");return Se(c,function(){ae.appendToObj(d,this.name,this.value)}),p&&$(this).find("[disabled][name]").each(function(){ae.appendToObj(d,this.name,ae.getElValue(this))}),$(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){r=$(this).attr("name"),i=""+(void 0===(i=$(this).data("unchecked"))?"":i),ae.appendToObj(d,r,i)}),$(this).find("[data-to-json-group][name]").each(function(){a=this.name,(n=$(this).data("toJsonGroup"))&&(d[n]||(d[n]={}),ae.appendToObj(d[n],a,ae.getElValue(this)))}),d}function be(e,t,a){if(b(e)&&t){var n=we(t.split("|"),function(e){return e.trim()});t=n.shift();var r,i=n.join("|");if(0<=t.indexOf("*"))r=function(e,t){var a;if(b(e))if(e.hasOwnProperty(t))a=e[t];else for(var n=Ce(e),r=0;he(a)&&r<n.length;)a=arguments.callee(e[n[r++]],t);return a}(e,t.replace(/\*/g,""));else{var o=0,s=ae.toDottedPath(t).split("."),l=s.length;for(r=e;o<l;o++)if(de(r))r=r[ae.toInt(s[o])];else{if(!b(r)){r=void 0;break}r=r[s[o].trim()]}}return he(r)?i?be(e,i,a):pe(a)?a.call(e,e,t):a:r}return 3==arguments.length?pe(a)?a.call(e,e,t):a:e}function ye(e,t){if(arguments.length<2)return!1;if("object"!=typeof e||"string"!=typeof t||/[\.\[\]\/\|\&\,]/g.test(t)){var a=e,n=!1;try{n=!!se(t)&&void 0!==be(a,t)}catch(e){console.warn("Key["+t+"] error in object.\n"+e.stack)}return n}return e.hasOwnProperty(t.trim())}function B(e,t,l){function a(e,t){for(var a,n=t.split(","),r="",i=0,o=!0,s=0;s<n.length;s++)(r=n[s].trim())&&(i++,a=l&&(0<r.indexOf(".")||0<r.indexOf("["))?ae.hasKey(e,r):e.hasOwnProperty(r),o=o&&a);return i&&o}var n=!1;if(ue(e)&&t)switch(!0){case 0<(t=""+t).indexOf("&"):n=a(e,t.replace(/\&/g,","));break;case 0<t.indexOf("|"):n=function(e,t){for(var a,n=t.split(","),r="",i=0,o=!1,s=0;s<n.length&&((r=n[s].trim())&&(i++,a=l&&(0<r.indexOf(".")||0<r.indexOf("["))?ae.hasKey(e,r):e.hasOwnProperty(r),o=o||a),!o);s++);return i&&o}(e,t.replace(/\|/g,","));break;default:n=a(e,t)}return n}function Ce(e){var t=[];try{t=Object.keys(e)}catch(e){}return t}function V(e){var n,r,i,o=[];return function(e,t){if(t=t||"","object"!=typeof e)return;for(var a in e)i=t.substring(1),n=C(a)?"[":".",r=i&&"["==n?"]":"",arguments.callee(e[a],t+n+a+r)&&o.push(i+(i?n:"")+a+r)}(e=e||{}),o}function Se(t,a){if(S(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t);else Ce(t).forEach(function(e){a.call(t[e],t[e],e,t)})}function we(t,a){var n=[];if(S(t))for(var e=0;e<t.length;e++)n.push(a.call(t[e],t[e],e,t));else Ce(t).forEach(function(e){n.push(a.call(t[e],t[e],e,t))});return n}function H(e,t){var a=!0;if(S(e))for(var n=0,r=e.length;a&&n<r;n++)a=!!t.call(e[n],e[n],n,e);else{var i,o=Ce(e);for(n=0,r=o.length;a&&n<r;n++)i=o[n],a=!!t.call(e[i],e[i],i,e)}return a}function K(e,t){var a=!1;if(S(e))for(var n=0,r=e.length;n<r&&!(a=!!t.call(e[n],e[n],n,e));n++);else{var i,o=Ce(e);for(n=0,r=o.length;n<r&&(i=o[n],!(a=!!t.call(e[i],e[i],i,e)));n++);}return a}function W(t,a){var n=[];if(S(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t)&&n.push(t[e]);else Ce(t).forEach(function(e){a.call(t[e],t[e],e,t)&&n.push(t[e])});return n}function xe(t,a){var n=[];if(S(t))for(var e=0;e<t.length;e++)a.call(t[e],t[e],e,t)&&n.push(t.splice(e--,1)[0]);else Ce(t).forEach(function(e){a.call(t[e],t[e],e,t)&&(n.push(t[e]),delete t[e])});return n}function q(e,s){return S(e)&&s?e.sort(function(e,t){var a=C(e[s])?+e[s]:e[s],n=C(t[s])?+t[s]:t[s],r=typeof a,i=typeof n,o=0;return"string"==r&&"string"==i?((a=a.toUpperCase())<(n=n.toUpperCase())&&(o=-1),n<a&&(o=1)):"number"==r&&"number"==i&&(o=a-n),o}):e}function J(e,t){var a={};if(S(e)&&S(t))for(var n=0;n<e.length;n++)a[e[n]]=t[n];return a}function X(e){if(ae.strZip)return ae.strZip(e);for(var t,a={},n=(e+"").split(""),r=[],i=n[0],o=256,s=1;s<n.length;s++)null!=a[i+(t=n[s])]?i+=t:(r.push(1<i.length?a[i]:i.charCodeAt(0)),a[i+t]=o,o++,i=t);r.push(1<i.length?a[i]:i.charCodeAt(0));for(s=0;s<r.length;s++)r[s]=String.fromCharCode(r[s]);return r.join("")}function G(e){return X(function e(t,a){var n=a=a||"",r=typeof t;if("object"==r)for(var i=Object.keys(t).sort(),o=0;o<i.length;o++)n+=e(t[i[o]],i[o]);else if("function"==r){var s=t.name;if(s&&s!==a)n+="F"+s;else{var l=t.toString();n+=(s=/function(.*?)\(/.exec(l)[1].trim())?"F"+s:l}}else n+=t;return n}(e).replace(/\s/g,"_").replace(/\"/g,"d").replace(/\'/g,"s").replace(/\\/g,"b").replace(/\//g,"f").replace(/function/g,"Fn"))}function Oe(){var e=(arguments.length?arguments[0]:{})||{};if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(ue(t=arguments[a]))for(var n in t)!l(n)&&c(t,n)&&(e[n]=t[n]);else de(t)&&(e=Z.call(null,e,t));return e}function ke(){var e=(arguments.length?arguments[0]:{})||{};if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(ue(t=arguments[a]))for(var n in t)!l(n)&&c(t,n)&&(ue(t[n])?e[n]=ke(e[n],t[n]):de(t[n])?e[n]=Z(e[n],t[n]):e[n]=t[n]);else de(t)&&(e=Z.call(null,e,t));return e}function Z(){var e=(arguments.length?arguments[0]:[])||[];if(arguments.length)for(var t,a=0;a<arguments.length;a++)if(de(t=arguments[a]))for(var n=0;n<t.length;n++)if(he(e[n]))e[n]=t[n];else switch(ce(t[n])){case"object":e[n]=ke(e[n],t[n]);break;case"array":e[n]=Z(e[n],t[n]);break;case"undefined":break;default:e[n]=t[n]}return e}function $e(e,t){var a;return S(e)&&0<e.length&&(a="number"==typeof t&&1<t?e.slice(-1*t):e[e.length-1]),a}function Te(e,t){var a=e;if(t=(t||"").replace(/[^a-z0-9]/gi,"/"),0<=".{$".indexOf(e[0])){var n=e.split("/"),r=n[0].replace(/[\{\}]/g,""),i="$"==r||"."==r?t:r.replace(/[\{\$\}]/,""),o=ae.defaults.components.inFolder?i+"/":"";n[0]=(ae.defaults.components.rootPath+o).trimRightStr("/"),a=n.join("/")}return a}function Y(e,t){return oe.log("Ajax for script:",e,"options:",t),!(e=Te(e,t?t.spaComponent:"")).endsWithStrIgnoreCase(".js")&&e.indexOf("?")<0&&(e+=ae.defaults.components.scriptExt),(t=t||{}).hasOwnProperty("cache")||(t.cache=!0),t.hasOwnProperty("dataType")||(t.dataType="javascript"),t=Oe(t,{url:e}),oe.info("Loading Script('"+e+"') ..."),ba(t)}ae.setObjProperty=function(e,t,a,n){n=n||!1;var r,i,o,s,l=e,c=0<=(t=""+t).indexOf(".")||t==t.toUpperCase()?t.split("."):t.split(/(?=[A-Z])/),d=t.replace(/[0-9A-Za-z\[\]\?\*\_]/g,"").trim();d&&""!=d&&(c=t.split(d[0]));for(var p="";1<c.length;)ge(r=ae.parseKeyStr(c.shift(),n))||(p+=r.replace(/[\?\[\]\*\_]/g,""),l=0<r.indexOf("[")&&r.indexOf("]")==r.length-1?(o=(i=r.substring(0,r.length-1).replace(/\[/g,".").split("."))[0],s=i[1],void 0===l[o]&&(l[o]=[]),s.replace(/[0-9]/g,"")&&(s=s.replace(/[^0-9]/g,""),D.hasOwnProperty(p)?s=D[p]:void 0===l[o][s]&&(D[p]=l[o].length,s=l[o].length)),void 0===l[o][s]&&(l[o][s]={}),l[o][s]):(void 0===l[r]&&(l[r]={}),l[r]));return r=ae.parseKeyStr(c.shift(),n),ae.appendToObj(l,r,a),e},ae.setSimpleObjProperty=function(e,t,a){for(var n,r=e,i=(t=""+t).split(".");1<i.length;)ge(n=ae.parseKeyStr(i.shift(),!1))||(void 0===r[n]&&(r[n]={}),r=r[n]);return r[n=ae.parseKeyStr(i.shift(),!1)]=a,e},ae.objProp=ae.objProperty=ae.objectProp=ae.objectProperty=function(){var e=arguments[0],t=arguments[1],a=arguments[2];return 3==arguments.length?ae.setSimpleObjProperty(e,t,a):2==arguments.length?be(e,t):e},ae.extract=function(){var e=ne.slice.call(arguments);try{ue(e[0])||e.unshift({}),fe(e[1])&&(e[1]=e[1].split(","))}catch(e){console.error("Invalid arguments",e)}if(ue(e[0])&&de(e[1])){var a,n,r,i,o,s,l=e[0],t=e[1],c=e.slice(2);return c.unshift(window),Se(t,function(e){if(e=(e||"").trim(),!(o=!(e&&"@0"!=e))&&(/^\@([0-9])+/.test(e)&&((i=n=(e.getRightStr(".")||"").trim())?e=i+":"+e:(ke(l,c[ae.toInt(e)]),o=!0)),!o)){if(a=e.split(":"),n=(a[0]||"").trim(),r=ae.toInt((a[1]||"").split(".")[0]),i=((a[1]||"").getRightStr(".")||"").trim(),n=n||i,s=i?be(c[r],i):r?c[r]:{},n.endsWithStr("\\+")){n=n.trimRightStr("+");var t=be(l,n);switch(ce(t)){case"object":ue(s)&&(s=ke({},t,s));break;case"array":s=de(s)?t.concat(s):t.push(s)}}ae.setSimpleObjProperty(l,n,s)}}),l}console.error("Invalid arguments.")},ae.setElValue=function(e,t){var a=$(F(e));switch((e=a.get(0)).tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"text":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"search":case"tel":case"time":case"url":case"range":case"button":case"submit":case"reset":a.val(t),a.isEnabled()&&a.trigger("keyup");break;case"checkbox":case"radio":e.checked=e.value.equalsIgnoreCase(t),e.checked&&a.isEnabled()&&a.trigger("click")}break;case"SELECT":ae.selectOptionForValue(e,t),a.isEnabled()&&a.trigger("change");break;case"TEXTAREA":a.val(t),a.isEnabled()&&a.trigger("keyup");break;default:a.html(ae.sanitizeXSS(t)),a.val(t),a.isEnabled()&&a.trigger("keyup")}},ae.getElValue=function(e,t){if(e=$(F(e)).get(0)){var a,n,r;switch(e.tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"checkbox":n=$(e).data("unchecked"),r="true"==e.value||"false"!=e.value&&e.value,a=e.checked?r:void 0===n?"":n;break;case"radio":a=e.checked?e.value:"";break;default:a=$(e).val()}break;case"SELECT":a=we($(e).find("option:selected"),function(e){return e.value}).join(",");break;case"TEXTAREA":a=$(e).val();break;default:a=t?$(e).text():$(e).html()}if(ge(a)&&e.hasAttribute("data-default")){var i=ie(e,"data-default")||"";"@"===i[0]?pe(i=be(o,i.replace(/^[@\s]+/,""),""))&&he(i=i.call(e,e))&&(i=""):"@"===i[1]&&(i=i.trim()),a=i}return a}},ae.serialize=function(e,t,a){w(e)&&(a=e,e=""),w(t)&&(a=t,t=""),e=e||"body";var n,r,i,o,s={},l=t?'[data-serialize-context*="'+t+'"]':"";return $(e).find("[data-serialize]"+l+",input[name]"+l+",select[name]"+l+",textarea[name]"+l).each(function(e,t){i=$(t).data(),n=t.name||i.serialize,o=i.serializeType?i.serializeType.equalsIgnoreCase("text"):a,r=ae.getElValue(t,o),s.hasOwnProperty(n)?ge(r)||(ge(s[n])?s[n]=r:de(s[n])?s[n].push(r):s[n]=[s[n],r]):s[n]=r}),s},ae.serializeToQueryString=function(e,t){return ae.toQueryString(ae.serialize(e,t))},ae.serializeDisabled=function(e){var t="";return $(e).find("[disabled][name]").each(function(){t+=(t?"&":"")+$(this).attr("name")+"="+ae.getElValue(this)}),t},ae.serializeForms=function(e,t){var a,n,r=$(e).serialize();return $(e).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(){n=$(this).data("unchecked"),r+=(r?"&":"")+$(this).attr("name")+"="+(void 0===n?"":n)}),t&&(a=ae.serializeDisabled(e),r+=(r&&a?"&":"")+a),r},ae.queryStringToJson=ae.queryStringToObject=function(e){var t={},a=e||location.search,n=(""+a).indexOf("?"),r=(""+a).indexOf("&");return a&&0<a.length&&0<=n&&(0==n||n<r)&&(a=a.substring(n+1)),Se(a.split("&"),function(e){(e=e.split("="))[0]&&ae.appendToObj(t,e[0],decodeURIComponent(e[1]||""))}),t},ae.toQueryString=ae.ObjectToQueryString=ae.objectToQueryString=ae.JsonToQueryString=ae.jsonToQueryString=function(n){return ue(n)?Ce(n).reduce(function(e,t,a){return[e,0===a?"":"&",t=encodeURIComponent(t),"=",de(n[t])?we(n[t],function(e){return encodeURIComponent(e)}).join(","):encodeURIComponent(n[t])].join("")},""):""},ae.serializeUncheckedCheckboxes=function(e,t){return $(e).serializeUncheckedCheckboxes(t)},ae.serializeFormToJSON=ae.serializeFormToObject=function(e,t,a,n){return $(e).serializeFormToJSON(t,a,n)},ae.serializeFormToSimpleJSON=ae.serializeFormToSimpleObject=function(e,t,a){return $(e).serializeFormToSimpleJSON(t,a)},ae.findSafe=ae.findInObj=ae.findInObject=ae.findIn=ae.find=be,ae.keys=Ce,ae.has=ae.hasKey=ye,ae.hasKeys=function(e,t){return B(e,t,!0)},ae.hasPrimaryKeys=function(e,t){return B(e,t)},ae.keysDottedAll=function(e){var t=V(e);return t&&!_isEmpty(t)&&(t=ae.toDottedPath(t.join(",")).split(",")),t},ae.keysDotted=V,ae.keysCamelCase=function(e){return we(V(e),function(e){var t=e.replace(/\./g," ").toProperCase().replace(/ /g,"");return t[0].toLowerCase()+t.substring(1)})},ae.keysTitleCase=function(e){return we(V(e),function(e){return e.replace(/\./g," ").toProperCase().replace(/ /g,"")})},ae.keys_=function(e){return we(V(e),function(e){return e.replace(/\./g,"_")})},ae.strZip,ae.strUnzip,ae.map=we,ae.uniq=function(a){return W(a,function(e,t){return a.indexOf(e)==t})},ae.omit=function(t,a){var n={};return S(a)&&a.length?(ue(t)&&Se(Ce(t),function(e){a.indexOf(e)<0&&(n[e]=t[e])}),n):t},ae.union=function(){for(var e,t={},a=0;a<arguments.length;a++)if(S(e=arguments[a]))for(var n=0;n<e.length;n++)t[G(e[n])]=e[n];else t[G(e)]=e;oe.log(">>union-collection[keys, obj, src]:",Ce(t),t,arguments);var r,i=[];for(r in t)t.hasOwnProperty(r)&&i.push(t[r]);return t=null,i},ae.filter=W,ae.sortBy=q,ae.zipObj=J,ae.removeOn=xe,ae.each=ae.forEach=Se,ae.every=ae.forEvery=H,ae.some=ae.forSome=K,ae.indexOf=function(e,t){var a=-1;if(S(e)&&e.length&&ue(t)){var n,r=Ce(t);if(r.length)for(var i=0;i<e.length;i++){for(var o=0;o<r.length&&(n=t[r[o]]===e[i][r[o]]);o++);if(n){a=i;break}}}return a},ae.extend=Oe,ae.merge=ke,Object.defineProperties(ne,{__now:{value:function(){return JSON.parse(JSON.stringify(this))}},__clone:{value:function(){return JSON.parse(JSON.stringify(this))}},__toObject:{value:function(a){var n={};return this.forEach(function(e,t){a?n[e]=t:n[t]=e}),n}},__unique:{value:function(){return this.filter(function(e,t,a){return a.indexOf(e)===t})}},__rotate:{value:function(e){if(0<(e=e||1))for(;e--;)this.push(this.shift());else if(e<0)for(;e++;)this.unshift(this.pop());return this}},__has:{value:function(e,t){var a;function n(e){return 0<=t.indexOf(e)}if(t=(t||"").trim()){t.indexOf("i")&&fe(e)&&(e=e.toLowerCase());for(var r=0;r<this.length;r++){var i=this[r];switch(t.indexOf("i")&&fe(i)&&(i=i.toLowerCase()),!0){case n("b"):case n("^"):a=n("~")?e.beginsWithStr(i):i.beginsWithStr(e);break;case n("e"):case n("$"):a=n("~")?e.endsWithStr(i):i.endsWithStr(e);break;case n("c"):case n("*"):a=n("~")?0<=e.indexOf(i):0<=i.indexOf(e);break;case n("<"):a=i<e;break;case n("<="):a=i<=e;break;case n(">"):a=e<i;break;case n(">="):a=e<=i;break;default:a=i==e}if(a)break}}else a=0<=this.indexOf(e);return a}},__last:{value:function(e){return $e(this,e)}}}),Object.defineProperties(d,{__now:{value:function(){return JSON.parse(JSON.stringify(this))}},__clone:{value:function(){return JSON.parse(JSON.stringify(this))}},__keys:{value:function(e){return e?V(this):Object.keys(this)}},__keysAll:{value:function(){return V(this)}},__hasKey:{value:function(e){return ae.hasKey(this,e)}},__hasKeys:{value:function(e){return B(this,e,!0)}},__hasPrimaryKeys:{value:function(e){return B(this,e)}},__valueOf:{value:function(e,t){return be(this,e,t)}},__merge:{value:function(){return ne.unshift.call(arguments,this),ke.apply(void 0,arguments)}},__stringify:{value:function(){return JSON.stringify(this)}},__toQueryString:{value:function(){return ae.toQueryString(this)}},__extract:{value:function(){return ne.unshift.call(arguments,this),ae.extract.apply(this,arguments)}}}),ae.addScriptTag=function(e,t){if(e=e.replace(/#/,""),oe.group("spaAddScriptTag"),x("#spaScriptsContainer")||(oe.info("#spaScriptsContainer NOT Found! Creating one..."),$("body").append("<div id='spaScriptsContainer' style='display:none' rel='Dynamic Scripts Container'></div>")),x("#"+e))oe.info("script ["+e+"] already found in local.");else{oe.info("script ["+e+"] NOT found. Added script tag with src ["+t+"]");var a=t?' src="'+t+'"':"",n=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("#spaScriptsContainer").append('<script id="'+e+'" type="text/javascript"'+a+n+"><\/script>")}oe.groupEnd("spaAddScriptTag")},ae.addStyle=function(e,t){e=e.replace(/#/,""),oe.group("spaAddStyle"),x("#spaStylesContainer")||(oe.info("#spaStylesContainer NOT Found! Creating one..."),$("body").append("<div id='spaStylesContainer' style='display:none' rel='Dynamic Styles Container'></div>")),x("#"+e)?oe.info("style ["+e+"] already found in local."):(oe.info("style ["+e+"] NOT found. Added link tag with href ["+t+"]"),$("#spaStylesContainer").append("<link id='"+e+"' rel='stylesheet' type='text/css' href='"+t+"'/>")),oe.groupEnd("spaAddStyle")},ae.loadScript=function(a,n,e,t,r){return a=a.replace(/#/,""),e=e||!1,t=t||[],oe.group("spaScriptsLoad"),ge(n)?oe.error("script path ["+n+"] for ["+a+"] NOT defined."):e?ae.addScriptTag(a,n):t.push(Y(n,r).done(function(e,t){oe.info("Loaded script ["+a+"] from ["+n+"]. STATUS: "+t)})),oe.groupEnd("spaScriptsLoad"),t},ae.getComponentsFullPath=function(e){return we(e=ae.strToArray(le(e)),function(e){return ae.defaults.components.rootPath+(ae.defaults.components.inFolder||/[^a-z0-9]/gi.test(e)?e:"")+"/"+function(e){if(/[^a-z0-9]/gi.test(e)){var t=e.split(/[^a-z0-9]/gi);return t[t.length-1]}return e}(e)+ae.defaults.components.scriptExt})},ae.loadComponents=function(e,t,a){var n=W(ae.strToArray(le(e)),function(e){return!ae.components.hasOwnProperty(e.replace(/[^a-z0-9]/gi,"_"))}),r=ae.getComponentsFullPath(n);ae.loadScripts(r,t,a)},ae.loadScripts=function(e,t,a){if(!ge(e=ae.strToArray(le(e)))){var n=[];Se(e,function(a){n.push(Y(a).done(function(e,t){oe.info("Loaded script from ["+a+"]. STATUS: "+t)}).fail(function(){oe.info("Failed Loading script from ["+a+"].")}))}),ma.apply($,n).then(function(){ae.renderUtils.runCallbackFn(t)}).fail(function(){ae.renderUtils.runCallbackFn(a)})}},ae.loadScriptsSync=function(e,t,a){if(ge(e=ae.strToArray(le(e))))ae.renderUtils.runCallbackFn(t);else{var n=!0,r=e.shift();r?(/^~/.test(r)&&(n=!1,r=r.substr(1)),oe.info("Load script from   ["+r+"], cache:",n),Y(r,{cache:n}).done(function(){oe.info("Loaded script from ["+r+"]"),ae.loadScriptsSync(e,t,a)}).fail(function(){console.error("Failed Loading script from ["+r+"].",arguments),ae.renderUtils.runCallbackFn(a)})):ae.loadScriptsSync(e,t,a)}},ae.loadStyle=function(a,n,e,t){if(a=a.replace(/#/,""),e=!!e,t=t||[],oe.group("spaStylesLoad"),ge(n))oe.error("style path ["+n+"] for ["+a+"] NOT defined.");else{var r=!e;e&&($("#"+a,"head").length?oe.info("Style('"+n+"') already loaded."):r=!0),r&&t.push((i=a,o=n,s={cache:ae.defaults.components.offline},l=$("#"+i,"head"),(s=s||{}).hasOwnProperty("cache")||(s.cache=!0),l.length||(s.cache=ae.defaults.components.offline),s=Oe(s,{dataType:"text",url:o,success:function(e){l.remove();var t=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("head").append('<style id="'+i+'" type="text/css"'+t+">"+e+"</style>")}}),oe.info("Loading style('"+o+"') ... "),ba(s).done(function(e,t){oe.info("Loaded style ["+a+"] from ["+n+"]. STATUS: "+t)})))}var i,o,s,l;return oe.groupEnd("spaStylesLoad"),t},ae.addTemplateScript=function(e,t,a){e=e.replace(/#/,""),a=a||"x-template",x("#spaViewTemplateContainer")||(oe.info("#spaViewTemplateContainer NOT Found! Creating one..."),$("body").append("<div id='spaViewTemplateContainer' style='display:none' rel='Template Container'></div>")),oe.info("Adding <script id='"+e+"' type='text/"+a+"'>");var n="_BlockedScript_";t=t.replace(/<(\s)*script/gi,"<"+n+' src-ref="'+e+'"').replace(/<(\s)*(\/)(\s)*script/gi,"</"+n).replace(/<(\s)*link/gi,"<_LINKTAGINTEMPLATE_").replace(/<(\s)*(\/)(\s)*link/gi,"</_LINKTAGINTEMPLATE_");var r=ae.defaults.csp.nonce?' nonce="'+ae.defaults.csp.nonce+'"':"";$("#spaViewTemplateContainer").append('<script id="'+e+'" type="text/'+a+'"'+r+">"+t+"<\/script>")},ae.updateTemplateScript=function(e,t,a){e=e.replace(/#/,"");var n=$("#spaViewTemplateContainer").find("#"+e);n.length&&n.remove(),ae.addTemplateScript(e,t,a)},ae.loadTemplate=function(n,r,i,e,t,a,o){if(n=n.replace(/#/g,""),r="."===(r=r.ifBlankStr("inline").trimStr())||"#"===r?"inline":r,i=i||"x-template",e=e||"#DummyInlineTemplateContainer",t=t||[],o=o||{},oe.group("spaTemplateAjaxQue"),x("#"+n)){var s=$("#"+n);if(a)oe.info("Reload Template["+n+"] of ["+i+"]"),s.remove(),t=ae.loadTemplate(n,r,i,e,t,a,o);else if(ge(s.html())){oe.warn("Template["+n+"] of ["+i+"] script found EMPTY!");var l=""+s.attr("path");ge(l)||(i=(s.attr("type")||"").ifBlankStr(i).toLowerCase().replace(/text\//gi,""),oe.info("prepare/remove to re-load Template["+n+"]  of ["+i+"] from external path: ["+l+"]"),s.remove(),t=ae.loadTemplate(n,l,i,e,t,a,o))}else oe.info("Template["+n+"]  of ["+i+"] already found in local.")}else if(oe.info("Template["+n+"] of ["+i+"] NOT found. Source ["+r+"]"),r&&"undefined"==r)ae.addTemplateScript(n,"",i),oe.info("Loaded Empty Template["+n+"] of ["+i+"]");else if(r.equalsIgnoreCase("inline")||r.beginsWithStr("#")){var c=r.equalsIgnoreCase("inline")?e:r,d=$(c),p=d.html();ge(p)?oe.error("Template["+n+"] of ["+i+"] NOT defined inline in ["+c+"]."):(ae.addTemplateScript(n,p,i),r.equalsIgnoreCase("inline")&&d.html(""))}else if(r.equalsIgnoreCase("none"))oe.info("Template["+n+"] of ["+i+"] defined as NONE. Ignoring template.");else if(r.equalsIgnoreCase("script"))oe.error("Template["+n+"] of ["+i+"] NOT defined in <script>.");else{var u=String(o.method||"get").toLowerCase();o.params&&(r=ae.api.url(r,o.params)),oe.info(">>>>>>>>>> Making New Template Request");var f=ba({url:r,method:u,headers:o.headers,data:o.payload,cache:ae.defaults.components.offline,dataType:"html",onTmplError:o.onError,success:function(e){ae.addTemplateScript(n,e,i),oe.info("Loaded Template["+n+"] of ["+i+"] from ["+r+"]")},error:function(e,t,a){this.onTmplError&&pe(this.onTmplError)&&this.onTmplError.call(this,e,t,a),oe.error("Failed Loading Template["+n+"] of ["+i+"] from ["+r+"]. ["+t+":"+a+"]")}});t.push(f)}return oe.groupEnd("spaTemplateAjaxQue"),t},ae.urlParams=function(e){e=(e=e||window.location.search||"").beginsWithStr("\\?")||e.indexOf("//")<7?e.substr(e.indexOf("?")+1):e;var n={};return e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,t,a){(n[t]=n[t]||[]).push(decodeURIComponent(a))}),Se(n,function(e,t){n[t]=de(e)&&1==e.length?e[0]:e}),n},ae.urlParam=function(e,t){return ae.urlParams(t)[e]};var Q="";function ee(e,t){return(e||"").trimRightStr("/")+"/"+(t||"").trimLeftStr("/")}ae.getLocHash=function(e){var t=(Q||window.location.hash).replace("#","");return t||he(e)||"#"==e||(t=window.location.pathname.replace(/(\/)*(index|default)\.([a-z])*/i,"").replace(e.replace(/\s*/g,"").trimRightStr("/"),"")),t},ae.urlHash=function(e,t){var a=ae.getLocHash(t);if(e||y(e)){var n=(a=a.beginsWithStr("/")?a.substring(a.indexOf("/")+"/".length):a).length?a.split("/"):[];y(e)?a=e<0?n[n.length-1]:n&&n.length>e?n[e]:"":de(e)?a=0===e.length?n:J(e,n):fe(e)&&"?"==e&&(a=a.containsStr("\\?")?ae.getOnSplit(a,"?",1):"")}return a},ae.urlHashFull=function(e){return ee(e=e||"#",ae.urlHash("",e))},ae.hashParam=function(e){var t=""+ae.urlHash("?");return void 0===e||ge(t)||(t=ae.urlParam(""+e,t)),t};var te,_e={};function Ee(e){e=Oe({language:"",name:"Language",path:"language/",ext:".txt",cache:!0,async:!0,callback:null},e),_e={};var t,a,n,r=((!(t=e.language)||t.length<2)&&(t=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"en"),3<(t=t.toLowerCase().replace(/-/,"_")).length&&(t=t.substring(0,3)+t.substring(3).toUpperCase()),t),i=e.path+e.name,o=e.ext||".properties",s=i+o;5<=r.length?s=i+"_"+r.substring(0,5)+o:2<=r.length&&(s=i+"_"+r.substring(0,2)+o),ba({url:a=s,async:(n=e).async,cache:n.cache,dataType:"text",success:function(e){e&&(function(e){for(var t=e.split(/\n/),a=/(\\u.{4})/gi,n=0;n<t.length;n++)if(t[n]=t[n].replace(/^\s\s*/,"").replace(/\s\s*$/,""),0<t[n].length&&"#"!=t[n].match("^#")){var r=t[n].split("=");if(0<r.length){for(var i=decodeURI(r[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),o=1==r.length?"":r[1];"\\"==o.match(/\\$/);)o=o.substring(0,o.length-1),o+=t[++n].replace(/\s\s*$/,"");for(var s=2;s<r.length;s++)o+="="+r[s];var l=(o=o.replace(/^\s\s*/,"").replace(/\s\s*$/,"")).match(a);if(l)for(var c=0;c<l.length;c++)o=o.replace(l[c],Pe(l[c]));_e[i]=o}}te=!0}(e),n.callback&&n.callback())},error:function(){console.log("Failed to download language file: "+a),n.callback&&n.callback()}})}function Pe(e){var t=[],a=parseInt(e.substr(2),16);0<=a&&a<Math.pow(2,16)&&t.push(a);for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return n}function Re(e,t){var a=ae.i18n.value(e);if(t&&A(t,"object|array")){var n="",r="";Se(Ce(t),function(e){n=""+t[e],r=n.trim(),n&&(r.beginsWithStrIgnoreCase("i18n:")||r.beginsWithStrIgnoreCase("@"))&&(n=ae.i18n.value(r)),a=a.replace(new RegExp("{\\s*("+e.trim()+")\\s*}","g"),n)})}var i,o=[e];return function e(t){var a=ae.extractStrBetweenEx(t,"{","}",!0);return ge(a)?t:(Se(a,function(e){(i=i||0<=o.indexOf(e))||(o.push(e),t=t.replace(new RegExp("{\\s*("+e.trim()+")\\s*}","g"),ae.i18n.value(e)))}),i?(console.error("i18nKey circular issue found:",o.join(" > ")),t):e(t))}(a)}function Ae(e,t,a){if(e){if(ae.i18n.onLangChange){var n=ae.i18n.onLangChange,r=pe(n)?n.call(void 0,e,a):e;e=fe(r)?r:e}$("html").attr("lang",e.replace("_","-")),ae.i18n.setLanguage(e,ke({},ae.defaults.lang,be(window,"app.conf.lang",{}),be(window,"app.lang",{}),t||{}))}}function Le(e,t){var a=e;if(de(e))a=e.sort(),t&&(a=a.reverse());else if(fe(e)){var n;switch(!0){case 0<=e.indexOf(","):n=",";break;case 0<=e.indexOf(" "):n=" "}n&&(a=e.split(n).sort().join(n),t&&(a=a.reverse()))}return a}function Ie(e){return(""+e).toLowerCase()}function Ue(e){return(""+e).toUpperCase()}function Ne(e){return(""+e).toTitleCase()}function je(e){var t="html";switch(e.tagName.toUpperCase()){case"INPUT":switch(e.type.toLowerCase()){case"checkbox":case"radio":t="check";break;default:t="value"}break;case"TEXTAREA":t="value";break;case"SELECT":t="options"}return t}function De(e){return e.replace(/(\/)*&gt;/g,">").replace(/ _XHBTINSPA_--(>|&gt;)/gi,"").replace(/(>|&gt;)(<|&lt;)!--_XHBTINSPA_/gi,"").replace(/<IMG-X-TMP /gi,"<img ").replace(/<IFRAME-X-TMP /gi,"<iframe ").replace(/<\/IFRAME-X-TMP/gi,"</iframe")}ae.i18n=Re,ae.i18n.loaded=!1,ae.i18n.settings={name:"Language",path:"language/",ext:".txt"},ae.i18n.browserLang=function(){return navigator&&(navigator.language||navigator.userLanguage)||"en_US"},ae.i18n.setLanguage=function(e,t){e=(e||ae.i18n.browserLang()).replace(/-/g,"_"),t=Oe(ae.i18n.settings,t),Ee({language:e,name:t.name,path:t.path,ext:t.ext,cache:t.cache,async:t.async,callback:function(){x("#i18nSpaRunTime")||$("body").append('<div id="i18nSpaRunTime" style="display:none"></div>'),te=void 0===te?!me(__i18nStore):te,ae.i18n.loaded=ae.i18n.loaded||te,1<e.length&&!te&&(oe.warn("Error Loading Language File ["+e+"]. Loading default."),ae.i18n.setLanguage("_",t)),ae.i18n.apply(),t.callback&&t.callback(te)}})},ae.i18n.setLang=function(e,t){Ae(e,t)},ae.i18n.value=function(e){if(ae.i18n.loaded||window.Liferay){return(e=(""+e).replace(/i18n:/i,"").trim()).beginsWithStrIgnoreCase("@")&&(e=e.substr(1).trim(),e=be(window,e,e)),function(e){var t=e;try{(t=(""+(!ae.i18n.loaded&&window.Liferay?Liferay.Language.get(e):function(e){var t,a,n=_e[e];if(null==n)return"["+e+"]";if("string"==typeof n){for(t=0;-1!=(t=n.indexOf("\\",t));)n="t"==n.charAt(t+1)?n.substring(0,t)+"\t"+n.substring(2+t++):"r"==n.charAt(t+1)?n.substring(0,t)+"\r"+n.substring(2+t++):"n"==n.charAt(t+1)?n.substring(0,t)+"\n"+n.substring(2+t++):"f"==n.charAt(t+1)?n.substring(0,t)+"\f"+n.substring(2+t++):"\\"==n.charAt(t+1)?n.substring(0,t)+"\\"+n.substring(2+t++):n.substring(0,t)+n.substring(t+1);for(t=0;t<n.length;)if("'"==n.charAt(t))if(t==n.length-1)n=n.substring(0,t);else if("'"==n.charAt(t+1))n=n.substring(0,t)+n.substring(++t);else{for(a=t+2;-1!=(a=n.indexOf("'",a));){if(a==n.length-1||"'"!=n.charAt(a+1)){n=n.substring(0,t)+n.substring(t+1,a)+n.substring(a+1),t=a-1;break}n=n.substring(0,a)+n.substring(++a)}-1==a&&(n=n.substring(0,t)+n.substring(t+1))}else t++}if(0==n.length)return"";if(1==n.length&&"string"==typeof n[0])return n[0];var r="";for(t=0;t<n.length;t++)"string"==typeof n[t]?r+=n[t]:r+="{"+n[t]+"}";return r}(e))).trim()).beginsWithStr("\\[")&&t.endsWithStr("]")&&(t=function(e){return e.substring(1,e.length-1)}(t))}catch(e){console.warn("i18n lookup error:",e)}return t}(e)}else oe.info("jQ-xsr.i18n module not found. Skipping i18n value lookup.")},ae.i18n.text=Re,ae.i18n.update=function(e,t,a){t=t||"";var n,r,i=$(e),o=i.attr("data-i18n")||"",s="";if(ge(o)||0==t.indexOf(":")||0==t.indexOf("=")||o.indexOf(":")<=0&&t.indexOf(":")<=0)s=t.trimLeftStr(":").trimLeftStr("=");else{n=0<o.indexOf(":")?le(o||{}):{html:o.trimLeftStr(":").replace(/'/g,"")},r=0<t.indexOf(":")?le(t||{}):{html:t.trimLeftStr(":").replace(/'/g,"")},Se(Ce(n),function(t){Se(t.split("_"),function(e){e&&(n[e]=n[t])})}),Se(Ce(r),function(t){Se(t.split("_"),function(e){e&&(r[e]=r[t])})});var l=ke({},n,r);Se(Ce(l),function(e){e.indexOf("_")<=0&&(s+=e+":'"+l[e]+"',")}),s=s.trimRightStr(",")}return i.attr("data-i18n",s).data("i18n",s),(a||he(a))&&ae.i18n.apply(e),i},ae.i18n.apply=ae.i18n.render=function(e,t){if(ae.i18n.loaded||window.Liferay){t=t||"";var a=(e=e||"html").beginsWithStr("<");a&&($("#i18nSpaRunTime").html(e),e="#i18nSpaRunTime");var n=$(e).find(t+"[data-i18n]");n.length||(n=$(e).filter(t+"[data-i18n]")),n.each(function(e,t){var n=$(t),a=n.data("i18n")||"";a&&!a.containsStr(":")&&(a="html:'"+a+"'");var r=le(a||"{}"),i=r.data||r.i18ndata;i?(delete r.data,delete r.i18ndata):i=le(n.data("i18nData")||"{}"),r&&!me(r)&&Se(Ce(r),function(e){var t=r[e],a=ae.i18n.text(t,i);Se(e.split("_"),function(e){switch(e.toLowerCase()){case"html":n.html(ae.sanitizeXSS(a));break;case"text":n.text(a);break;default:n.attr(e,a)}})})})}if(a)return $("#i18nSpaRunTime").html()},ae.pipes={trimLeft:function(e){return(""+e).trimLeftStr()},trimRight:function(e){return(""+e).trimRightStr()},normalize:function(e){return(""+e).normalizeStr()},lower:Ie,lowerCase:Ie,toLower:Ie,upper:Ue,upperCase:Ue,toUpper:Ue,title:Ne,titleCase:Ne,toTitleCase:Ne,capitalize:function(e){return(""+e).capitalize()},unCapitalize:function(e){return(""+e).unCapitalize()},not:function(e){return!e},sort:function(e){return Le(e)},sortAsc:function(e){return Le(e)},sortDesc:function(e){return Le(e,!0)},reverse:function(e){var t=e;if(de(e))t=e.reverse();else if(fe(e)){var a;switch(!0){case 0<=e.indexOf(","):a=",";break;case 0<=e.indexOf(" "):a=" "}a&&(t=e.split(a).reverse().join(a))}return t}},ae.dataBind=ae.bindData=function(e,t,a,n){a=a||"";var r,i,o=fe(e=e||"body")&&/\s*</.test(e);if(o){i="blocked-script-in-template";var s=e.replace(/<\s*script/gi,"<"+i).replace(/<\s*(\/)\s*script/gi,"</"+i).replace(/<\s*textarea/gi,"<spa-vdom-textarea").replace(/<\s*(\/)\s*textarea/gi,"</spa-vdom-textarea");r=$('<div style="display:none">'+s+"</div>")}else r=$(e);if(ge(t))return r;var l="";"$"==a[0]&&(l=a.substr(1).trim(),a="");var m,c,g,d,v,p,b,y,u,f,C=(l=l||r.attr("data-rendered-component"))||"_unknown_",S=ke({__computed__:{}},t),h=r.find(a+"[data-bind]");function w(e){return"#"==(e=(e||"").trim())[0]?e:be(S,e,e)}function x(e,t){return["_runTimeTemplate",e,l,t.replace(/[^a-z0-9]/gi,"_"),ve()].join("_")}function O(e,t){return ae.compiledTemplates4DataBind.hasOwnProperty(C)||(ae.compiledTemplates4DataBind[C]={}),ae.compiledTemplates4DataBind[C][e]=Handlebars.compile(De(t))}function k(e,t,a,n){var r=t,i=(e=e.trim()).trim(),o=i.indexOf("("),s=[];if(0<o&&(i=i.substr(0,o)),"."==i[0]){if(i=i.substr(1),!ae.pipes.hasOwnProperty(i)){s=(s=e.substring(o+1,e.indexOf(")")).trim())?s.split(",").map(function(e){return R(e)}):[];try{r=t[i].apply(t,s)}catch(e){console.warn("Error calling format function ."+i+"() on:",t,n,e)}return r}i="xsr.pipes."+i}return ae.renderUtils.runCallbackFn(i,["(...)",t,a,S,n],n)}if(h.length||(h=r.filter(a+"[data-bind]")),h.length&&!o&&l&&(h=h.filter(function(){return $(this).closest("[data-rendered-component]").attr("data-rendered-component")==l})),Se(h,function(h){m=$(h),(c=m.data("bind")||"")&&!c.containsStr(":")&&(c=je(h)+":'"+c+"'"),g=le(c||"{}"),u=ae.renderUtils.getFn(m.attr("data-bind-callback")||""),g&&!me(g)&&Se(Ce(g),function(e){d=(g[e]+"|").split("|"),v=d.shift().trim(),f="!"==v[0],A(b=f?!w(v=v.substr(1).trim()):w(v),"undefined|null")&&(b="");for(var t=0;t<d.length;t++)(p=d[t].trim())&&(b="!"==p[0]?"!"==p?!b:!k(p=p.substr(1).trim(),b,v,h):k(p,b,v,h));Se(e.split("_"),function(e){var t="";if(e=e.trim(),!he(b))switch(e.toLowerCase()){case"html":m.html(ae.sanitizeXSS(b));break;case"text":m.text(b);break;case"value":ie(h,"value",b);break;case"options":var a=g.startAt||ie(h,"data-options-from")||0,n=g.sortOn||ie(h,"data-sort-on")||0,r=g.sortBy||ie(h,"data-sort-by")||"";g.valueKey&&ie(h,"data-value-key",g.valueKey),g.textKey&&ie(h,"data-text-key",g.textKey),ae.optionsList(h,b,a,n,r),delete g.options,delete g.sortOn,delete g.sortBy,delete g.startAt,delete g.valueKey,delete g.textKey;break;case"sorton":case"sortby":case"startat":case"valuekey":case"textkey":break;case"selectvalue":case"selectedvalue":if(g.hasOwnProperty("options"))console.warn("Incorrect Order. Move options: first, finally select...",h);else if(/select/i.test(h.tagName))if(h.hasAttribute("multiple")){if(!de(b)){var i=ie(h,"data-split-by")||",";b=(""+b).split(i).map(function(e){return e.trim()})}N(h,"value",b)}else ae.selectOptionForValue(h,b);break;case"selecttext":case"selectedtext":if(g.hasOwnProperty("options"))console.warn("Incorrect Order. Move options: first, finally select...",h);else if(/select/i.test(h.tagName))if(h.hasAttribute("multiple")){if(!de(b)){i=ie(h,"data-split-by")||",";b=(""+b).split(i).map(function(e){return e.trim()})}N(h,"text",b)}else ae.selectOptionForText(h,b);break;case"selectindex":case"selectedindex":if(g.hasOwnProperty("options"))console.warn("Incorrect Order. Move options: first, finally select...",h);else if(/select/i.test(h.tagName))if(h.hasAttribute("multiple")){if(!de(b)){i=ie(h,"data-split-by")||",";b=(""+b).split(i).map(function(e){return e.trim()})}b.forEach(function(e){L(h.options[+e])&&(h.options[+e].selected=!0,ie(h.options[+e],"selected",""))})}else L(h.options[+b])&&(h.options[+b].selected=!0,ie(h.options[+b],"selected",""));break;case"$":case"check":if(/checkbox|radio/i.test(h.type)){switch(ce(b)){case"boolean":h.checked=b;break;default:h.checked=h.value.equalsIgnoreCase(""+b)}h.checked?ie(h,"checked",""):h.removeAttribute("checked")}break;case"if":t=v.replace(/[^a-z0-9]/gi,"_"),S.__computed__[t]=b;var o,s=m.attr("data-bind-template");if(s)o=ae.compiledTemplates4DataBind[C][s];else{var l="{{#if __computed__."+t+" }}"+m.html().trim()+"{{/if}}";o=O(s=x("if",v),l),m.attr("data-bind-template",s)}m.html(o(S));break;case"repeat":t=v.replace(/[^a-z0-9]/gi,"_"),S.__computed__[t]=b;var c,d=m.attr("data-bind-template");if(d)c=ae.compiledTemplates4DataBind[C][d];else{var p=(g.repeatAs||g.as||"").replace(/[,|:]/g," ").normalizeStr(),u="{{#each __computed__."+t+(p?" as |"+p+"|":"")+" }}"+m.html().trim()+"{{/each}}";c=O(d=x("repeat",v),u),m.attr("data-bind-template",d)}m.html(c(S));break;case"as":case"repeatas":break;default:switch(!0){case/^\./.test(e):var f=e.replace(/[\.\,]/g," ").normalizeStr();m[b?"addClass":"removeClass"](f);break;default:m.attr(e,b),e.beginsWithStr("data-")&&(y=ae.dotToCamelCase(e.getRightStr("-").replace(/-/g,".")))&&m.data(y,b)}}}),u&&u.call(h,h)})}),!n&&!o&&r.is("[data-rendered-component]")){var T=r.attr("data-rendered-component");if(!ge(T)){var _="app."+T+".bindCallback";ae.renderUtils.runCallbackFn(_,S,app[T])}}if(!o){var E,P=r.find("[data-rendered-component]").filter(function(){return this.hasAttribute("data-x-component-$data")||this.hasAttribute("data-x-$data")||this.hasAttribute("data-spa-component-$data")||this.hasAttribute("data-spa-$data")||this.hasAttribute("spa-$data")});if(P.length)P.each(function(){E=function(e,t,a){var n,r,i,o,s,l="app."+(t=t.replace(/[^a-z0-9]/gi,"_"))+".";ue(a)&&(ae.tempBind$data.hasOwnProperty(t)||(ae.tempBind$data[t]={}),ae.tempBind$data[t].$data=ke({},be(app,t+".$data",{}),a),l="xsr.tempBind$data."+t+".");n=$(e),r=n.data(),i=(n.attr("data-x-component")||n.attr("data-spa-component")||"").split("|"),(o=(i[1]||"").trim())&&(/\:\s*\$data/.test(o)&&(o=o.replace(/\:\s*\$data/g,":"+l+"$data")),o=le(o));var c=n.attr("data-x-component-options")||n.attr("data-x-$options")||n.attr("data-spa-component-options")||n.attr("data-spa-$options")||n.attr("spa-$options")||"{}";if((s=ke({},o,r,le(c))).hasOwnProperty("data")&&fe(s.data)){var d=s.data.trim();/^\$data/.test(d)&&(d=l+d),s.data=ke({},be(window,d,{}))}var p=(n.attr("data-x-component-$data")||n.attr("data-x-$data")||n.attr("data-spa-component-$data")||n.attr("data-spa-$data")||n.attr("spa-$data")||"").trim();p&&(/\:\s*\$data/.test(p)&&(p=p.replace(/\:\s*\$data/g,":"+l+"$data")),ge(s.data)?s.data=le(p):ke(s.data,le(p)));if(!ge(s.data)&&s.data.hasOwnProperty("$data")){var u=ke({},s.data.$data);delete s.data.$data,ke(s.data,u)}return s.hasOwnProperty("data")?s.data:{}}(this,l,t),ae.bindData(this,E)})}return S=null,o?r.html().replace(new RegExp(i,"g"),"script").replace(/spa-vdom-textarea/g,"textarea"):r},ae.bindTemplateData=function(e,t){var a=e;if(/^\s*#[a-z]+/i.test(e)&&(a=$(e).html()),ge(t))return a;if(/ data-bind\s*=/i.test(a)&&(a=ae.bindData(e,t)),/{{(.+)}}/.test(a))if("undefined"!=typeof Handlebars&&Handlebars)try{a=Handlebars.compile(a)(t)}catch(e){console.log("Error Handlebars compile/bind.",e)}else console.warn("Handlebars Template Library not found!");return a},ae.togglePassword=function(e){if(!$(e).next(".icon.eye").length){var t=$('<i class="icon eye"></i>');t.on("click",function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=$(this).prevAll(".toggle-password"),a="text"==t.attr("type")?"password":"text";t.attr("type",a).toggleClass("text")}),$(t).insertAfter(e)}},ae.initTogglePassword=function(e){$(e||"body").find(".toggle-password").each(function(e,t){oe.info("Initializing toggle password",t),ae.togglePassword(t)})},ae.isElValueChanged=function(e){var a,t,n=$(e);if(n.length)if("checkbox"==(t=n[0]).type)a=t.checked!=t.defaultChecked;else if("radio"==t.type)$(t).closest("form").find(':radio[name="'+t.name+'"]').each(function(e,t){a=a||t.checked!=t.defaultChecked});else if(0<="INPUT,TEXTAREA".indexOf(t.tagName))a=t.value!=t.defaultValue;else if("SELECT"==t.tagName){var r,i,o,s=0;for(r=0,i=t.options.length;r<i;r++)o=t.options[r],a=a||o.selected!=o.defaultSelected,o.defaultSelected&&(s=r);a&&!t.multiple&&(a=s!=t.selectedIndex)}return a},ae.resetElDefaultValue=function(e){var t,a=$(e);if(a.length)if(t=a[0],0<",checkbox,radio".indexOf(t.type))t.defaultChecked=t.checked;else if(0<",INPUT,TEXTAREA".indexOf(t.tagName))t.defaultValue=t.value;else if("SELECT"==t.tagName){var n,r,i;for(n=0,r=t.options.length;n<r;n++)(i=t.options[n]).defaultSelected=i.selected}},ae.updateTrackFormCtrls=function(e){if(e){var a,n,r,i,t=$(e),o=t.find(".tracking-change.changed").length,s=ae.validateForm("#"+t.attr("id")),l=!(ge(s)||1==s[0].errcode)||t.find(".validation-error,.validation-pending").length,c=0<o&&!l,d=!l,p=t.find(".ctrl-on-change,.ctrl-on-validate");t.attr("data-changed",o).data("changed",o),p.each(function(e,t){a=$(t),n=a.hasClass("ctrl-on-change")?c:d,ge(r=a.attr("onBeforeChange"))||(0<r.indexOf("(")&&(r=r.getLeftStr("(")),i=be(window,r.trim(),void 0),n=pe(i)?!!i.call(t,n):n),a.is(":disabled")==n&&(a.prop("disabled",!n).addClass(n?"":"disabled").removeClass(n?"disabled":""),a.trigger("change"))})}},ae.trackFormElChange=function(e,t){function o(e){if("change"==e.type||e.key&&(1==e.key.length||0<="BackspaceDelete".indexOf(e.key))){var t,a=!1,n=$(this).closest("form"),r=n.find(".tracking-change.changed").length;if("checkbox"==this.type)a=this.checked!=this.defaultChecked;else if("radio"==this.type)n.find(':radio[name="'+this.name+'"]').each(function(e,t){t.checked==t.defaultChecked&&$(t).removeClass("changed"),a=a||t.checked!=t.defaultChecked});else if(0<="INPUT,TEXTAREA".indexOf(this.tagName))a=this.value!=this.defaultValue,t="change"!=e.type;else if("SELECT"==this.tagName){var i,o,s,l=0;for(i=0,o=this.options.length;i<o;i++)s=this.options[i],a=a||s.selected!=s.defaultSelected,s.defaultSelected&&(l=i);a&&!this.multiple&&(a=l!=this.selectedIndex)}$(this)[a?"addClass":"removeClass"]("changed"),ae.updateTrackFormCtrls(n),null!=r&&t&&n.trigger("change")}}$(t||"body").find(e).each(function(e,t){"FORM"==t.tagName.toUpperCase()?ae.trackFormElChange($(t).find(".track-change").length?".track-change":"input,textarea,select",t):function(e){var t="change",a=$(e);if(0<",checkbox,radio".indexOf(e.type))e.defaultChecked=e.checked;else if(0<",INPUT,TEXTAREA".indexOf(e.tagName))e.defaultValue=e.value,t="keyup change";else{if("SELECT"!=e.tagName)return;var n,r,i;for(n=0,r=e.options.length;n<r;n++)(i=e.options[n]).defaultSelected=i.selected}a.removeClass("track-change changed"),ae.updateTrackFormCtrls(a.closest("form")),e.className.indexOf("tracking-change")<0&&a.addClass("tracking-change").on(t,o)}(t)})},ae.initTrackFormElChanges=function(e){$(e||"body").find("form.track-changes,form:has(.ctrl-on-change,.track-change)").each(function(e,t){oe.info("Initializing Form Elements Track: Form ["+(t.id||t.name)+"]"),ae.trackFormElChange(t)})},ae.getModifiedElement=function(e){var t,a=void 0;return H($(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])"),function(e){return t||((e.tagName.match(/^(select|textarea)$/i)&&e.value!=e.defaultValue||e.tagName.match(/^input$/i)&&(e.type.match(/^(checkbox|radio)$/i)&&e.checked!=e.defaultChecked||e.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&e.value!=e.defaultValue))&&(t=!0),t&&(a=e)),!t}),a},ae.getModifiedElements=function(e){var a,n=[];return $(e||"form:not([data-ignore-change]) :input:not(:disabled,:button,[data-ignore-change])").each(function(e,t){a=!1,(t.tagName.match(/^(select|textarea)$/i)&&t.value!=t.defaultValue||t.tagName.match(/^input$/i)&&(t.type.match(/^(checkbox|radio)$/i)&&t.checked!=t.defaultChecked||t.type.match(/^(text|password|hidden|color|email|month|number|tel|time|url|range|date|datetime|datetime-local)$/i)&&t.value!=t.defaultValue))&&(a=!0),a&&n.push(t)}),n},ae.initTrackElValueChanges=ae.resetElementsDefaultValue=function(e){$(e||"form :input:not(:disabled)").each(function(e,t){t.defaultValue=t.value,t.tagName.match(/^input$/i)&&t.type.match(/^(checkbox|radio)$/i)&&t.checked!=t.defaultChecked&&(t.defaultChecked=t.checked)})},ae.trash={container:[],push:function(e){this.container.push(e)},empty:function(){this.container=[]},pick:function(e){return e?this.container[e]:this.container}},ae.fillData=function(c,d,e){var t="object"==typeof c;d&&"object"==typeof d&&(e=d,d=null),d=d||"body";var p={dataParams:{},method:"GET",async:!0,dataCache:!1,keyFormat:"aBc",selectPattern:"[name='?']",formatterCommon:null,formatterOnKeys:null,resetElDefault:!0,resetElDefaultInContext:!0,keysMap:{}};Oe(p,e),t||ba({url:c,method:(""+(p.method||"GET")).toUpperCase(),data:p.dataParams,cache:p.dataCache,async:p.async,dataType:"text",success:function(e){c=le(""+e),t="object"==typeof c,function(){var l=p.keyFormat;l=null!=(l=null!=l.match(/^[a-z]/)?"aBc":l).match(/^[A-Z]/)?"AbC":l;var e=V(c);oe.group("fillData"),oe.info(e),Se(e,function(e){oe.group(">>"+e);var t=""+(e.replace(/[\[\]]/g,"_")||""),a=e.replace(/\[[0-9]+\]/g,""),n=/\[[0-9]+\]/.test(e);switch(l){case"_":t=ae.dotToX(t,"_"),a=ae.dotToX(a,"_");break;case"AbC":t=ae.dotToTitleCase(t),a=ae.dotToTitleCase(a);break;default:t=ae.dotToCamelCase(t),a=ae.dotToCamelCase(a)}var r={patternKey:t+(n?" || "+a:""),formatterKey:a,isArrayChild:n};ae.trash.push(r),oe.info(r),ae.trash.empty();var i=p.selectPattern.replace(/\?/g,t);(p.keysMap[t]||p.keysMap[a])&&(p.keysMap[t]=p.keysMap[t]||{},p.keysMap[a]=p.keysMap[a]||{},p.keysMap[t].pattern=p.keysMap[t].pattern||p.keysMap[a].pattern,p.keysMap[t].pattern&&(i=p.keysMap[t].pattern.replace(/\?/g,t)),p.keysMap[a].formatter&&(p.formatterOnKeys=p.formatterOnKeys||{},p.formatterOnKeys[a]=p.keysMap[a].formatter));var o=$(d).find(i).length;oe.info(">> "+i+" found: "+o);var s=null;0<o&&(s=be(c,e),!p.formatterOnKeys&&p.formatterCommon&&(s=p.formatterCommon(s,e,c)),p.formatterOnKeys&&(p.formatterOnKeys[a]?s=p.formatterOnKeys[a](s,e,c):p.formatterCommon&&(s=p.formatterCommon(s,e,c))),oe.info({value:s})),$(d).find(i).each(function(e,t){switch(oe.info(t),t.tagName.toUpperCase()){case"INPUT":switch(t.type.toLowerCase()){case"text":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"month":case"number":case"search":case"tel":case"time":case"url":case"range":case"button":case"submit":case"reset":$(t).val(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;case"checkbox":case"radio":t.checked=t.value.equalsIgnoreCase(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultChecked=t.checked)}break;case"SELECT":ae.selectOptionForValue(t,s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;case"TEXTAREA":$(t).val(s),!p.resetElDefaultInContext&&p.resetElDefault&&(t.defaultValue=t.value);break;default:$(t).html(ae.sanitizeXSS(s))}}),oe.groupEnd(">>"+e)}),oe.groupEnd("fillData"),p.resetElDefaultInContext&&ae.resetElementsDefaultValue(d+" :input")}()},error:function(e,t,a){oe.error("Failed loading data from ["+c+"]. ["+t+":"+a+"]"),pe(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a)}})},ae.toRenderDataStructure=function(t,e,a){function n(t,a){return a&&Ce(a).length&&Se(Ce(a),function(e){t=t.replace(new RegExp("{"+e+"}","gi"),a[e])}),t}var r={},i={},o={},s={};switch(e&&(s=fe(e)?ae.queryStringToJson(e):ue(e)?e:{}),!0){case fe(t):t.containsStr("\\|")&&(r.dataModel=ae.getOnSplit(t,"|",0),t=ae.getOnLastSplit(1)),r.dataUrl=n(t,a),_isEmpty(s)||(r.dataParams=s);break;case de(t):i={urls:[]},o={},Se(t,function(e){o={url:n(e,a),params:s},e.containsStr("\\|")&&(o.target=ae.getOnSplit(e,"|",0),o.url=n(ae.getOnLastSplit(1),a)),i.urls.push(o)});break;case ue(t):i={urls:[]},o={},Se(Ce(t),function(e){o={name:e,url:n(t[e],a),params:s},t[e].containsStr("\\|")&&(o.target=ae.getOnSplit(t[e],"|",0),o.url=n(ae.getOnLastSplit(1),a)),i.urls.push(o)})}return _isEmpty(i.urls)||(r.dataCollection=i),r};var Fe={};function ze(e,t){var a="_rtt_"+e,n="";if(t&&ue(t)&&ae.hasPrimaryKeys(t,"template|templateStr|templateString|templateUrl")){if(t.hasOwnProperty("template")){var r=t.template.trim();r.beginsWithStr("#")&&!r.containsStr(" ")||"inline"==r||"."==r?"inline"!=r&&"."!=r&&"#"!=r||(t.templateUrl="inline"):t.templateStr=t.template}if(ae.hasPrimaryKeys(t,"templateStr|templateString"))n=t.templateStr||t.templateString||"",ae.updateTemplateScript(a,n),t.template="#"+a;else if(ae.hasPrimaryKeys(t,"templateUrl")){var i=(t.templateUrl||"").trim();if(i&&/^(\.\/)/.test(i)){var o=/[^a-z0-9]/gi.test(e);i=ae.defaults.components.rootPath+(ae.defaults.components.inFolder||o?e.replace(/[^a-z0-9]/gi,"/")+"/":"")+i.substr(2)}t.template=i}}return t&&ue(t)&&!ae.hasPrimaryKeys(t,"data|dataUrl")&&ae.hasPrimaryKeys(ae.api.urls,"$"+e)&&(t.dataUrl="@$"+e),oe.log("$ Adj.Options>>>>",e,t?t.__now():t),t}function Me(e){"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?e():E.addEventListener("DOMContentLoaded",e)}function Be(e){var t=this.__name__;return Me(function(){ae.refreshComponent(t,e)}),this}function Ve(e){var t=this.__name__;return Me(function(){ae.renderComponent(t,e)}),this}function He(e){var t=this.__name__;return Me(function(){ae.showComponent(t,e)}),this}function Ke(){var e=this.__name__;return Me(function(){ae.hideComponent(e)}),this}function We(){var e=this.__name__;return Me(function(){ae.enableComponent(e)}),this}function qe(){var e=this.__name__;return Me(function(){ae.disableComponent(e)}),this}function Je(){return ae.removeComponent(this.__name__)}function Xe(){return ae.destroyComponent(this.__name__)}function Ge(e){this.__name__=e}ae.env="",ae.compiledTemplates4DataBind={},ae.compiledTemplates={},ae.viewModels={},ae.renderHistory={},ae.renderHistoryMax=0,ae.components={},ae.tempBind$data={},ae.defaults={components:{templateEngine:"handlebars",rootPath:"app/components/",inFolder:!0,templateExt:".html",scriptExt:".js",templateScript:!1,templateCache:!0,dataPreRequest:"",render:"",callback:"",extend$data:!0,offline:!1},routes:{base:"#",attr:{route:"data-spa-route",params:"data-spa-route-params",onNavAway:"onNavAway"},className:{hide:"HIDE-SPA-NAV",block:"BLOCK-SPA-NAV",allow:"ALLOW-SPA-NAV"},onClickAs:"click"},lang:{path:"app/language/",ext:".txt",cache:!0,async:!0},validation:{xss:{on:"input_onBlur",fn:"_check.xss",msg:"i18n:invalid.input"}},csp:{nonce:""},set:function(e,t){return ue(e)?(e.hasOwnProperty("set")&&delete e.set,ke(this,e)):"string"==typeof e&&("components.extend$data"==e?ae.defaults.components.extend$data=t:ae.setSimpleObjProperty(this,e,t)),this}},Ge.prototype={render:Ve,refresh:Be,show:He,hide:Ke,enable:We,disable:qe,remove:Je,destroy:Xe,render$:Ve,refresh$:Be,show$:He,hide$:Ke,enable$:We,disable$:qe,remove$:Je,destroy$:Xe};var Ze="api,debug,lang";function Ye(){var t=this.action;if(arguments.length){var e=arguments;1==arguments.length&&(de(arguments[0])?e=arguments[0]:fe(arguments[0])&&(e=arguments[0].split(","))),oe.log(e),e&&e.length&&Se(e,function(e){oe.info(t+" x-component:["+e.trim()+"]"),spa[t](e.trim())})}}function Qe(e,t){var a=e,n=t,r=ne.slice.call(arguments,2);return fe(a)&&(0<a.indexOf("(")&&(a=a.getLeftStr("(")),a=be(window,a.trim(),void 0)),pe(a)&&1<arguments.length&&(a=a.apply(n,r)),a}function et(){var t=this.action;if(arguments.length){var a=arguments;1==arguments.length&&(a=!de(arguments[0])&&fe(arguments[0])?arguments[0].split(","):arguments[0]),ue(a)?Se(Ce(a),function(e){oe.info("Rendering x-component:["+e+"]"),spa[t](e,a[e])}):a&&a.length&&Se(a,function(e){oe.info("Rendering x-component:["+e+"]"),spa[t](e.trim())})}}function tt(e){return e.split(",").map(function(e){return e.trim()+"[src]:not([data-spa-component]):not([data-x-component])"}).join(",")}function at(e){return/^(\$)*(dyn)*SPA\$/i.test(e)}function nt(){var o=this,e=ie(o,"for"),t=((e.indexOf("|")<0?"|":"")+e).split("|").map(function(e){return e.trim()}),s=t.shift(),a=t[0],l={};0<a.indexOf(":")&&(0<a.indexOf("'")||0<a.indexOf('"'))?l=le(a):console.warn("Invalid Options in:",o),setTimeout(function(){var e,t="#"+ie(o,"id"),a=!0,n="",r={};if((s.length<2&&(!s||/[^a-z]/g.test(s))||at(s))&&((s=ie(o,"spa-dyn-comp-name"))||(s="$dynSPA$"+ve()+j(0,999),ie(o,"spa-dyn-comp-name",s))),"FORM"===o.tagName.toUpperCase())(a=ge(e=ae.validateForm(t,!0)))?(r=o.hasAttribute("data-nested")?ae.serializeFormToObject(t):ae.serializeFormToSimpleObject(t),l.dataUrlMethod=ie(o,"method")):oe.info("Form has validation error(s):",e);else{if(o.hasAttribute("data-validate")){var i=o.closest("form");i&&((a=ge(e=ae.validateForm("#"+i.id,t,!0)))||oe.info("Element has validation error(s):",e))}a&&(n=ae.getElValue(o),(a=o.hasAttribute("required")?!ge(n):a)&&o.hasAttribute("name")&&(r[ie(o,"name")]=n))}a&&(l.dataXtra=r,l.dataUrlParams=r,l.dataParams=l.hasOwnProperty("payload")&&!l.payload?{}:r,ae.$render(s,l))},l.delay?+l.delay:0)}function rt(e){var t=e.tagName.toUpperCase(),a="FORM"===t?"submit":"click",n=ie(e,"for");/on(\s*):/i.test(n)&&(a=(le(((n.indexOf("|")<0?"|":"")+n).split("|").map(function(e){return e.trim()})[1]).on+"").toLowerCase());"FORM"===t&&(e.hasAttribute("id")||ie(e,"id","spaForm-"+ve()+j(1,999))),ie(e,"render-on",a),e.addEventListener(a,nt)}function it(e,t){var a;return r?(a=document.createEvent("Event")).initEvent(e,!0,!0):a=new Event(e,{bubbles:!0,cancelable:!0}),t&&(a.targetElement=t),a}function ot(t,a){var n=(ae.defaults.routes.onClickAs||"click").toLowerCase(),e=$(t),r=(""+ie(t,a)||"").trim(),i="click"!==n;if(r&&"null"!=r&&"undefined"!=r&&!(e.hasClass("disabled")||e.is("[disabled]")||e.is(":disabled")))try{if(i){var o="on"+n;e.renameAttr(a,o),t.dispatchEvent(it(n,t)),e.renameAttr(o,a)}else r.split(";").forEach(function(e){e.trim()&&Function("event","("+e.trim()+")").call(t,it(n,t))})}catch(e){console.error(e.stack.substring(0,e.stack.indexOf("\n"))+"! Failed to trigger ["+n+"(:->"+a+")] event on Element:\n",t)}}function st(e){var t=$(this);if(t.hasClass("disabled")||t.is("[disabled]")||t.is(":disabled"))return e.preventDefault(),e.stopPropagation(),void e.stopImmediatePropagation();ot(this,"onclickthis")}function lt(e){var t=$(e||"body"),a=t.find("form:not([action]):not([method]):not([onsubmit])"),n=jt?".no-spa-route":"",r=t.find('a[href*="//"]:not([target])'+n),i=t.find("a:not([href]):not(.no-link)"),o=t.find("[onclick]:not(:input):not(["+Ut+"]):not([onclickthis])");a.filter(function(){return!$(this).closest("pre").length}).attr("onsubmit","return false;").addClass("spa-form"),r.filter(function(){return!$(this).closest("pre").length}).attr("target","_blank").attr("rel","noopener noreferrer").addClass("spa-external-link"),i.filter(function(){return!$(this).closest("pre").length}).attr("href","javascript:;").addClass("spa-link"),o.filter(function(){return!$(this).closest("pre").length}).addClass("as-btn").renameAttr("onclick","onclickthis").on("click",st)}function ct(e){var t,a,n,r=$(e),i=be(spa,"_validate.defaults.offline",!0);if(1==r.length){if((t=r.attr("id")||"")||(t=r.attr("name")||"spaForm"+ve(),r.attr("id",t)),a=r.data(),n=r.has(".ctrl-on-change,.ctrl-on-validate").length,i){var o=(r.attr("data-validate-defaults")||"").trim();if(o){if(o.indexOf("offline")<0)if(o.endsWithStr("}")){var s=o.lastIndexOf("}");o=[o.slice(0,s),",offline:true",o.slice(s)].join("")}else o+=",offline:true";r.attr("data-validate-defaults",o)}else r.attr("data-validate-defaults","{offline:true}")}r.is("[data-validate-form]")||r.attr("data-validate-form",""),r.attr("data-validation-initialized",""),r.attr("onsubmit")||r.attr("onsubmit","return false;"),r.on("change",function(){ae.updateTrackFormCtrls(this)}),r.find("textarea,input:not(:checkbox),input:not(:radio)").filter(":not([data-validate])").each(function(){ie(this,"data-validate","{onInput:{fn:_check.noop}}")});var l="",c=ae.defaults.validation.xss,d=(r.attr("data-validate-xss")||"").trim(),p=(c.msg||"").trim();/msg\s*:/g.test(d)&&((p=le(d).msg)?d="on":p="Invalid input."),p&&!(d.equalsIgnoreCase("off")||d.equalsIgnoreCase("no")||d.equalsIgnoreCase("skip")||d.equalsIgnoreCase("false"))&&(l=4<d.length?","+d:",on"+c.on.capitalize()+":{fn:'"+c.fn+"',msg:'"+p+"'}");var u,f="onFocus:{fn:_clearSpaValidateMsg,offline:false}"+l,h=(r.attr("data-validate-common")||"").trim();if(h){if(h.indexOf("_clearSpaValidateMsg")<0)u="{"==h[0]?(h[0]=",","{"+f+h):"{"+f+","+h+"}",r.attr("data-validate-common",u)}else r.attr("data-validate-common","{"+f+"}");ae.initDataValidation("#"+((a.validateForm||a.validateScope||"").replace(/[#onRender]/gi,"")||t)),!r.hasClass("track-changes")&&n&&ae.trackFormElChange(e),"onRender".equalsIgnoreCase(a.validateForm)&&ae.validateForm("#"+t,!0,!0)}}ae.component=ae.$=ae.registerComponent=function(e,t){var a=!!t,n=e;if(t=t||{},e)if(ue(e)&&(e=((t=ke({},e)).name||t.componentName||"spaComponent"+ve()).trim().trimLeftStr("/").trimLeftStr("_"),t.componentName=e,n=e),fe(n)){if(e=e.trim().trimLeftStr("/").trimLeftStr("_"),0<=Ze.indexOf(n=e))console.error('Invalid component name "'+n+'". Cannot create a component with these names: '+Ze);else if(fe(n)&&n&&(n=n.trim())){if(a){if(/[^a-z0-9\/]/gi.test(n)||!/^([a-z])/i.test(n))return void console.error('Invalid component name "'+n+'" to create. Component name must contain only Alphanumeric (a-z A-Z 0-9) and must begin with alphabet (a-z A-Z).');if(/[^a-z0-9]/gi.test(n)&&(n=n.replace(/[^a-z0-9]/gi,"_")),ae.components[n])return;t.componentName=n,t.hasOwnProperty("beforeRender")||(t.beforeRender="app."+n+".onRender"),t.hasOwnProperty("renderCallback")||(t.renderCallback="app."+n+".renderCallback"),t.hasOwnProperty("require")&&ae.loadComponents(t.require,function(){oe.log("Required components successfully loaded.")},function(){oe.log("Failed to load required components.")});var r=ke({},t=ze(n,t));return Se(["target","template","templateCache","templateScript","templateUrl","templateUrlMethod","templateUrlParams","templateUrlPayload","templateUrlHeaders","onTemplateUrlError","style","styleCache","styles","stylesCache","scripts","scriptsCache","require","dataPreRequest","data","skipDataBind","dataCollection","dataUrl","dataUrlMethod","dataUrlParams","dataUrlHeaders","defaultPayload","stringifyPayload","dataParams","dataType","dataModel","dataCache","dataUrlCache","dataDefaults","data_","dataExtra","dataXtra","onDataUrlError","onError","dataValidate","dataProcess","dataPreProcessAsync","beforeRender","beforeRefresh","componentName"],function(e){delete t[e]}),fe(t.renderCallback)&&delete t.renderCallback,Se(Ce(t),function(e){delete r[e]}),r.renderCallback="app."+n+".renderCallback",r&&r.data&&ue(r.data)&&r.dataUrl&&(ue(r.dataDefaults)?r.dataDefaults=ke({},r.dataDefaults,r.data):r.dataDefaults=r.data,delete r.data),ae.components[n]=r,ae.extendComponent(e,t),window.app[n]||new Ge(e)}var i,o,s=-1;return 0<n.indexOf(" ")&&(i=n.getRightStr(" ").trim(),n=n.getLeftStr(" ")),0<n.indexOf(":")&&(s=ae.toInt(n.getRightStr(":").trim()),n=n.getLeftStr(":")),n=n.replace(/[^a-z0-9]/gi,"_"),ae.components[n]||console.warn('Unknown SPA Component "'+(e.getLeftStr(" ")||e)+'"'),(o=$('[data-rendered-component="'+n+'"]')).length&&0<=s&&(o=$(o[s])),i&&o.length&&(o="<"==i[0]?(i=i.getRightStr(0).trim(),o.find("[data-rendered-component]").length?o.find(i).filter(function(){return $(this).closest("[data-rendered-component]").data("renderedComponent")==n}):o.find(i)):o.find(i)),o}}else console.error("Invalid ComponentName:",n);else console.error("Missing ComponentName to register.")},ae.$$=ae.registerComponents=function(){if(arguments.length){var t=arguments;1==arguments.length&&(t=!de(arguments[0])&&fe(arguments[0])?arguments[0].split(","):arguments[0]),ue(t)?Se(Ce(t),function(e){oe.info("Registering x-component:["+e+"]"),ae.registerComponent(e,t[e])}):t&&t.length&&Se(t,function(e){oe.info("Registering x-component:["+e+"]"),ae.registerComponent(e.trim())})}},ae.extendComponent=ae.$extend=ae.module=function(e,t){if(t=t||{},e)if(ue(e)&&(e=((t=ke({},e)).name||t.componentName||"spaComponent"+ve()).trim().trimLeftStr("/").trimLeftStr("_"),t.componentName=e),fe(e)&&e){if(e=e.trim().trimLeftStr("/").trimLeftStr("_")){if(0<=Ze.indexOf(e))return void console.error("Invalid component name "+e+". Cannot extend Reserved components: "+Ze.join());if(/[^a-z0-9\/]/gi.test(e)||!/^([a-z])/i.test(e))return void console.error('Invalid component name "'+e+'" to extend. Component name must contain only Alphanumeric (a-z A-Z 0-9) and must begin with alphabet (a-z A-Z).');/[^a-z0-9]/gi.test(e)&&(e=e.replace(/[^a-z0-9]/gi,"_")),window.app=window.app||{},window.app[e]=window.app[e]||new Ge(e),t&&pe(t)&&(t=t.call(ae.components[e]||{})),t=ue(t)?t:{},ae.components[e]||(ae.components[e]={componentName:e,beforeRender:"app."+e+".onRender",renderCallback:"app."+e+".renderCallback"}),ae.components[e]&&(t.__prop__&&ke(ae.components[e],Oe({},t.__prop__)),t.__prop__=ae.components[e]),Oe(window.app[e],t),window["$$"+e]=window.app[e]}}else console.error("Invalid ComponentName:",e);else console.error("Missing ComponentName to extend.")},ae.extendComponents=ae.$$extend=function(){if(arguments.length){var t=arguments;1==arguments.length&&(t=!de(arguments[0])&&fe(arguments[0])?arguments[0].split(","):arguments[0]),ue(t)?Se(Ce(t),function(e){oe.info("Extend x-component:["+e+"]"),ae.extendComponent(e,t[e])}):t&&t.length&&Se(t,function(e){oe.info("Extend x-component:["+e+"]"),ae.extendComponent(e.trim())})}},ae.$bind=function(e,t){e=String(e).replace(/[^a-z0-9]/gi,"_"),ge(t)&&(t=be(app,e+".$data",{})),ae.$(e).spaBindData(t)},ae.$data=function(e,t,a){var n,r;if(e=((e=String(e).replace(/[^a-z0-9]/gi,"_"))||"").trim(),a=a||"update",e)if(app.hasOwnProperty(e)){if(n=be(app,e+".$data"),t){if(ue(r=pe(t)?t.call(app[e],app[e].$data):t)&&(["update","merge"].__has(a,"i")?ke(app[e].$data,r):["*","reset","replace","overwrite"].__has(a,"i")&&(app[e].$data=r)),app[e].is$DataUpdated=ae.components[e].is$DataUpdated=!0,n=app[e].$data,ae.$(e).is(":visible")){var i=ae.components[e],o=i.dataCache,s=(i.on$dataChange||"").trim().toLowerCase();o&&s&&["render","refresh","bind"].__has(s)&&(oe.log(e+"$"+s+" on $data update ..."),spa["$"+s](e)),ae.renderUtils.runCallbackFn("app."+e+".$dataChangeCallback",app[e].$data,app[e])}else console.log("Component is not visible! Skipped $on$dataChange.");ae.$dataNotify(e)}}else oe.warn("SPA Component[",e,"] is not loaded.");return n},ae.$dataWatch=function(e,t,a){if((e=String(e).replace(/[^a-z0-9]/gi,"_"))&&t&&pe(a))return Fe.hasOwnProperty(e)||(Fe[e]={}),Fe[e].hasOwnProperty(t)?void console.warn("$dataWatch [",t,"] already exists in spa$[",e,"]"):(Fe[e][t]=a,!0)},ae.$dataUnwatch=function(e,t){var a;return(e=String(e).replace(/[^a-z0-9]/gi,"_"))&&t&&Fe.hasOwnProperty(e)&&("*"==t&&(delete Fe[e],a=!0),Fe[e].hasOwnProperty(t)&&(delete Fe[e][t],a=!0)),a||console.warn("$dataWatch [",t,"] does not exist in spa$[",e,"]"),a},ae.$dataNotify=function(t,e){if((t=String(t).replace(/[^a-z0-9]/gi,"_"))&&Fe.hasOwnProperty(t)){var a=Ce(Fe[t]);e&&(a=e.split(",")),Se(a,function(e){e=(e||"").trim(),Fe[t].hasOwnProperty(e)&&Fe[t][e].call(void 0,app[t].$data,app[t],e)})}},ae.$renderCount=function(e){return be(window,"app."+String(e).replace(/[^a-z0-9]/gi,"_")+".__renderCount__",0)},ae.removeComponent=function(e,n){var t;function a(e){var t,a=ge(e=String(e).replace(/[^a-z0-9]/gi,"_").trim());return(a=a||(he(t=ae.renderUtils.runCallbackFn("app."+e+".onRemove",n||"_script_",app[e]))||w(t)&&t))||oe.warn("Remove $"+e+" request denied onRemove()"),a}if(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim(),n=n&&(e==n?"_self_":n),e){var r=$('[data-rendered-component="'+e+'"]');if(r.length){var i=r.find("[data-rendered-component]").map(function(){return $(this).attr("data-rendered-component")});(0==i.length||H(i,function(e){return a(e)}))&&a(e)&&(r.html("").text("").val("").data("renderedComponent","").removeAttr("data-rendered-component"),t=!0)}else t=!0}return w(t)&&t},ae.destroyComponent=function(e){var t;if((e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&ae.removeComponent(e)&&(delete app[e],ae.components[e])){var a=be(ae.components[e],"template","");a&&!a.beginsWithStr("#")&&(a="#__tmpl_"+(""+a).replace(/[^a-z0-9]/gi,"_")),$("script"+a).remove(),delete ae.components[e],delete ae.compiledTemplates4DataBind[e],delete ae.compiledTemplates[e],delete Fe[e],t=!0}return t},ae.showComponent=function(e,t){var a=(e||"").replace(/[^a-z0-9]/gi,"_").trim();if(a){var n=$('[data-rendered-component="'+a+'"]');n.length?n.show():ae.$render(e,t)}},ae.hideComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').hide()},ae.disableComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').css("pointer-events","none").addClass("disabled").attr("disabled","disabled")},ae.enableComponent=function(e){(e=(e||"").replace(/[^a-z0-9]/gi,"_").trim())&&$('[data-rendered-component="'+e+'"]').css("pointer-events","auto").removeClass("disabled").removeAttr("disabled")},ae.removeComponents=ae.$remove=ae.$$remove=function(){Ye.apply({action:"removeComponent"},arguments)},ae.destroyComponents=ae.$destroy=ae.$$destroy=function(){Ye.apply({action:"destroyComponent"},arguments)},ae.showComponents=ae.$show=ae.$$show=function(){Ye.apply({action:"showComponent"},arguments)},ae.hideComponents=ae.$hide=ae.$$hide=function(){Ye.apply({action:"hideComponent"},arguments)},ae.enableComponents=ae.$enable=ae.$$enable=function(){Ye.apply({action:"enableComponent"},arguments)},ae.disableComponents=ae.$disable=ae.$$disable=function(){Ye.apply({action:"disableComponent"},arguments)},ae.refreshComponent=ae.$refresh=function(e,t){e&&ue(t=t||{})&&(t.hasOwnProperty("beforeRender")||(t.beforeRender=t.beforeRefresh||"app."+e.replace(/[^a-z0-9]/gi,"_")+".onRefresh"),t.hasOwnProperty("renderCallback")||(t.renderCallback=t.refreshCallback||"app."+e.replace(/[^a-z0-9]/gi,"_")+".refreshCallback"),t.isRefreshCall=!0,oe.info("Calling refreshComponent: "+e+" with below options"),oe.info(t),ae.$render(e,t))},ae.renderComponent=ae.$render=function(e,n){if(T){if("complete"!==E.readyState&&("loading"===E.readyState||E.documentElement.doScroll))return oe.info("DOM NOT Ready. will render component ["+e+"] on DOM Ready."),void E.addEventListener("DOMContentLoaded",function(){ae.renderComponent(e,n)});if(n=n||{},e){var r=e;ue(e)&&(n=ke({},e),e=n.name||n.componentName||"spaComponent"+ve(),n.componentName=e,r=e);n._reqFrTag_;if(fe(e)){if("$"==(e=e.trim())[0])0;else if("#"==e[0])return void $(e).spaRender(n);if(!(n&&ue(n)&&n.isRefreshCall)&&ae.$renderCount(r)&&be(window,"app."+r+".refreshCallback",""))return oe.info("Component ["+e+"] has been rendered already. Refreshing instead of re-render."),void ae.refreshComponent(r,n);if(oe.info("Called renderComponent: "+e+" with options",n),/\/$|\/\/|\.|\?|\#/.test(r)&&"$"!=e[0]){var t,a=r;if(r[0]===ae.api.urlKeyIndicator&&(t=r.trimLeftStr(ae.api.urlKeyIndicator),a=ae.api.urls[t]||""),n.componentUrl=a,oe.info("Called to render ServerComponent: ["+r+"] with options",n),t&&!a&&console.warn("ComponentURL undefined: app.api.urls."+t),a){var i=n.targetEl,o=Qe(le(n.urlHeaders),n),s=Qe(le(n.urlParams),n),l=Qe(le(n.urlPayload),n),c=(n.urlMethod||"GET").toLowerCase(),d="false"!==String(n.urlCache||"false").toLowerCase(),p=ae.api.url(a,s),u=Qe(n.urlError);oe.log("Loading ServerComponent ..."),ae.api[c](p,l,function(e){$(i).html(e),ae.renderComponentsInHtml(i)},function(e,t,a){this.onError&&pe(this.onError)?this.onError.call(this,e,t,a):(console.warn("Unable to load ServerComponent."),console.error(String(t).toUpperCase()+":"+a,e))},{ajaxOptions:{dataType:"html",headers:o,cache:d,onError:u}})}}else{var f=!at(e)&&/[^a-z0-9]/gi.test(e);f&&(r=e.replace(/[\s\$]/g,"").replace(/[^a-z0-9]/gi,"_").trimLeftStr("_"));var h="_rtt_"+r,m="";n=ze(r,n);var g=f?r.replace(/[^a-z0-9]/gi,"/"):r,v=r;if(f){var b=r.split("_");v=b[b.length-1]}function y(){if(oe.info("_renderComp: "+r+" with below options"),oe.info(n),!ae.components[r].hasOwnProperty("template"))if(ae.components[r].hasOwnProperty("templateStr")||ae.components[r].hasOwnProperty("templateString"))m=ae.components[r].templateStr||ae.components[r].templateString||"",ae.updateTemplateScript(h,m),ae.components[r].template="#"+h;else if(ae.hasPrimaryKeys(ae.components[r],"templateUrl")){var e=(ae.components[r].templateUrl||"").trim();e&&/^(\.\/)/.test(e)&&(e=S+e.substr(2)),ae.components[r].template=e}else ae.components[r].template=x;oe.info("render-options: xsr.components["+r+"]"),oe.info(ae.components[r]);var t=n&&n.saveOptions?ae.components[r]:Oe({},ae.components[r]);if(n&&(n.hasOwnProperty("mountComponent")||delete t.mountComponent,Oe(t,n),oe.info("Extended> render-options: xsr.components["+r+"]"),oe.info(t)),t.hasOwnProperty("style")&&fe(t.style)&&(t.dataStyles={},t.dataStyles[r+"Style"]="."==t.style||"$"==t.style?w+".css":/^(\.\/)/.test(t.style)?S+t.style.substr(2):t.style,delete t.style,oe.info("Using component style for ["+r+"]"),oe.info(t)),t&&ue(t)&&t.dataCache){var a=be(app,r+".$data",{});ge(a)?(t.dataCache=!1,oe.log("dataCache:false; Using/Ajaxing new data ...")):(t.data=a,t.dataProcess=!1,oe.log("dataCache:true; Using $data and ingored data + dataProcess ..."))}ae.render(t)}function C(){k?oe.info("Loaded component ["+r+"] source from ["+k+"]"):oe.info("Skipped Loading component ["+r+"] source from script file."),oe.info("In Source> xsr.components["+r+"]"),oe.info(ae.components[r]),ae.components.hasOwnProperty(r)||(oe.info("xsr.components["+r+"] NOT DEFINED in ["+(k||"xsr.components")+"]. Creating *NEW*"),ge(n)&&(n={}),n.hasOwnProperty("componentName")||(n.componentName=r),ae.components[r]=n,oe.info("NEW> xsr.components["+r+"]"),oe.info(ae.components[r])),y()}var S=ae.defaults.components.rootPath+(ae.defaults.components.inFolder||f?g+"/":""),w=S+v,x=w+ae.defaults.components.templateExt,O=ae.defaults.components.scriptExt,k=n&&ue(n)&&n.hasOwnProperty("script")?n.script:O?w+O:"";ae.components.hasOwnProperty(r)?(oe.info("Re-rending xsr.components["+r+"]"),oe.info(ae.components[r]),y()):k&&!at(e)?(oe.info("Attempt to load component ["+e+"]'s properties from ["+k+"]"),Y(k,{spaComponent:g,dataType:"spaComponent",success:C,cache:ae.defaults.components.offline}).done(P).fail(function(){oe.info("Attempt to Load component ["+e+"]'s properties from ["+k+"] has FAILED. Not to worry. Continuing to render with default properties."),C()})):C()}}else console.error("Invalid ComponentName:",e)}else console.error("Missing ComponentName to render.")}else $(function(){ae.renderComponent(e,n)})},ae.renderComponents=ae.$$render=function(){et.apply({action:"renderComponent"},arguments)},ae.refreshComponents=ae.$$refresh=function(){et.apply({action:"refreshComponent"},arguments)},ae.renderComponentsInHtml=function(e,l,t){e=e||"body",renderOptions="object"==typeof l?l:"",l="string"==typeof l?l.trim():"";var a,c,d,p,u,f,h,m,n=$(e);if(!t){a=(a=e)||"body",$(a).find("[for]:not(label):not([render-on])").each(function(e,t){rt(t)}),$(a).find('form[action^="$"]:not([for]):not([render-on])').each(function(e,t){ie(t,"for",ie(t,"action").substr(1)),t.removeAttribute("action"),rt(t)});var r=tt("spa-template,x-template");$(e).find(r).each(function(){ie(this,"data-x-component",ie(this,"src")),ie(this,"data-skip-data-bind","true"),ie(this,"data-template-script","true"),this.style.display="none"});var i=tt("spa-html,x-html");$(e).find(i).each(function(){var e=ie(this,"src");if(("$"===e[0]||!/[^a-z0-9]/gi.test(e))&&!ae.components[e.replace(/[^a-z0-9]/gi,"_")]){var t={templateScript:!0};!(this.hasAttribute("data")||this.hasAttribute("data-url"))?t.skipDataBind=!0:this.hasAttribute("data-url")||(t.data=this.hasAttribute("data")?le(ie(this,"data")):{}),ae.$(e,t)}ie(this,"data-x-component",e)});var o=tt("spa-component,x-component");$(e).find(o).each(function(){ie(this,"data-x-component",ie(this,"src"))}),n=n.find("[data-x-component],[data-spa-component]").filter(":not([render-after])")}n.length&&n.each(function(e,t){c=$(t),m=c.data();var a={url:"dataUrl",urlParams:"dataUrlParams",urlMethod:"dataUrlMethod",urlErrorHandle:"dataUrlErrorHandle",urlHeaders:"dataUrlHeaders",params:"dataParams",type:"dataType",model:"dataModel",cache:"dataCache",validate:"dataValidate",process:"dataProcess"};if(Object.keys(m).forEach(function(e){a.hasOwnProperty(e)&&(m[a[e]]=/params|headers/gi.test(e)?le(m[e]):m[e],delete m[e])}),d=(c.attr("data-x-component")||c.attr("data-spa-component")||"").split("|"),p=d[0].trim(),(u=(d[1]||"").trim())&&(/\:\s*\$data/.test(u)&&(u=u.replace(/\:\s*\$data/g,":app."+l+".$data")),u=le(u)),p){if(!ae.components[p]&&(t.hasAttribute("no-script")||t.hasAttribute("noscript")||t.hasAttribute("nojs")||t.hasAttribute("no-js"))&&ae.$(p,{}),!t.id){var n=String(p).trim();"$"==n[0]&&(n=n.replace(/[^a-z0-9]/gi,"_")),n=n.replace(/[^a-z0-9_]/gi,""),h="spaCompContainer_"+n+"_"+($("body").find("[rel=spaComponentContainer_"+n+"]").length+1),t.id=h,ie(t,"rel","spaComponentContainer_"+n)}var r=c.attr("data-x-component-options")||c.attr("data-x-$options")||c.attr("data-spa-component-options")||c.attr("data-spa-$options")||c.attr("spa-$options")||"{}";if(f=ke({target:"#"+t.id,targetEl:t,spaComponent:p.trim(),_reqFrTag_:1},u,m,le(r),renderOptions),(t.hasAttribute("skipDataBind")||t.hasAttribute("skip-data-bind"))&&(f.skipDataBind=!0),f.hasOwnProperty("data")&&fe(f.data)){var i=f.data.trim();/^\$data/.test(i)&&(i="app."+l+"."+i),f.data=ke({},be(window,i,{}))}var o=(c.attr("data-x-component-$data")||c.attr("data-x-$data")||c.attr("data-spa-component-$data")||c.attr("data-spa-$data")||c.attr("spa-$data")||"").trim();if(o&&(/\:\s*\$data/.test(o)&&(o=o.replace(/\:\s*\$data/g,":app."+l+".$data")),ge(f.data)?f.data=le(o):ke(f.data,le(o))),!ge(f.data)&&f.data.hasOwnProperty("$data")){var s=ke({},f.data.$data);delete f.data.$data,ke(f.data,s)}f.hasOwnProperty("data")&&(f.data_=ke({},f.data),delete f.data),oe.log("inner-component",p,"options:",f),ae.renderComponent(p,f)}})},ae.renderUtils={array2ObjWithKeyPrefix:function(e,t,a){var n={};return Se(e,function(e){(e=(""+e).trimStr())&&(n[t+(e.equals(".")?a:e).replace(/[^a-z0-9]/gi,"_")]=""+e)}),oe.log([t,n]),n},getFn:function(e){var t=e;return e&&fe(e)&&(t=be(window,e)),t&&pe(t)?t:void 0},runCallbackFn:function(e,t,a){if(e){var n,r=e,i=a;if(fe(r)){i||(e.match("]$")?n=e.substring(0,e.lastIndexOf("[")):0<e.indexOf(".")&&(n=e.substring(0,e.lastIndexOf("."))),i=n?be(window,n):window);var o=r.indexOf("(");0<o&&(r=r.substr(0,o)),r=be(window,r)}if(r){if(pe(r))return oe.info("calling callback: ","Fn:"+(e.name||""),e),de(t)&&"(...)"==t[0]?(t.shift(),r.apply(i,t)):r.call(i,t);oe.error("CallbackFunction <"+e+" = "+r+"> is NOT a valid FUNCTION.")}else oe.info("CallbackFunction <"+e+"> is NOT defined.")}},registerComponentEvents:function(r){var e;r&&app[r]&&app[r].hasOwnProperty("events")&&Se(Ce(app[r].events),function(n){app[r].events[n].hasOwnProperty("target")&&!ge(app[r].events[n].target)&&(e=app[r].events[n].target,ae.$(r+" "+e).filter(":not([spa-events-"+n+'="'+r+'"])').attr("spa-events-"+n,r).each(function(e,a){Se(Ce(app[r].events[n]),function(t){0==t.indexOf("on")&&Se(t.split("_"),function(e){oe.log("registering component ["+r+"] event: "+n+"-"+e),$(a).on(e.trimLeftStr("on").toLowerCase(),app[r].events[n][t])})})}))})}},ae.render=function(M,B){if(oe.log("xsr.render",M,B),arguments.length){if(1!==arguments.length||"object"!=typeof M){var a;B&&(a=B,Se({template:"dataTemplate",templates:"dataTemplates",templateCache:"dataTemplatesCache",templatesCache:"dataTemplatesCache",html:"dataTemplate",htmls:"dataTemplates",htmlCache:"dataTemplatesCache",htmlsCache:"dataTemplatesCache",script:"dataScripts",scripts:"dataScripts",scriptCache:"dataScriptsCache",scriptsCache:"dataScriptsCache",style:"dataStyles",styles:"dataStyles",styleCache:"dataStylesCache",stylesCache:"dataStylesCache",renderType:"dataRenderType",beforeRender:"dataBeforeRender",dataRenderCallBack:"dataRenderCallback",renderCallback:"dataRenderCallback",renderCallBack:"dataRenderCallback",callback:"dataRenderCallback",callBack:"dataRenderCallback",onRemove:"dataRemoveCallback",dataRenderMode:"dataRenderMode",renderMode:"dataRenderMode",renderId:"dataRenderId"},function(e,t){a.hasOwnProperty(t)&&(a[e]=B[t],delete a[t])}));var V={id:"",view:{},model:{},cron:"",elDataAttr:{},target:M,iOptions:B},H=[],K=!1,e=x(M);e&&(V.elDataAttr=$(M).data());var W=1<arguments.length,q=W&&B.hasOwnProperty("data"),J=B&&B.componentName?B.componentName:"",X={data:{},dataPreRequest:ae.defaults.components.dataPreRequest,dataUrl:"",dataUrlParams:{},dataUrlMethod:"GET",dataUrlErrorHandle:"",dataUrlHeaders:{},dataParams:{},dataType:"",dataExtra:{},dataXtra:{},data_:{},dataDefaults:{},dataModel:"",dataValidate:!1,dataProcess:"",dataUrlCache:!1,dataCache:!1,extend$data:ae.defaults.components.extend$data,dataCollection:{},dataTemplates:{},dataTemplate:"",dataTemplatesCache:!0,templateScript:!1,templateEngine:"",dataScripts:{},dataScriptsCache:!0,dataStyles:{},dataStylesCache:!0,dataBeforeRender:"",dataRenderCallback:"",dataRemoveCallback:"",dataRenderMode:"",skipDataBind:!1,render:"",dataRenderId:""};if(e||(x("#spaRunTimeHtmlContainer")||$("body").append("<div id='spaRunTimeHtmlContainer' style='display:none;'></div>"),$("#spaRunTimeHtmlContainer").append("<div id='"+M.replace(/\#/gi,"")+"'></div>")),W){var t={dataTemplatesCache:ae.defaults.components.templateCache},n=(B=ke({},t,B)).hasOwnProperty("saveOptions")&&B.saveOptions;for(var r in B)X[r]=B[r],n&&"data"!==r&&"saveOptions"!==r&&$(M).data(""+(""+((""+r)[4]||"")).toLowerCase()+r.slice(5),ae.toStr(B[r]))}oe.log(J+".$"+(X.isRefreshCall?"refresh":"render")+" with options:",X,"$data",be(app,J+".$data"));var G=$(M),i=G.attr("data-rendered-component")||"",o=i==J;if(Bt(G)){oe.log("Component container [",M,"] blocks navigation.");var s=G.hasClass(At)?G:G.find(Lt);if(1<s.length&&(s=$(s[0])),s.length){var l,c,d=(s.attr(Dt)||"").trim();if(d){if("#"==d[0]||">"==d[0]){var p=">"==d[0]?d.substr(1).trim():d,u=s.find(p).filter(":not(.disabled):not(:disabled)");if(u.length)return void u.trigger("click")}else if((l=be(window,d.split("(")[0].split(";")[0]))&&pe(l)&&(c=l.call(app[i],app[i],app[J])),l&&(!w(c)||!c))return}else if((l=be(app,i+".onNavBlock"))&&pe(l)&&(c=l.call(app[i],app[i],app[J])),l&&(!w(c)||!c))return}oe.log("Render continues.")}o&&(oe.log("$refresh - Auto-Detected",J,X),"auto".equalsIgnoreCase(""+X.render)&&(oe.log("Finding for refresh events."),S("dataBeforeRender",".onRender","onRefresh"),S("dataRenderCallback",".renderCallback","refreshCallback")));function Z(e){return(""+G.data(e)).replace(/undefined/,"")}function Y(e,t){return ge(X[e])?Z(t):X[e]}var f=Y("dataRenderId","renderId");V._renderId=f.ifBlankStr("spaRender"+ve()+ae.rand(1e3,9999));var Q=Y("dataRenderMode","renderMode")||"replace";oe.log("Render Mode: <"+Q+">");var ee="x-spa-template",te=(X.templateEngine||ae.defaults.components.templateEngine||"handlebars").toLowerCase();if(oe.group("spaLoadingViewScripts"),W&&B.hasOwnProperty("dataScriptsCache"))oe.info("Override [data-scripts-cache] with user option [dataScriptsCache]: "+X.dataScriptsCache);else{var h=Z("scriptsCache");ge(h)||(X.dataScriptsCache=h.toBoolean(),oe.info("Override [data-scripts-cache] with [data-scripts-cache] option in tag-attribute: "+X.dataScriptsCache))}var m=Z("scripts");m&&ge((m||"").replace(/[^:'\"]/g,""))&&(m="'"+m.split(",").join("','")+"'");var g,v,b=le(m||"{}");if(!ue(X.dataScripts)&&fe(X.dataScripts)&&(ge(((m=(X.dataScripts||"").trimStr())||"").replace(/[^:'\"]/g,""))&&(m="'"+m.split(",").join("','")+"'"),X.dataScripts=le(m)),me(X.dataScripts)||(b=X.dataScripts),de(b)&&xe(b,function(e){return!e}),oe.info(b),m=[],b&&!me(b)){if(de(b)){oe.info("Convert array of script(s) without scriptID to object with scriptID(s).");var y=ae.renderUtils.array2ObjWithKeyPrefix(b,"__scripts_",M);oe.info("Scripts(s) with scriptID(s)."),oe.log(y),b=_isEmpty(y)?{}:y}oe.info("External scripts to be loaded [cache:"+X.dataScriptsCache+"] along with view container ["+M+"] => "+JSON.stringify(b)),g=Ce(b)}else oe.info("No scripts defined [data-scripts] in view container ["+M+"] to load.");if(oe.groupEnd("spaLoadingViewScripts"),g)m=we(g,function(e){return!(v=Te(b[e],J)).endsWithStrIgnoreCase(".js")&&v.indexOf("?")<0&&(v+=ae.defaults.components.scriptExt),(X.dataScriptsCache?"":"~")+v});return oe.log("Loading component [",J,"] scripts:",m),ae.loadScriptsSync(m,function(){oe.info("External Scripts Loaded."),!re&&Ce(app.api).length&&da();var e=X?X.dataPreRequest:"";if(fe(e)&&(e=ae.renderUtils.getFn(e)),pe(e))try{var t=e.call(app[J]);t&&ue(t)&&Ce(t).forEach(function(e){0==e.indexOf("data")&&(X[e]=t[e])})}catch(e){console.error("dataPreRequest-Error in app."+J,e)}oe.group("spaDataModel");var p,a,n,r=Y("dataModel","model"),i=Y("dataUrl","url"),o=q||i.beginsWithStrIgnoreCase("local:"),s=i.beginsWithStrIgnoreCase("local:")?i.replace(/local:/gi,""):"data",u=pe(n=be(app,"api.ajaxOptions.defaultPayload",{}))?n():ue(n)?ke({},n):n,f=X&&X.hasOwnProperty("stringifyPayload")?X.stringifyPayload:be(app,"api.ajaxOptions.stringifyPayload");r=r.ifBlankStr(s),p=r.replace(/\./g,"_");var h={};if(q)h[p]=pe(X.data)?X.data():X.data,oe.info("Loaded data model ["+r+"] from argument");else{if(W&&B.hasOwnProperty("dataCache"))oe.info("Override [data-cache] with user option [dataCache]: "+X.dataCache);else{var l=Z("cache");ge(l)||(X.dataCache=l.toBoolean(),oe.info("Override [data-cache] with [data-cache] option in tag-attribute: "+X.dataCache))}if(ge(i)){h[p]={};var m=Z("collection");m=m&&le(m),ge(X.dataCollection)||(m=X.dataCollection),de(m)&&(m={urls:m});var c=m.urls;if(ge(c))oe.info("Model Data ["+r+"] or [data-url] or [data-collection] NOT found! Check the arguments or html markup. Rendering with options."),h[p]=ke({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra);else if(de(c)){oe.info("Processing data-URLs");var g=0,v=m.nameprefix||"data";Se(c,function(l){var e=v+g,c=ye(l,"name")?(""+l.name).replace(/[^a-zA-Z0-9]/gi,""):ye(l,"target")?""+l.target:e,d=ye(l,"url")?l.url:ye(l,"path")?l.path:"";if(c.containsStr(".")&&(c=$e(c.split("."))),c=c.ifBlankStr(e),oe.info("processing data-api for: "+c),oe.log(l),d){d=ae.api.url(d,ye(l,"urlParams")?l.urlParams:{});var t=ye(l,"headers")?l.headers:X.dataUrlHeaders;ge(t)&&(t=be(window,"app.api.ajaxOptions.headers",{})),a=ye(l,"params")?l.params:ye(l,"data")?l.data:{},ye(l,"defaultPayload")||ge(u)||(a=ke({},u,!ge(a)&&ue(a)?a:{})),!ge(a)&&f&&(a=JSON.stringify(a)),H.push(ba({url:d,method:(""+(l.method||"GET")).toUpperCase(),headers:pe(t)?t():t,data:a,cache:ye(l,"cache")?l.cache:X.dataCache,dataType:ye(l,"type")?l.type:X.dataType||be(window,"app.api.ajaxOptions.dataType","text"),success:function(e,t,a){var n,r=ye(l,"target")?""+l.target:"",i=fe(e)?le(""+e,"data"):e;if(0<r.indexOf("."))n=ae.hasKey(i,r)?be(i,r):i;else try{n=i.hasOwnProperty(r)?i[r]:i}catch(e){console.warn("Error in Data Model ["+r+"] in URL ["+d+"].\n"+e.stack)}h[p][c]?(h[p][c]=[h[p][c]],h[p][c].push(n)):h[p][c]=n,oe.info("Loaded data model ["+c+"] from ["+d+"]");var o=l.success||l.onsuccess||l.onSuccess;if(o=o||(m.success||m.onsuccess||m.onSuccess))if(pe(o))o.call(this,i,l,t,a);else if(fe(o)){var s=be(window,o);pe(s)?s.call(this,i,l,t,a):oe.log("Unknown ajax success handle: "+o)}},error:function(e,t,a){oe.warn("Error processing data-api ["+d+"]");var n=l.error||l.onerror||l.onError;if(!n){n=m.error||m.onerror||m.onError;var r=X.dataUrlErrorHandle||X.onDataUrlError||X.onError;!n&&r&&(n=r)}if(n){if(pe(n))n.call(this,e,t,a);else if(fe(n)){var i=be(window,n);pe(i)?i.call(this,oResult,l):oe.log("Unknown ajax error handle: "+n)}}else pe(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a)}}))}else oe.error("data-api-url not found. Please check the arguments or html markup. Skipped this data-api request");g++})}else oe.warn("Invalid [data-urls].Check the arguments or html markup. Rendering with empty data {}.")}else if(i.beginsWithStrIgnoreCase("local:")){var d=i.replace(/local:/gi,""),b={};if(se(d)){try{b=Function('"use strict";return ('+d+")")()}catch(e){console.error("Error in xsr.$('"+X.componentName+"'): Invalid Data Model >> \"local:"+d+'"\n>> '+e.stack.substring(0,e.stack.indexOf("\n")))}oe.info("Using LOCAL Data Model: "+d)}if(!o&&0<r.indexOf("."))h[p]=ae.hasKey(b,r)?be(b,r):b;else try{h[p]=b.hasOwnProperty(r)?b[r]:b}catch(e){console.warn("Error in Data Model ["+r+"] in Local Object ["+d+"].\n"+e.stack)}}else{i=ae.api.url(i,ge(X.dataUrlParams)?{}:X.dataUrlParams),oe.info("Request Data ["+r+"] [cache:"+(X.dataUrlCache||X.dataCache)+"] from URL =>"+i);var y=X.dataUrlHeaders;ge(y)&&(y=be(window,"app.api.ajaxOptions.headers",{})),a=X.dataParams,X.hasOwnProperty("defaultPayload")||ge(u)||(a=ke({},u,!ge(a)&&ue(a)?a:{})),!ge(a)&&f&&(a=JSON.stringify(a));var C={url:i,method:(""+(Y("dataUrlMethod","urlMethod")||"GET")).toUpperCase(),headers:pe(y)?y():y,data:a,cache:X.dataUrlCache||X.dataCache,dataType:X.dataType||be(window,"app.api.ajaxOptions.dataType","text"),success:function(e){ae.console.log("API response:",e);var t=fe(e)?le(""+e,"data"):e,a=Y("dataValidate","validate");if(0<r.indexOf("."))h[p]=ae.hasKey(t,r)?be(t,r):t;else try{"data"!=r||t.hasOwnProperty(r)||(p=r="Data"),h[p]=!a&&t.hasOwnProperty(r)?t[r]:t}catch(e){console.error("Error in Data Model ["+r+"] in URL ["+i+"].\n"+e.stack)}oe.info("Loaded data model ["+r+"] from ["+i+"]")},error:function(e,t,a){var n=Y("dataUrlErrorHandle","urlErrorHandle")||X.onDataUrlError||X.onError;if(n){var r=fe(n)?be(window,n):n;pe(r)?r.call(this,e,t,a):oe.log("Unknown ajax error handle: "+n)}else pe(app.api.onError)?app.api.onError.call(this,e,t,a):ae.api.onReqError.call(this,e,t,a)}};H.push(ba(C))}}oe.info("End of Data Processing"),oe.log({o:h}),oe.groupEnd("spaDataModel");var S=Z("template")||Z("html"),w=Z("templates")||Z("htmls");w&&ge((w||"").replace(/[^:'\"]/g,""))&&(w="'"+w.split(",").join("','")+"'");var x=le(w||"{}");if(!ue(X.dataTemplates)&&fe(X.dataTemplates)&&(ge(((w=(X.dataTemplates||"").trimStr())||"").replace(/[^:'\"]/g,""))&&(w="'"+w.split(",").join("','")+"'"),X.dataTemplates=le(w)),me(X.dataTemplates)||(x=X.dataTemplates,w=""+JSON.stringify(x)),(_isEmpty(le((w||"").trimStr()))||de(x)&&1==x.length&&ge(x[0]))&&(x={},w=""),oe.info("Templates:"),oe.info(x),de(x)&&!_isEmpty(x)){oe.info("Array of template(s) without templateID(s).");var O=ae.renderUtils.array2ObjWithKeyPrefix(x,"__tmpl_",M);oe.info("Template(s) with template ID(s)."),oe.log(O),w=_isEmpty(O)?(x={},""):(x=O,""+JSON.stringify(x))}if(!x||me(x)){x={};var k=X.dataTemplate,T="",E="";ge(k)&&(ge(S)||(oe.info("Template to load from location <"+S+">"),k=S)),k=(k||"").trimStr(),oe.info("Primary Template: <"+k+">"),ge(k)||k.equalsIgnoreCase("inline")||k.equals(".")?(oe.info("Using target container (inline) content as template."),T="_tmplInline_"+M.trimStr("#")):k.beginsWithStr("#")?(oe.info("Using page container <"+k+"> content as template."),T=k.trimStr("#")):(oe.info("External path <"+k+"> content as template."),T="__tmpl_"+(""+k).replace(/[^a-z0-9]/gi,"_"),E=k),x[T]=E.replace(/['\"]/g,""),oe.info(x)}if(oe.group("spaView"),x&&!me(x)){oe.info("Templates of ["+ee+"] to be used in view container ["+M+"] => "+JSON.stringify(x));var P=Ce(x);if(oe.group("spaLoadingTemplates"),oe.group("spaLoadingTemplatesCache"),W&&B.hasOwnProperty("dataTemplatesCache"))oe.info("Override [data-templates-cache] with user option [dataTemplatesCache]: "+X.dataTemplatesCache);else{var R=Z("templatesCache")||Z("templateCache")||Z("htmlsCache")||Z("htmlCache");ge(R)||(X.dataTemplatesCache=R.toBoolean(),oe.info("Override [data-templates-cache] with [data-templates-cache] option in tag-attribute: "+X.dataTemplatesCache))}oe.groupEnd("spaLoadingTemplatesCache"),oe.info("Load Templates"),oe.info(x);var A=X.templateUrlPayload;A&&(pe(A)||fe(A)&&A.indexOf("=")<0)&&(A=Qe(A,X));var L={method:X.templateUrlMethod,params:Qe(X.templateUrlParams,X),payload:A,headers:Qe(X.templateUrlHeaders,X),onError:Qe(X.onTemplateUrlError||X.onError)};Se(P,function(e,t){oe.info([t,e,x[e],ee,M,X]),H=ae.loadTemplate(e,x[e],ee,M,H,!X.dataTemplatesCache,L)});var I="#"+P[0].trimStr("#");if(oe.info("External Data/Templates Loading Status: ",H),oe.groupEnd("spaLoadingTemplates"),oe.info("Render TemplateID: "+I),oe.group("spaLoadingViewStyles"),W&&B.hasOwnProperty("dataStylesCache"))oe.info("Override [data-styles-cache] with user option [dataStylesCache]: "+X.dataStylesCache);else{var U=Z("stylesCache");ge(U)||(X.dataStylesCache=U.toBoolean(),oe.info("Override [data-styles-cache] with [data-styles-cache] option in tag-attribute: "+X.dataStylesCache))}var N=Z("styles");N&&ge((N||"").replace(/[^:'\"]/g,""))&&(N="'"+N.split(",").join("','")+"'");var j=le(N||"{}");if(me(X.dataStyles)||(j=X.dataStyles),de(j)&&xe(j,function(e){return!e}),j&&!me(j)){if(de(j)){oe.info("Convert array of style(s) without styleID to object with styleID(s).");var D=ae.renderUtils.array2ObjWithKeyPrefix(j,"__styles_",M);oe.info("Style(s) with styleID(s)."),oe.log(D),j=_isEmpty(D)?{}:D}oe.info("External styles to be loaded [cache:"+X.dataStylesCache+"] along with view container ["+M+"] => "+JSON.stringify(j));var F,z=Ce(j);oe.group("spaLoadingStyles"),Se(z,function(e){F=Te(j[e],J),H=ae.loadStyle(e,F,X.dataStylesCache,H)}),oe.info("External Styles Loading Status: "+JSON.stringify(H)),oe.groupEnd("spaLoadingStyles")}else oe.info("No styles defined [data-styles] in view container ["+M+"] to load.");oe.groupEnd("spaLoadingViewStyles"),ma.apply($,H).then(function(){oe.group("spaRender["+te+"] - xsr.renderHistory["+V._renderId+"]"),oe.info("Rendering "+M+" using master template: "+I);try{var R,A=!1,e=!Y("dataValidate","validate");if(!e){oe.info("Validating Data");var t=Y("dataValidate","validate");t&&fe(t)&&(t=be(window,t)),e=t&&pe(t)?t.call(h[p],h[p]):ae.api.isCallSuccess.call(this,h[p],this)}var L=h[p];e?ma.apply($,function(){var e,t=Y("dataPreProcessAsync","preProcessAsync");if(t&&fe(t)&&(t=be(window,t)),V.modelOriginal=Oe({},L),V.model=L,t&&pe(t)){A=!0;var a=Oe({},app[J]||{},B||{});e=t.call(a,L),(A=!he(e))||(e=[]),A&&(R=!de(e)||de(e)&&1==e.length,de(e)||(e=[e]))}return e}()).done(function(){var a=ne.slice.call(arguments);A&&(oe.log(J,".dataPreProcessAsync() =>",a.__now()),R&&1<a.length&&"success"==a[1]?(a[0]=le(a[0]),a.splice(1)):Se(a,function(e,t){e&&de(e)&&1<e.length&&"success"==e[1]&&(a[t]=le(e[0]))}),oe.log(a.__now()));var e,t=Y("dataProcess","process");if(t&&fe(t)&&(t=be(window,t)),V.modelOriginal=Oe({},L),V.model=L,t&&pe(t)){var n=Oe({},app[J]||{},B||{});a.unshift(L),e=t.apply(n,a)}else A&&(oe.warn(J,".dataPreProcessAsync without dataProcess. Merging responses."),a.unshift(L),ke.apply(_,a));if(V.model=he(e)?L:e,ue(V.model)||(V.model=V.modelOriginal),oe.log(J,"Final Template Data:",V.model),J){if(ue(app)&&app.hasOwnProperty(J)){var r=ke({},ue(V.model)?V.model:{_noname:V.model});r.hasOwnProperty("spaComponent")?app[J].$data={}:app[J].$data=X.extend$data?ke({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,r):{},app[J].__global__=window||{}}V.model._this=ke({},be(window,"app."+J,{})),V.model._this_=ke({},ae.components[J]||{},B)}V.model._global_=window||{};var i,o=V.model,s=($(I).html()||"").replace(/_LINKTAGINTEMPLATE_/g,"link"),l=X.templateScript||ae.defaults.components.templateScript,c=(s=l?s.replace(/_BlockedScript_ src-ref="([^"])*"/g,"script").replace(/_BlockedScript_/g,"script"):s.replace(/<\/_BlockedScript_>/g,"&lt;/_BlockedScript_&gt;")).match(/({\s*\@\$(.*?)\s*})/g);!X.skipDataBind&&c&&Se(c,function(e){s=s.replace(new RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\@\$/g,"_global_.app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(J||"")+"."))});var d,p,u=s.match(/({\s*\$(.*?)\s*})/g);if(!X.skipDataBind&&u&&Se(u,function(e){s=s.replace(new RegExp(e.replace(/\$/,"\\$"),"g"),e.replace(/{\s*\$this|{\s*\$/g,"app.").replace(/}/,".").replace(/\s/g,"").replace(/\.\./,"."+(J||"")+"."))}),i=s,oe.groupCollapsed("Template Source ..."),oe.log(s),oe.groupEnd("Template Source ..."),oe.log("DATA for Template:",o),!ge(o))if(X.skipDataBind)oe.log("Skipped Data Binding.");else{if(X.dataTemplatesCache||(delete ae.compiledTemplates4DataBind[J],delete ae.compiledTemplates[J]),!ae.compiledTemplates4DataBind.hasOwnProperty(J)&&/ data-bind\s*=/i.test(s)){s=s.replace(/<img /gi,"<IMG-X-TMP ").replace(/<iframe /gi,"<IFRAME-X-TMP ").replace(/<\/iframe/gi,"</IFRAME-X-TMP").replace(/{{/g,">\x3c!--_XHBTINSPA_{{").replace(/}}/g,"}} _XHBTINSPA_--\x3e"),oe.log("TemplateBeforeBind",s);var f=ue(o)?ke({},X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,o):o;oe.log("SPA built-in binding ... ...",f),s=De(s=ae.bindData(s,f,"$"+J)),oe.log("TemplateAfterBind",s),ae.compiledTemplates4DataBind.hasOwnProperty(J)||(ae.compiledTemplates4DataBind[J]={}),d=!0}if(0<=te.indexOf("handlebar")||0<=te.indexOf("{"))if("undefined"!=typeof Handlebars&&Handlebars){oe.groupCollapsed("Data bind using handlebars on Template ..."),oe.log(s),oe.groupEnd("Data bind using handlebars on Template ...");try{var h=ae.compiledTemplates[J]||Handlebars.compile(s),m=ue(o)?ke({},V,X.dataDefaults,X.data_,X.dataExtra,X.dataXtra,X.dataParams,o):o;p=m,ae.compiledTemplates.hasOwnProperty(J)||(ae.compiledTemplates[J]=h),i=h(m),oe.log(i)}catch(e){console.error("Error in Template",e)}}else oe.error("handlebars.js is not loaded.")}oe.groupCollapsed("Compiled Template ..."),oe.log(i),oe.groupEnd("Compiled Template ..."),K=!1,V.view=i.replace(/\_\{/g,"{{").replace(/\}\_/g,"}}");var g=J?ke({},app[J]||{},{__prop__:ke({},B||{})}):{};g.__prop__&&g.__prop__.data&&(delete g.__prop__.data._global_,delete g.__prop__.data._this_,delete g.__prop__.data._this),V.model&&(delete V.model._global_,delete V.model._this_,delete V.model._this),ae.renderUtils.runCallbackFn(ae.defaults.components.render,w,g);var v,b,y,C,S=Y("dataBeforeRender","beforeRender");if(S){var w={template:s,data:V.model,view:V.view};if(!he(v=ae.renderUtils.runCallbackFn(S,w,g)))switch(ce(v)){case"string":V.view=v;break;case"boolean":b=!v}}if(y=V.view.beginsWithStr("\x3c!----\x3e"),b)V={},oe.warn("Render aborted by "+S);else if(!y){var x=G.attr("data-rendered-component");x&&!ae.removeComponent(x,J)&&(b=!0,V={},oe.warn("Render $"+J+" aborted by $"+x+".onRemove()"))}if(!b){if(y)oe.log("Rendering component [",J,"] view aborted.");else{var O=Y("dataRenderType","renderType");switch(oe.log("Injecting component in DOM (",M,")."+(O||"html")),O){case"value":$(M).val(V.view);break;case"text":$(M).text(V.view);break;default:switch(K=!0){case Q.equalsIgnoreCase("append"):$(M).append(V.view);break;case Q.equalsIgnoreCase("prepend"):$(M).prepend(V.view);break;default:$(M).html(V.view)}}}$(M).attr("data-rendered-component",J).data("renderedComponent",J),C=J,C=String(C).replace(/[^a-z0-9]/gi,"_"),app[C]&&(app[C].__renderCount__=ae.toInt(ae.$renderCount(C))+1),oe.info("Render: SUCCESS");var k=Ce(ae.renderHistory),T=k.length;if(T>ae.renderHistoryMax&&Se(k.splice(0,T-ae.renderHistoryMax),function(e,t){delete ae.renderHistory[t]}),V.cron=""+ve(),0<ae.renderHistoryMax&&(ae.renderHistory[V._renderId]=V),K&&!y&&(ae.renderUtils.registerComponentEvents(J),$(M).find(".lang-icon,.lang-text,[data-i18n-lang]").length&&ae.i18n.displayLang(),la(M),d||ae.bindData(M,p,"",!0),ae.i18n.apply(M),function(e){var t=(ae.sesStore.get("_spaReloadUrl")||"").trim();if(e&&0!=t.indexOf(e))return;if(t)return ae.sesStore.remove("_spaReloadUrl"),t=t.replace(/.*#/gi,""),ae.route(t,!0),1}(J)))return V;oe.log(V);var E=Z("renderCallback");X.dataRenderCallback&&(E=X.dataRenderCallback);var P=fe(E)&&E.equalsIgnoreCase("off");oe.info("Processing callback: "+E),P||ae.renderUtils.runCallbackFn(E,V),ae.renderUtils.runCallbackFn(ae.defaults.components.callback,V,g),function(a){var e=$("body").find('[render-after*="'+a+'"]');if(e.length){var n="";e.each(function(e,t){(n=(" "+ie(t,"render-after").replace(/,/g," ").replace(/\s+/g," ")+" ").replace(" "+a+" ","").trim())?ie(t,"render-after",n):(t.removeAttribute("render-after"),ae.renderComponentsInHtml(t,"",!0))})}}(J),K&&!y&&($(M).find("[rel='spaRender'],[data-render],[data-sparender],[data-spa-render]").spaRender(),ae.renderComponentsInHtml(M,J))}}):pe(app.api.onResError)?app.api.onResError(h[p],"Invalid-Data",void 0):ae.api.onResError(h[p],"Invalid-Data",void 0)}catch(e){console.error(e)}oe.groupEnd("spaRender["+te+"] - xsr.renderHistory["+V._renderId+"]")}).fail(function(){console.error("External Data|Template|Style|Script Loading failed! Unexpected!! Check the template Path / Network. Rendering aborted.")})}else oe.error("No templates defined [data-templates] in view container ["+M+"] to render. Check HTML markup.");oe.groupEnd("spaView")},function(){console.error("External Scripts Loading Failed! Unexpected!? Check the Script Path/Network.")}),V}if((B=ke({},M)).hasOwnProperty("target"))M=B.target,delete B.target;else{var C=$('[data-rendered-component="'+B.componentName+'"]').attr("id");(M=(C?"#":"")+C)||(console.warn("Render target is missing."),M="dynRender_"+ve()+"_"+ae.rand(1e3,9999))}ae.render(M,B)}function S(e,t,a){fe(X[e])&&X[e]=="app."+J+t&&app[J].hasOwnProperty(a)&&(X[e]="app."+J+"."+a)}},ae.initElementsIn=lt;var dt=/\r?\n/g,pt=/^(?:input|select|textarea|keygen)/i,ut=/^(?:submit|button|image|reset|file)$/i,ft=/^(?:checkbox|radio)$/i;function ht(e,t){var a="",n=t||be(window,"app.api.liveApiPrefix",""),r=e.beginsWithStr("!");if(e=e.trimLeftStr("!"),n){var i,o,s=[],l=0;if(fe(n)?s=n.split(","):de(n)&&(s=n),0<(i=s.length))for(;!a&&l<i;)a=(o=s[l++].trim())&&(e.beginsWithStr(o)||!mt(e)&&0<e.indexOf(o))?o:"";else a=e.beginsWithStr(n)||!mt(e)&&0<e.indexOf(n)?n:""}else r&&(a="??");return a}function mt(e){var t=e.getLeftStr(6).toLowerCase();return!(t.beginsWithStr("http:")||t.beginsWithStr("https:")||t.beginsWithStr("//"))}function gt(i,e,t){i.url.beginsWithStr(ae.api.urlKeyIndicator)&&(i.url=ae.api.url(i.url.trimLeftStr(ae.api.urlKeyIndicator),i.data));var a,n=i.url;be(window,"app.api.reqHeaders")&&(i.beforeSend=function(e){var t,a,n,r;t=e,a=i,n=be(window,"app.api.reqHeaders"),ue(r=pe(n)?n(t,a):n)?Se(Ce(r),function(e){t.setRequestHeader(e,r[e])}):fe(r)&&(ht(a.url)?(a.data=a.data||"",a.data+=(ge(a.data)?"":"&")+r):t.setRequestHeader("reqHeadersInLiveUrl",r))}),"script"==i.dataType||i.hasOwnProperty("error")||(i.error=app.api.onError||ae.api.onReqError);var r,o="",s=/({+)([^}])*(}+)/;if(ae.api.mock||app.api.mock||n.beginsWithStr("!"))if(n.beginsWithStr("~"))i.url=(mt(n.trimLeftStr("~"))&&ae.api.baseUrl||"")+n.trimLeftStr("~")+(ae.api.liveUrlSuffix||""),ae.api.baseUrl&&(i.crossDomain=!0);else{var l=("/"+(i.method||i.type).toUpperCase()).replace("/GET","");if(i.type=i.method="GET",o=ht(n),n=n.trimLeftStr("!"),o){if(n.containsStr("\\?")||(n=n.trimRightStr("/")+"?"),s.test(n)){oe.log("URL has undefined params >>",n,i.data);try{r=fe(i.data)?JSON.parse(i.data):i.data,n=ae.api.url(n.replace(/{{/g,"{").replace(/}}/g,"}"),r)}catch(e){}oe.log("Updated URL>>",n)}var c=function(e,t,a){if(e=e||"/",t=t||"","??"===(a=a||ht(e))){var n=e.indexOf("//");n<0?e=(a="/MOCK-ROOT/")+e.trimLeftStr("/"):a=e.substring(0,e.indexOf("/",n+2)+1)}var r="",i=be(app,"api.mockBaseUrl")||be(spa,"api.mockBaseUrl")||"",o=i?"":(be(app,"api.mockRootFolder")||be(spa,"api.mockRootFolder")||"api_").trimRightStr("/")+"/",s=be(app,"api.mockDataFile")||be(spa,"api.mockDataFile")||"";if(r=(e||"").replace(/[\{\}]/g,"").replace(RegExp("(.*)(/*)"+a.trimLeftStr("/")),o).replace(/(\/)*\?/,t+"/"+s+"?").replace(/\?$/,""),i){i=i.trimRightStr("/")+"/";var l=r.indexOf("//");l<0?r=i+r:l<7&&(r=i+r.substr(r.indexOf("/",r.indexOf("//")+2)+1))}return r}(n,l,o);i.url=c,(app.api&&app.api.debug||app.debug||spa.debug)&&console.warn(">>>>>>Intercepting Live API URL: ["+n+"] ==> ["+c+"]"),a=!0}}else o=ht(n),(app.debug||spa.debug)&&console.log("actualUrl:"+n+",baseUrl:"+ae.api.baseUrl+",liveApiPrefix:"+o),o&&(i.url=(mt(n)&&ae.api.baseUrl||"")+n+(ae.api.liveUrlSuffix||""),ae.api.baseUrl&&(i.crossDomain=!0));if(oe.log("Remove mock params if any in URL>",i.url),i.url=i.url.replace(/{{([^}])*}}(\/*)/g,""),s.test(i.url)){oe.log("URL has undefined params>",i.url,i.data);try{r=fe(i.data)?JSON.parse(i.data):i.data,i.url=ae.api.url(i.url.replace(/{</g,"{").replace(/>}/g,"}"),r)}catch(e){}}oe.log("Final Ajax URL>",i.url),(s.test(i.url)||/<([^>])*>/.test(i.url))&&(console.warn("URL has undefined params >>",i.url,i.data),i.url=i.url.replace(/[{<>}]/g,"_"));var d=app.api.defaultPayload||ae.api.defaultPayload;if(d){var p,u,f=ce(i.data),h="string"==f?le(i.data):i.data;pe(d)?ue(p=d.call(i,h,i))&&(ge(u=JSON.parse(JSON.stringify(p)))||(i.data="string"==f?JSON.stringify(u):u)):(u=A(d,"object|array")?JSON.parse(JSON.stringify(d)):d,u=A(u,"object|array")&&A(h,"object|array")?ke({},u,h):u,i.data=ge(u)||"string"!=f?u:JSON.stringify(u))}if(ae.ajaxPreProcess&&ae.ajaxPreProcess(i,e,t),(ge(i.data)||fe(i.data)&&!/[a-z0-9]/i.test(i.data))&&(oe.log("REMVOING EMPTY PAYLOAD"),delete i.data),a){var m=fe(i.data)?i.data:JSON.stringify(i.data);m&&fe(m)&&6144<m.length&&(m="LAREGE-PAYLOAD-WITH-CHAR-LENGTH:"+m.length),i.headers=ke({},i.headers,{"Z-Live-URL":n,"Z-Payload":m}),delete i.data}(app.api&&app.api.debug||app.debug||spa.debug)&&console.log("ajax Options",i)}$.fn.extend({serializeToArray:function(){return this.map(function(){var e=$.prop(this,"elements");return e?$.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!$(this).is(":disabled")&&pt.test(this.nodeName)&&!ut.test(e)&&(this.checked||!ft.test(e))}).map(function(e,t){var a=ae.getElValue(t);return null==a?null:Array.isArray(a)?we(a,function(e){return{name:t.name,value:fe(e)?e.replace(dt,"\r\n"):e}}):{name:t.name,value:fe(a)?a.replace(dt,"\r\n"):a}}).get()},serializeUncheckedCheckboxes:function(e){var a,n,r,i,o="object"==typeof e,s=o?e:{},l=o&&!e?"":e;return $(this).find("input[data-unchecked]:checkbox:enabled:not(:checked)[name]").each(function(e,t){a=$(t),r=a.attr("name"),n=a.data("unchecked"),i=void 0===n?"":n,o?ae.appendToObj(s,r,i):l+=(l?"&":"")+r+"="+i}),o?s:l},serializeFormToJSON:z,serializeFormToObject:z,serializeFormToSimpleJSON:M,serializeFormToSimpleObject:M,i18n:function(e){return this.each(function(){e&&$(this).attr("data-i18n",e).data("i18n",e),ae.i18n.apply(this)}),this},spaRender:function(e){this.each(function(){ae.renderComponentsInHtml(this,e,!0)})},renameAttr:function(e,t){return this.each(function(){ie(this,t,ie(this,e)),this.removeAttribute(e)}),this},spa$:function(){return this.map(function(){return $(this).closest("[data-rendered-component]")})},spa$name:function(){var e=this.map(function(){return $(this).closest("[data-rendered-component]").attr("data-rendered-component")});return 1==e.length?e[0]:e},spaBindData:function(e,t){return ae.bindData(this,e,t)},inBlockedSpaNavContainer:function(){return!!this.closest(Lt).length},blockNav:function(){return Ft(this),this},allowNav:function(){return zt(this),this},isNavBlocked:function(){return Bt(this)},isNavAllowed:function(){return Vt(this)},disable:function(e){return e||he(e)?this.css("pointer-events","none").addClass("disabled").attr("disabled","disabled"):this.enable(!0)},enable:function(e){return e||he(e)?this.css("pointer-events","auto").removeClass("disabled").removeAttr("disabled"):this.disable(!0)},value:function(e,t){return he(e)?this.val():(this.each(function(){$(this).val(e).trigger(t||"change")}),this)},htm:function(e){return he(e)?this.html():(this.each(function(){$(this).html(ae.sanitizeScript(e))}),this)},dataJSON:function(e,t,a){var n;if(arguments.length){if(n=ue(n=le(this.data(e)))?n:{},!he(t)){n=a?t:ke(n,t);var r=JSON.stringify(n),i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();this.attr("data-"+i,r).data(e,r)}}else n=this.data();return n},isDisabled:function(e){var t=this.hasClass("disabled")||this.is("[disabled]");return t&&e&&e.call(this,this),t},isEnabled:function(e){var t=!this.isDisabled();return t&&e&&e.call(this,this),t},trackChanges:function(){ae.trackFormElChange(this)},isChanged:function(e){var t="ALL"==(e=(e||"ANY").toUpperCase()),a=!t,n=!1,r=this;if(r.length)for(var i=0;i<r.length;i++){var o=r[i].tagName.toUpperCase();if("FORM"==o)n=$(r[i]).find("input,textarea,select").isChanged(e);else if(0<"/INPUT/TEXTAREA/SELECT/".indexOf(o)){if(n=ae.isElValueChanged(r[i]),a&&n)break;if(t&&!n)break}}return n},initSpaRoutes:function(){na(this)},initFormValidation:function(){var e=this.filter("form");if(!e.length)return"Form Not Found";e.each(function(e,t){ct(t)})},validateForm:function(e,t,a){var n,r=this;if(1<r.length)n=[{errcode:1,errmsg:"Too many forms to validate."}];else if(1==r.length){var i="#"+r.attr("id");if("FORM"==(r.prop("tagName")||"").toUpperCase())if(fe(e)){var o=r.find(e).map(function(){return this.id}).get().join();n=ae.validateForm(i,o,t,a)}else n=ae.validateForm(i,e,t);else n=[{errcode:1,errmsg:"NOT a FORM"}]}else n=[{errcode:1,errmsg:"Form Not Found."}];return n},updateValidation:function(a,n){this.each(function(e,t){ae._validate._showValidateMsg(t,n,a)})},updateValidationPromise:function(e,t,a){ae.updateValidationPromise(e,this,a,t)}}),ae.initDataValidation=function(){oe.log("include validate framework lib (spa-validate.js) to use this feature!")},ae.doDataValidation=function(){oe.log("include validate framework lib (spa-validate.js) to use this feature!")},ae.properties={version:ae.VERSION},ae.api={baseUrl:"",liveUrlSuffix:"",urls:{},mock:!1,mockBaseUrl:"",mockRootFolder:"api_",mockDataFile:"data.json",defaultPayload:!1,forceParamValuesInMockUrls:!1,urlKeyIndicator:"@",url:function(e,r){e=(e||"").trimLeftStr(ae.api.urlKeyIndicator),r=r||{};var i,o,s,l,c=ae.api.urls[e]||e,d=c.beginsWithStr("!")||ae.api.mock||app.api.mock,p=c.beginsWithStr("!!")||c.beginsWithStr("~")||ae.api.forceParamValuesInMockUrls,t=c.extractStrBetweenIn("{","}",!0),u=[],f={url:c,urlParams:r};return ge(t)||Se(t,function(e){if(i=e.replace(/[{}<>]/g,"").trim()){if(0<i.indexOf("|")&&(i=(u=i.split("|").map(function(e){return e.replace(/\(.*\)/g,"").trim()})).shift()),0<i.indexOf(":")){var t=i.split(":");i=t[0].trim(),l=t[1].trim()}"#"==i[0]?o=ae.getElValue(i):(s=ge(r))||("string"==typeof(o=be(r,i,r._undefined))&&0==o.indexOf("$#")&&(o=ae.getElValue(o.substr(1))),o=!d||p||e.containsStr(">")?o:"_"+i);for(var a=0,n=u.length;a<n;a++)if(u[a])if("."==u[a][0])try{o=o[u[a].substr(1)]()}catch(e){console.error("Error parsing urlParam: "+o+u[a]+"()","param:",o,f,e)}else o=ae.renderUtils.runCallbackFn(u[a],o,f);void 0!==o&&"undefined"!==o||(o=l),s&&ge(u)||(c=c.replace(new RegExp(e.replace(/([^a-zA-Z0-9])/g,"\\$1"),"g"),""+o))}}),c},success:function(e){return[e,"success"]},isCallSuccess:function(){return!0},onReqError:function(e,t,a){oe.error([e,t,a]),oe.error($(e.responseText).text())},onResError:function(){},_call:function(n){var e=be(window,"app.api.ajaxOptions",{}),t=ue(n)&&n.hasOwnProperty("error")?n.error:app.api.onError||ae.api.onReqError;if((n=Oe({},e,n,{error:t,success:function(e,t,a){e=fe(e)&&"html"!=String(this.dataType).toLowerCase()?le(e):e,ae.api.isCallSuccess.call(this,e,this)?n._success.call(this,e,t,a):pe(app.api.onResError)?app.api.onResError.call(this,e,t,a):ae.api.onResError.call(this,e,t,a)}})).dataType||(n.dataType="text"),"json".equalsIgnoreCase(n.dataType)&&!n.contentType&&(n.contentType="application/json"),n.data&&ue(n.data)&&n.stringifyPayload&&(delete n.stringifyPayload,n.data=JSON.stringify(n.data)),n.defaultPayload){var a=ce(n.data),r=n.defaultPayload,i=pe(r)?r(o):ue(r)?ke({},r):r,o="string"==a?le(n.data):n.data;if(ue(i)){var s=ue(o)?ke({},i,o):i;ge(s)||"string"!=a||(s=JSON.stringify(s)),n.data=s}}return n.url.beginsWithStr(ae.api.urlKeyIndicator)&&(n.url=ae.api.url(n.url.trimLeftStr(ae.api.urlKeyIndicator),n.data)),(app.api&&app.api.debug||app.debug||spa.debug)&&console.info(["API(ajax) call with options",n]),ba(n)},_params2AxOptions:function(){var t,a,n,r,i={method:"GET",url:"",data:{},_success:function(){},async:!0};return Se(arguments,function(e){switch(!0){case fe(e):t="url",i.url&&(a=!0,t="data");break;case pe(e):t=r?"error":(r=!0,"_success");break;case w(e):t="async";break;case ue(e):a||e.__hasPrimaryKeys("ajaxOptions|dataUrlParams")?(t="axOptions",n=e.hasOwnProperty("ajaxOptions")?e.ajaxOptions:e):(t="data",a=!0);break;default:t="unknown"}"axOptions"!=t&&(i[t]=e)}),n&&(n.dataUrlParams&&((""+i.url).beginsWithStr(ae.api.urlKeyIndicator)&&(i.url=ae.api.url(i.url.trimLeftStr(ae.api.urlKeyIndicator),n.dataUrlParams)),delete n.dataUrlParams),ke(i,n)),oe.log("API ajax options >>"),oe.log(i),i},get:function(){return ae.api._call(ae.api._params2AxOptions.apply(void 0,arguments))},post:function(){return ae.api._call(Oe(ae.api._params2AxOptions.apply(void 0,arguments),{method:"POST"}))},put:function(){return ae.api._call(Oe(ae.api._params2AxOptions.apply(void 0,arguments),{method:"PUT"}))},del:function(){return ae.api._call(Oe(ae.api._params2AxOptions.apply(void 0,arguments),{method:"DELETE"}))},mix:function(){for(var e=[],t=arguments[arguments.length-1],a=0;a<arguments.length;a++)de(arguments[a])?e=e.concat(arguments[a]):pe(arguments[a])||e.push(arguments[a]);return ma.apply($,e).done(function(){var a=ne.slice.call(arguments);1==e.length&&1<a.length&&"success"==a[1]?(a[0]=le(a[0]),a.splice(1)):Se(a,function(e,t){e&&de(e)&&1<e.length&&"success"==e[1]&&(a[t]=le(e[0]))}),t&&pe(t)&&t.apply(void 0,a)})}},ae.i18n.onLangChange,ae.i18n.displayLang=function(){var e=$("html").attr("lang");if(e){var t=e,a=e.replace("-","_"),n=$('[data-i18n-lang="'+t+'"],[data-i18n-lang="'+a+'"]'),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+a,i="-";$(".lang-text").attr("data-i18n",r).data("i18n",r),$("[data-i18n-lang]").removeClass("active"),n.length&&(n.addClass("active"),i=($(n[0]).data("i18nLang")||"").replace(/[a-z]/gi,""),$(".lang-icon").removeClass(ne.join.call($("[data-i18n-lang]").map(function(e,t){return $(t).data("i18nLang")})," "))),$(".lang-icon").addClass("-"==i?t:a),ae.i18n.apply(".lang-text")}return e};var vt={},bt={pub:function(a,e,n,r){var i,o;pe(e)?(r=n,n=e):i=e;var s,l,c=0,d=[];return Se(vt[a],function(t){try{c++,s=t.fn,l=null,s&&(l=s.call(i||{},a,i,n,r)),d.push({id:""+(t.name||c),response:l}),!o&&w(l)&&(o=!l)}catch(e){console.warn("Execution error in subscribed function:"+t.name+" on-"+a),console.error(e.stack)}}),o?r&&pe(r)&&r(d):n&&pe(n)&&n(d),d},sub:function(e,t,a){return vt.hasOwnProperty(e)||(vt[e]=[]),vt[e].push({fn:t,name:a}),vt[e].length},unSub:function(e,t){var a=!1;return vt.hasOwnProperty(e)&&(a=!0,t?vt[e][t-1]=null:vt[e]=[]),a}};ae.event={on:bt.sub,off:bt.unSub,trigger:bt.pub,announce:bt.pub};var yt,Ct,St="#",wt="",xt=!0,Ot=[],kt=100,$t=!1,Tt="",_t="",Et=!1,Pt="",Rt="",At="",Lt="",It="",Ut="",Nt="",jt=!1,Dt="";function Ft(e){var t=$(e||"body :first");return t.addClass(At),yt=Bt()||!0,t}function zt(e){var t=$(e||Lt);return t.removeClass(At),t.find(Lt).removeClass(At),yt=Bt(),t}function Mt(){return!Ct}function Bt(e){if(e){var t=$(e);return t.hasClass(At)||0<t.find(Lt).length}return!!$(Lt).length}function Vt(e){return!Bt(e)}function Ht(){yt&&Qt(Tt)}var Kt="x"+ve();function Wt(e){var t;t=ae.urlHashFull(St),oe.log("on Hash Change: Url To [",t,"] from[",Tt,"] on click:",$t," block-Navigation:",yt,"isDelayed:",Et),!$t&&yt?(oe.log("-------------\x3e",Tt,t,Et,Pt),oe.log("lastBlocked:",Rt),Rt=Rt||Tt,"#"==St[0]?(Qt(Et?Pt:Tt,t),Rt==t&&Jt(t)):(Qt(Et?Pt:Tt,t),Jt(t))):(oe.log("Triggering next hash... by href:",jt,"autoRoute:",xt,"byClick",$t),Zt(xt||!$t)),_t=_t&&_t!=Kt?(oe.warn("Blocked:",_t),Kt):(_t!=Kt&&(ae.onUrlHashChange?ae.onUrlHashChange(ae.urlHash([],St),e):ae.onUrlChange&&ae.onUrlChange(ae.urlHash([],St),e)),"")}function qt(){var e,t;switch(ae.onReload&&(e=ae.onReload()),ce(e)){case"boolean":if(!e)return t="xsr.message.on.window.reload",ae.i18n.text(t).replace(t,"");break;case"string":return(e=e.trim())&&(t=e.beginsWithIgnoreCase("i18n")?e.replace(/i18n(:)*/i,""):"")?ae.i18n.text(t).replace(t):e;default:if(t="xsr.message.on.window.reload",yt)return ae.i18n.text(t).replace(t,"")}}function Jt(e,t){var a,n,r,i,o,s;Rt=e,oe.log("Trying to navigate away from:["+Tt+"] To:["+e+"] by",t),$(Lt).each(function(){a=$(this),"#"==(n=(a.attr(Dt)||"").trim())[0]||">"==n[0]?(r=">"==n[0]?n.substr(1).trim():n,(i=a.find(r).filter(":not(.disabled):not(:disabled)")).length&&(t&&(s="id:'"+t.attr("id")+"', spaRoute:'"+t.attr(Ut)+"'"),i.data("navToUrl",e).attr("data-nav-to-url",e),i.data("navBy",s).attr("data-nav-by",s),i.trigger("click"))):(o=be(window,n.split("(")[0].split(";")[0]))&&pe(o)&&o.call(a,e,a,t)})}ae.blockNav=Ft,ae.allowNav=zt,ae.isNavBlocked=Bt,ae.isNavAllowed=Vt,ae.isToShowNav=Mt,ae.isInBlockedSpaNavContainer=function(e){return!!$(e).closest(Lt).length},window.onerror=function(e,t,a){console.warn("Invalid Content: Check the network/path/content.",e,t,a)};var Xt=[];function Gt(e,t){var a=0<=e.indexOf(":"),n=t;if(w(t)&&(n=t?"click":""),a){var r,i,o=a?e.split(":")[0]:"",s={};Se(0<e.indexOf("&")?e.split("&"):0<e.indexOf(",")?e.split(","):[e],function(e){r=e.split(":")[0],i=e.getRightStr(":"),s[r]=decodeURIComponent(i)});var l=$("["+Ut+'*="/'+o+':"]['+Nt+"]"),c=(l.attr(Nt)||"").trim();if(a=!ge(c))Xt.push(e),Se(le(c),function(e,t){if(e=e.trim(),/(^app\.(.)+\.)|(^\$)|(^\#)/.test(e))ae.setElValue(e,s[t]);else if(/^fn:/i.test(e)){var a=e.split(" ")[0].getRightStr(":").trim().split("(")[0];(a=a?be(window,a):"")&&pe(a)?a(t,s[t]):console.warn("Not a function",e)}}),n&&l.isEnabled()&&!l.hasClass("AUTO-ROUTING")&&l.trigger(n)}return a}function Zt(e){e&&(Ot=[],kt=50),xt=he(e)?xt:e;var t,a,n,r=ae.urlHash([],St),i=r.length-1;if(kt<0&&(xt=!1),xt){kt--;for(var o=i;0<=o&&(n=r[o-1]||"",xt&&0<n.indexOf(":")&&!Ot.__has(n)&&o--,t=r[o],a=o==i,xt&&!Ot.__has(t));o--)if(t){var s=0<=t.indexOf(":"),l=s?t.split(":")[0]:"",c="["+Ut+'$="/'+t+'"]:not(:disabled):not(.disabled):not(.AUTO-ROUTING):first';s&&(c="["+Ut+'*="/'+l+':"]['+Nt+"]");var d=$(c);if(d.length){if(s=s&&Gt(t),Ot.push(t),xt=!a,d.isEnabled()&&!d.hasClass("AUTO-ROUTING")&&d.addClass("AUTO-ROUTING").trigger(d.data("routeEvent")||"click"),a){Q="";break}o+=2}}}$t=!1}function Yt(e,t){oe.log("_updateBrowserAddress >>>>>>>>>[",e,"]delay:",t,"prev:",Tt);var a="#"==St[0];if(e)if(Tt=e,a){oe.log(e);var n=$("#_spaRouteLink_");n.length||(n=$('<a id="_spaRouteLink_" href=""></a>'),$("body").append(n)),oe.log("################# "+e),n.attr("href",e)[0].click()}else oe.log(e),"#"!=(e=e.trimLeftStr("/"))[0]&&(e="//"+window.location.host+ee("/",e),oe.log("updating the address bar with >>>>>",e)),oe.log(">>>>>>>>>>>>>>>>> "+e),history.pushState(null,null,e)}function Qt(e,t){e!=t&&(oe.log("attempt to set URL:",e,"insteadOf",t),_t=t,Yt(e))}function ea(e){if(!(e=(e||"").trim()))return[];var t=ae.urlHash([],St),a=e.trimStr("/").split("/"),n=[],r=a[0];function i(e,t){var a=t,n=t.getLeftStr("*");if(n)for(var r=0;r<e.length;r++)if(e[r].beginsWithStr(n)){a=e[r];break}return a}var o=t.indexOf(r);if(0<r.indexOf("*")){r=r.getLeftStr("*");for(var s=0;s<t.length;s++)if(t[s].beginsWithStr(r)){o=s;break}}if(0<=o){for(var l,c=t.splice(o),d=0;d<a.length;d++)l=a[d].indexOf("*"),n[d]=l<0?a[d]:l?i(c,a[d]):c[d];n=t.concat(n)}else n="/"==e[0]?a:t.concat(a);return n}function ta(e){var a,n,r,i,o,t,s,l=ae.urlHash([],St),c=$(this);if(c.hasClass("disabled")||c.is(":disabled"))return e.stopImmediatePropagation(),e.stopPropagation(),void e.preventDefault();function d(e,t){"#"==(a=(e||"").trim())[0]&&(a=a.substr(1)),n="<"==a[0],r=">"==a[0],i=t||a[r?1:0],o=a.substr(r?2:1),s=!1}"#"!=St[0]&&e.preventDefault(),d(c.attr(Ut),c.attr("data-route-dir"));var p,u=(c.attr(Nt)||"").trim();u&&Se(le(u),function(e,t){if(/(^app\.(.)+\.)|(^\$)|(^\#)/.test((p=e).trim()))p=ae.getElValue(e);else if(/^fn:/i.test(e.trim())){var a=e.split(" ")[0].getRightStr(":").trim().split("(")[0];(a=a?be(window,a):"")&&pe(a)?p=a(t):console.warn("Not a function",e)}o=o.replace(new RegExp(t+":","g"),t+":"+encodeURIComponent(p))});if(ot(this,"onrouteclick"),c.hasClass("AUTO-ROUTING"))c.removeClass("AUTO-ROUTING");else{switch("^"==i&&(ge(l)?d(a.substr(1)):(e.preventDefault(),s=!0,i="/",o=ae.urlHash("",St))),"#/-<>".indexOf(i)<0&&(o=i+o,i="?"),i){case"#":case"/":l=ea(o);break;case"-":var f=ae.toInt(o.replace(/[^0-9]/g,""))||1;l.length&&(l.length=l.length-f);break;case"<":t=Tt;break;case"?":l=ea(o)}var h,m,g;n||(t=ee(St,l.join("/"))),yt&&(n||c.hasClass(It)||c.inBlockedSpaNavContainer()||(r=!0,Jt(t,c))),oe.log("Routing to...",t,"delay:",r,"prev:",Tt),h=t,m=r,g=s,oe.log("Updating url with:",h,"delay:",m,"autoRoute:",g),xt=g,Pt=(Et=m)?Tt:"",m?Tt=h:($t=!0,ae.isToShowNav()?xt||Yt(h,m):Tt=h)}}function aa(){ae.route(ie(this,Ut+"-AUTO").substr(1))}function na(e){$(e||"body").find("["+Ut+'^="*"]:not(.ROUTE):not(.ROUTE-AUTO)').renameAttr(Ut,Ut+"-AUTO").addClass("ROUTE-AUTO").on("click",aa);var t,a,n,r=$(e||"body").find("["+Ut+"]:not(.ROUTE)").renameAttr("onclick","onrouteclick").addClass("ROUTE").off("click",ta).on("click",ta);jt&&r.length&&r.each(function(){t=$(this),a=t.attr("href").replace(/\s*/g,"").trim(),n="","#"==a[0]?0<="^><-".indexOf(a[1])&&(n=a[1],a=a.substr(2)):0<="^".indexOf(a[0])&&(n=a[0],a=a.substr(1)),t.attr("href","#"+a).removeAttr("target").attr("data-route-dir",n)});Zt(),yt=ae.isNavBlocked()}function ra(e){if(e=(e||"").trim()){var t,a,n=e[0],r=1;switch("#/-<>".indexOf(n)<0&&(n="?",r=0),t=e.substr(r),n){case"/":a=ea(t);break;case"-":a=ae.urlHash([],St);var i=ae.toInt(e.replace(/[^0-9]/g,""))||1;a.length&&(a.length=a.length-i);break;case"?":a=ea(t);break;default:a=[t]}return ee(St,a.join("/"))}}function ia(s){function a(t,e){function o(e,t){e=(""+e).trim();var a=/^\[(.)+]$/.test(e);if(0<e.indexOf(".")){a&&(e=e.slice(1,-1));var n=e.split(".").map(function(e){return e.trim()}),r=n.shift();a&&(r="["+r+"]");o(r,0<=Object.keys(s).indexOf(r)?ae.objProp(l(r),n.join("."),t):ae.objProp({},n.join("."),t))}else{var i=JSON.stringify(t);a&&(i=X(i)),s.setItem(e,i)}}1==arguments.length?c(t,"object")?Object.keys(t).forEach(function(e){o(e,t[e])}):c(t,"array")&&t.forEach(function(e,t){o(t,e)}):2==arguments.length&&o(t,e)}function l(e){if(0==arguments.length)return i();if(1!=arguments.length)return i.apply(null,arguments);if(c(e,"string")){if(0<(e=e.trim()).indexOf(","))return i.apply(null,e.split(","));if(0<e.indexOf(".")){var t=/^\[(.)+]$/.test(e);t&&(e=e.slice(1,-1));var a=e.split(".").map(function(e){return e.trim()}),n=a.shift();return t&&(n="["+n+"]"),be(l(n),a.join("."))}var r=s.getItem(e);return/^\[(.)+]$/.test(e)&&(r=function(e){if(ae.strUnzip)return ae.strUnzip(e);for(var t,a={},n=(e+"").split(""),r=n[0],i=r,o=[r],s=256,l=1;l<n.length;l++){var c=n[l].charCodeAt(0);t=c<256?n[l]:a[c]?a[c]:i+r,o.push(t),r=t.charAt(0),a[s]=i+r,s++,i=t}return o.join("")}(r)),JSON.parse(r)}return c(e,"array")?i.apply(null,e):void 0}function i(){var t=arguments.length,a=ne.slice.call(arguments).map(function(e){return(""+e).trim()}),n={};return Object.keys(s).forEach(function(e){(!t||-1<a.indexOf(e))&&(n[e]=l(e))}),n}function n(){if(arguments.length){var t=ne.slice.call(arguments).map(function(e){return(""+e).trim()});Object.keys(s).forEach(function(e){t.indexOf(e)<0&&s.removeItem(e)})}else s.clear()}function c(e,t){var a=d.toString.call(e).split(" ")[1].toLowerCase().replace(/\]$/gi,"");return 2==arguments.length?-1<(""+t).toLowerCase().indexOf(a):a}function e(e,t){return 0==arguments.length?i():1==arguments.length?c(e,"object|array")?(a(e),e):l(e):2==arguments.length?(a(e,t),l(e)):void 0}return e.set=a,e.get=l,e.getAll=i,e.remove=function(e){function t(){arguments.length&&ne.slice.call(arguments).forEach(function(e){s.removeItem(e)})}var a;0==arguments.length?n():1==arguments.length?c(e,"string")?0<e.indexOf(",")?t.apply(null,e.split(",")):(a=e,s.removeItem(a)):c(e,"array")&&t.apply(null,e):t.apply(null,arguments)},e.removeAll=n,e.removeExcept=n,e.clear=n,e.clearExcept=n,e}ae.parseRoutes=ea;try{ae.sesStore=ia(sessionStorage)}catch(e){console.warn("No Access to sessionStorage.",e)}try{ae.locStore=ia(localStorage)}catch(e){console.warn("No Access to localStorage.",e)}function oa(){var e=this,t=$(e),a=ae.getElValue(e),n={},r=t.spa$()[0],i=t.spa$name(),o="2way".equalsIgnoreCase(ae.components[i].dataBindType);e.classList.add("DATA-MODEL-CHANGE-SRC");var s,l,c,d,p,u,f=(l="value|$",p=ie(s=e,"data-bind"),u="",p&&!p.containsStr(":")&&(p=je(s)+":'"+p+"'"),(c=le(p||"{}"))&&!me(c)&&K(Ce(c),function(e){return!u&&new RegExp(l,"i").test(e)&&(d=c[e].split("|"),u=d.shift().trim()),!!u}),u);ae.setSimpleObjProperty(n,f,a),o&&(ke(ae.$data(i),n),app[i].is$DataUpdated=ae.components[i].is$DataUpdated=!0),ae.bindData(r,n,'[data-bind*="'+f+'"]:not(.DATA-MODEL-CHANGE-SRC)',!0),e.classList.remove("DATA-MODEL-CHANGE-SRC"),o&&ae.renderUtils.runCallbackFn("app."+i+".$dataChangeCallback",app[i].$data,app[i])}function sa(e,t){function a(e,t){$(e).on((ie(e,"data-bind-event")||t).toLowerCase(),oa)}var n="[data-bind]:not(.SPA-DATA-BOUND)",r=$(e||"body").find((t||"")+" "+n);r.length||t||(r=$(e+n)),r.length&&(r.filter("textarea,input:not([type=radio]):not([type=checkbox])").addClass("SPA-DATA-BOUND").each(function(){a(this,"keyup")}),r.filter("select,input[type=radio],input[type=checkbox]").addClass("SPA-DATA-BOUND").each(function(){a(this,"change")}))}function la(e){var t;U("",e),$(e||"body").find("[onKeyPause]:not([onKeyPauseReg])").each(function(e,t){$(t).attr("onKeyPauseReg","").on("input propertychange paste",function(){var a=this,e=+((""+ie(a,"data-pause-time")).replace(/[^0-9]/g,"")||"1250");f&&clearTimeout(f),f=setTimeout(function(){var e=ie(a,"onKeyPause").split("(")[0],t=be(window,e);t&&t.call(a,a)},e)})}),lt(e),ae.initTrackFormElChanges(e),t=e,ae.hasOwnProperty("initDataValidation")?$(t||"body").find("[data-validate-form],[data-validate-scope],form:has([data-validate])").filter(":not([data-validation-initialized])").each(function(e,t){ct(t)}):console.warn("SPA validation module is not loaded."),na(e),ae.initTogglePassword(e),sa(e),function(){for(var e,t=ae.urlHash([],St),a="",n=0;n<t.length;n++)a=t[n],0<=(e=Xt.indexOf(a))?Xt.splice(e,1):Gt(a,n==t.length-1)}()}function ca(){window.onpageshow=Ht,r?window.onhashchange=Wt:window.onpopstate=Wt,is(window,"window")&&(window.onbeforeunload=qt),function(){$(document).on("click","[data-i18n-lang]",function(){var e=$(this).data(),a=e.i18nLang||"",n=(e.i18nLang||"").replace("-","_"),r=($("body").attr("i18n-lang-key-prefix")||"lang.name.")+n;Ae(n,{callback:function(){var e="-",t=$("[data-i18n-lang]:first");t.length&&(e=(t.data("i18nLang")||"").replace(/[a-z]/gi,"")),$(".lang-text").attr("data-i18n",r).data("i18n",r),$(".lang-icon").removeClass(ne.join.call($("[data-i18n-lang]").map(function(e,t){return $(t).data("i18nLang")})," ")).addClass("_"==e?n:a),$("[data-i18n-lang]").removeClass("active"),$('[data-i18n-lang="'+a+'"],[data-i18n-lang="'+n+'"]').addClass("active"),ae.i18n.apply(".lang-text")}})});var e=($("body").attr("i18n-lang")||"").replace(/ /g,""),t=e.split(",")[0];if(e){if("*"==t&&(t=ae.i18n.browserLang(),(","+e.toLowerCase()+",").indexOf(","+t.toLowerCase()+",")<0)){t=t.getLeftStr(2).toLowerCase();for(var a=e.split(","),n="",r="",i=0;i<a.length;i++)if(0==(n=(a[i]||"").trim()).toLowerCase().indexOf(t)){r=n;break}t=r||(e.split(",")[1]||"")}t&&(Ae(t,{},!0),setTimeout(function(){ae.i18n.displayLang()},500))}}(),la("body"),ae.i18n.apply("body")}function da(){(re=!!Ce(app.api).length)&&oe.log("Initializing app.api");var e=be(window,"app.api.baseUrl");ge(e)||(ae.api.baseUrl=e);var t=be(window,"app.api.urls");if(ge(ae.api.urls)&&!ge(t)&&(ae.api.urls=app.api.urls),!ge(ae.api.urls)){var a=be(window,"app.api.liveApiPrefix|app.api.mockRootAtPaths");if(!ge(a)){var n,r,i=de(a)?a:(""+a).split(",");Se(i,function(a,e){a=a.trim(),"!"!=(n=a[0])&&"~"!=n||(a=a.substr(1),Se(ae.api.urls,function(e,t){"!"!=(r=e[0])&&"~"!=r&&(0==e.indexOf(a)||0<e.indexOf("/"+a))&&(ae.api.urls[t]=n+e)})),i[e]=a}),app.api.liveApiPrefix=i,delete app.api.mockRootAtPaths}}}function pa(){function t(e){if(spa[e])return spa[e]()}ha(t("onInit")).done(function(){if(ae.env&&"dev".equalsIgnoreCase(ae.env)){var e={components:{templateCache:!(ae.api.mock=!0),callback:function(){console.log("spa$>",this.__prop__.componentName)}}};ae.defaults.set(e)}ha(ca()).done(function(){ha(t("onInitComplete")).done(function(){ha(t("onReady")).done(ae.renderComponentsInHtml)})})})}function ua(){var t,e=$("body"),a=e[0],n=e.data();ge(n)||(n.spaDefaults=le(ie(a,"data-xsr-defaults")||ie(a,"data-spa-defaults")||{}),Se(Ce(ae.defaults),function(e){e.equalsIgnoreCase("set")||ge(t=n.spaDefaults[e]||n["spaDefaults"+e.toTitleCase()])||ke(ae.defaults[e],le(t))})),Tt=ae.urlHashFull(St),St=(be(spa,"defaults.routes.base","")||"#").trim(),At=(be(spa,"defaults.routes.className.block","")||"BLOCK-SPA-NAV").trim(),Lt="."+At,It=(be(spa,"defaults.routes.className.allow","")||"ALLOW-SPA-NAV").trim(),wt=(be(spa,"defaults.routes.className.hide","")||"HIDE-SPA-NAV").trim(),Ut=(be(spa,"defaults.routes.attr.route","")||"data-spa-route").trim(),Nt=(be(spa,"defaults.routes.attr.params","")||"data-spa-route-params").trim(),jt=Ut.equalsIgnoreCase("href"),Dt=(be(spa,"defaults.routes.attr.onNavAway","")||"onNavAway").trim(),Ct=$("body").hasClass(wt),da()}ae.reload=function(e){e&&ae.sesStore.set("_spaReloadUrl",e||""),ae.allowNav(),window.location.reload()},ae.hasReloadUrl=function(){return!!(ae.sesStore.get("_spaReloadUrl")||"").trim()},ae.initRoutes=na,ae.route=function(e,t){var a=ra(e);if(oe.log("Route:",e,"URL:",a),a)if(!t&&yt)Jt(a);else{var n=$("["+Ut+'$="'+e.trim()+'"].ROUTE:first');n.length?n.hasClass("disabled")||n.is("[disabled]")?console.warn("Route:",e,"is disabled."):n.click():(Mt()?Yt(a):Q=a,"/"==e.trim()?(ae.allowNav(),window.location.reload()):Wt())}},ae.routeUrl=ra,ae.routeEl=function(e){return $("["+Ut+'$="'+e.trim()+'"].ROUTE')},ae.initDataBind=sa,ae.async=function(n){var r=ne.slice.call(arguments,1);setTimeout(function(){var e=n.apply(void 0,r),t=r.length,a=t?r[t-1]:"";a&&pe(a)&&a(e)},0)};var fa,ha,ma,ga,va,ba=o.$&&$.ajax||o.spaXHR&&spaXHR.ajax;function ya(){(fa=$.ajax&&$||spaXHR)&&(ha=fa.when,ba=fa.ajax,ma=fa.when,ga=fa.ajaxSetup,va=fa.ajaxPrefilter,$&&!$.ajax&&($.ajax=ba,$.ajaxQ=ma,$.ajaxSetup=ga,$.ajaxPrefilter=va),ga({dataParsers:{javascript:!1,spacomponent:!1},converters:{"text javascript":function(){},"text spaComponent":function(){}},dataFilter:function(e,t){var a=(t||"").toLowerCase();return"javascript"!==a&&"spacomponent"!==a||function(e){if(e.trim()){var t=document.createElement("script");ie(t,"id","js-"+ve()),ae.defaults.csp.nonce&&ie(t,"nonce",ae.defaults.csp.nonce),t.text=e,document.head.appendChild(t).parentNode.removeChild(t)}}(e),e}}))}function Ca(){ya(),ae.strZip=!ae.strZip&&o.LZString&&LZString.compress,ae.strUnzip=!ae.strUnzip&&o.LZString&&LZString.decompress,fa?(ua(),ae.debug=ae.urlParam("xsr.debug")||ae.hashParam("xsr.debug")||ae.debug,va(gt),pa(),T=!0,oe.info("Initialized SPA.")):console.error("Could not find XHR(ajax) module. Use jQuery Full version or include spaXHR module.")}$(function(){"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?Ca():E.addEventListener("DOMContentLoaded",Ca)})}(),xsr.console.info("SPA.js loaded.");