/** @license SPA-handlebars-helpers.js | (c) Kumararaja | License (MIT) */
(function(){function e(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function t(t,n){return(""+n).toLowerCase().indexOf(e(t))>=0}function n(e,n){function r(e,t){for(var n=t.split(","),r="",a=0,o=!0,i=0;n.length>i;i++)r=n[i].trim(),r&&(a++,o=o&&e.hasOwnProperty(r));return a&&o}function a(e,t){for(var n=t.split(","),r="",a=0,o=!1,i=0;n.length>i&&(r=n[i].trim(),r&&(a++,o=o||e.hasOwnProperty(r)),!o);i++);return a&&o}var o=!1;if(t(e,"object")&&n)switch(n=""+n,!0){case n.indexOf("&")>0:o=r(e,n.replace(/\&/g,","));break;case n.indexOf("|")>0:o=a(e,n.replace(/\|/g,","));break;default:o=r(e,n)}return o}function r(e,r){return t(e,"object")&&n(e,"name,hash,data")&&n(e.data,"root")?r?e.name==r:!0:!1}function a(e){return r(e)&&n(e,"fn,inverse")}function o(e){return r(e)&&Object.keys(e.hash).length}function i(e,n){var r=o(e)?e.hash:{};return n?(Object.keys(r).forEach(function(e){n[e]=t(r[e],"string")?r[e].trim():r[e]}),n):r}function s(e,t){var n=o(e)?e.hash:{};return t?(Object.keys(n).forEach(function(e){t[e]=n[e]}),t):n}function c(){function n(){function t(t){if(void 0===n)n=t;else{var r=e(t);switch(e(n)){case"array":switch(r){case"array":n=n.concat(t);break;default:n.push(t)}break;case"object":switch(r){case"array":for(var a=0;t.length>a;a++)n[a]=t[a];break;case"object":Object.keys(t).forEach(function(e){n[e]=t[e]});break;default:n["_"+(Object.keys(n).length+1)]=t}break;default:switch(r){case"object":t=JSON.stringify(t);break;case"array":t=t.join()}n+=" "+t}}}var n,a,o=st.slice.call(arguments);if(o.forEach(function(n,s){if(!a)switch(e(n)){case"function":var f=o.slice(s+1);f.push(c);var l=n.apply(void 0,f);u?r?t(l):"boolean"===e(l)?t(l?i.fn(l):i.inverse(l)):t(i.fn(l)):t(l),a=!0;break;case"array":u?r?t(n):n.length?n.forEach(function(e){t(i.fn(e))}):t(i.inverse(c)):t(n);break;case"object":u?r?t(n):Object.keys(n).length?t(i.fn(n)):t(i.inverse(c)):t(n);break;default:u?r?t(n):t(n?i.fn(c):i.inverse(c)):t(n)}}),u)return n;switch(e(n)){case"object":return JSON.stringify(n);case"array":return n.join();default:return n}}if(2>arguments.length)throw console.error("missing argument(s)"),Error("missing argument(s)");for(var r,a,i=st.splice.call(arguments,arguments.length-1,1)[0],c=i.data.root||{},u=i.hasOwnProperty("fn")||i.hasOwnProperty("inverse"),f=":if"==i.name,l={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},":typeof":function(e,t){return typeof e===t},":instanceof":function(t,n){return e(t).toLowerCase()===(""+n).trim().toLowerCase()},":is":function(t,n){return e(t).toLowerCase()===(""+n).trim().toLowerCase()},"=ic":function(e,t){return(""+e).toLowerCase()==(""+t).toLowerCase()},"!=ic":function(e,t){return(""+e).toLowerCase()!=(""+t).toLowerCase()},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}},g=Object.keys(l),p=function(e){return g.indexOf(e)>=0},d=st.slice.call(arguments),h=0;d.length>h;h++)if("string"===e(d[h])&&(r=p(d[h])?h:0)){a=d[h];break}if(f&&(!u||!t(d[0],"function")&&!r))throw Error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}");if(r){var m=d.slice(0,r),y=d.slice(r+1),b=n.apply(void 0,m),v=n.apply(void 0,y),O=l[a](b,v);if(u){var w,x=b,k=v;return o(i)&&(w=s(i),w&&((w.hasOwnProperty("thenWith")||w.hasOwnProperty("with")||w.hasOwnProperty("thenContext")||w.hasOwnProperty("context")||w.hasOwnProperty("thenData")||w.hasOwnProperty("data"))&&(x=w.thenWith||w["with"]||w.thenContext||w.context||w.thenData||w.data),(w.hasOwnProperty("elseWith")||w.hasOwnProperty("with")||w.hasOwnProperty("elseContext")||w.hasOwnProperty("context")||w.hasOwnProperty("elseData")||w.hasOwnProperty("data"))&&(k=w.elseWith||w["with"]||w.elseContext||w.context||w.elseData||w.data))),O?i.fn(x):i.inverse(k)}return O}return n.apply(void 0,arguments)}function u(t){return e(t)}function f(e,n){var o=arguments[arguments.length-1],i=r(n)?"undefined":n;return a(o)?t(e,i)?o.fn(e):o.inverse(e):t(e,i)}function l(e){return(""+(e||"")).toLowerCase()}function g(e){return(""+(e||"")).toUpperCase()}function p(e){return(""+(e||"")).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})}function d(e){return(""+e).charAt(0).toUpperCase()+(""+e).slice(1)}function h(e){return(""+e).charAt(0).toLowerCase()+(""+e).slice(1)}function m(e){return w(e).replace(/\s+/g," ")}function y(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e.indexOf(".")>=0?e.substring(0,e.indexOf(".")):e:"0",parseInt(1*e,10)}function b(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e:"0",parseFloat(1*e)}function v(t){switch(e(t)){case"object":return JSON.stringify(t);case"array":return t.join();default:return""+t}}function O(t){switch(e(t)){case"function":return!0;case"object":return Object.keys(t).length>0;case"array":return t.length>0;default:var n=!0;switch((""+t).trim().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":n=!1}return n}}function w(e,n){return e=v(e),t(n,"string")?x(k(e,n),n):e.trim()}function x(e,n){return e=v(e),t(n,"string")||(n=""),e.replace(RegExp("^["+(n||"\\s")+"]+","g"),"")}function k(e,n){return e=v(e),t(n,"string")||(n=""),e.replace(RegExp("["+(n||"\\s")+"]+$","g"),"")}function j(e,n){return e=v(e),t(n,"string|number")||(n=0),"string"==typeof n&&(n=e.indexOf(n)),n=y(n),n?e.substr(0,n):""}function E(e,n){e=v(e),t(n,"string|number")||(n=0);var r=1;return"string"==typeof n&&(r=n.length,n=e.indexOf(n)),n=y(n),0>n?"":e.substr(n+r)}function C(e,n,a){return"undefined"==typeof moment?(console.warn("Missing moment.js"),e):t(a,"string")?moment(e,n).format(a):r(a)?moment(e).format(n):r(n)?moment().format(e):r(e)?moment():void 0}function M(e){function n(e){return(e>9?"":"0")+e}var r=new Date;if(!t(e,"string"))return""+r;var a=e,o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=["Su","Mo","Tu","We","Th","Fr","Sa"],f={YYYY:r.getFullYear(),YY:r.getFullYear(),Y:r.getFullYear(),Mmmm:o[r.getMonth()],MMMM:o[r.getMonth()].toUpperCase(),Mmm:i[r.getMonth()],MMM:i[r.getMonth()].toUpperCase(),"0M":n(r.getMonth()+1),MM:r.getMonth()+1,Dddd:s[r.getDay()],DDDD:s[r.getDay()].toUpperCase(),Ddd:c[r.getDay()],DDD:c[r.getDay()].toUpperCase(),Dd:u[r.getDay()],DD:u[r.getDay()].toUpperCase(),"0d":n(r.getDate()),dd:r.getDate(),"0h":n(r.getHours()),hh:r.getHours(),"0m":n(r.getMinutes()),mm:r.getMinutes(),"0s":n(r.getSeconds()),ss:r.getSeconds(),ms:r.getMilliseconds()};return Object.keys(f).forEach(function(e){a=a.replace(e,f[e])}),a}function S(){return""+(new Date).getTime()}function D(e,n){return t(e,"number")||(e=1),t(n,"number")||(n=e+999),Math.floor(Math.random()*(n-e+1))+e}function B(e,n){t(e,"number")||(e=8),t(n,"string")||(n=""),e=e||8;for(var r=n||"9a8b77C8D9E8F7G6H5I4J3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",a="",o=0;e>o;o++){var i=Math.floor(Math.random()*r.length);a+=r.charAt(i)}return a}function P(e){var t=arguments[arguments.length-1];return a(t)?e!==void 0?t.fn(e):t.inverse(e):e!==void 0}function I(e){var t=arguments[arguments.length-1];return a(t)?e===void 0?t.fn(e):t.inverse(e):e===void 0}function L(t){var n;if(I(t)||null===t)n=!0;else switch(e(t)){case"undefined":case"null":n=!0;break;case"function":n=!1;break;case"object":n=0==Object.keys(t).length;break;case"array":n=0==t.length;break;case"boolean":n=t;break;case"number":n=0==t;break;case"string":n=0==t.trim().length;break;default:n=!1}var r=arguments[arguments.length-1];return a(r)?n?r.fn(t):r.inverse(t):!!n}function T(e,t,n){return O(e)?t:n}function N(e,n,r){return L(e)?n:t(r,"object")&&":ifEmpty"==r.name?e:r}function F(e,n,r){return L(e)?t(r,"object")&&":ifNotEmpty"==r.name?e:r:n}function _(e,t){var n=arguments[arguments.length-1],r=f(e,"array|object")?Q(e,t):e;return a(n)?r!==void 0?n.fn(r):n.inverse(r):r}function J(e,t){var n=[];return L(e)||(n=t?e.split(t):e.indexOf(",")>0?e.split(","):e.indexOf("|")>0?e.split("|"):e.indexOf(" ")>0?e.split(" "):e.indexOf("-")>0?e.split("-"):[e]),n}function U(e,t){var n=arguments[arguments.length-1],r=f(t,"string")?t:void 0,o=J(e,r);return a(n)?L(o)?n.inverse(e):n.fn(o):o}function Y(e){var n;return t(e,"string")&&(e=e.trim(),e&&(n=Q(window,e),t(n,"function")||(n=void 0))),n}function A(){var e,n,r,o=st.pop.call(arguments),i=st.shift.call(arguments),s=Y(i);return s&&(i.match("]$")?e=i.substring(0,i.lastIndexOf("[")):i.indexOf(".")>0&&(e=i.substring(0,i.lastIndexOf("."))),n=e?Q(window,e):window,r=s.apply(n,arguments)),a(o)?t(r,"undefined")||t(r,"boolean|number|string")&&!r||t(r,"array|object")&&spa.isBlank(r)?o.inverse(r):o.fn(r):r}function W(e,n){var r,s,c,f,l=arguments[arguments.length-1],g="",p={sortOn:"",sortBy:"",splitBy:",",alias:"",fnFilter:"",fnEmpty:"",fnEnd:"",fnError:""},d=!1,h=0;if(o(l)&&(p=i(l,p),r=Y(p.fnFilter),s=Y(p.fnEmpty),c=Y(p.fnEnd),f=Y(p.fnError)),a(l)){switch(u(e)){case"string":e=J(e,p.splitBy);case"array":if(p.sortOn||p.sortBy){var m="sortOn:"+p.sortOn.trim()+";sortBy:"+(p.sortBy||"asc").trim();e=X(e,m)}case"object":if(L(e))g+=l.inverse(e);else{var y,b=t(n,"string")&&n.trim(),v=b?J(n):p.alias?J(p.alias):["",""],O=(v[0]||"").trim(),w=(v[1]||"").trim(),x=w||"index";d=!0,Object.keys(e).forEach(function(t,n){p.key=t,y=O?{}:e[t],O&&(O&&(y[O]=e[t]),w&&(y[w]=t)),r?(p[x+"Src"]=n,r.call(void 0,y)&&(p[x]=h++,g+=l.fn(y,{data:p}))):(p[x]=h++,g+=l.fn(y,{data:p}))})}break;default:f&&f.call(void 0,e),g+=l.inverse(e)}return d&&(h?c&&c.call(void 0,e):(s&&s.call(void 0,e),g+=l.inverse(e))),g}return e}function H(n,r){function s(e,t){B.push({value:e,text:t})}function c(e,t){return l&&j.indexOf(""+x)>=0||g&&E.indexOf(""+e)>=0||p&&C.indexOf(""+t)>=0}function f(e,t){return x++,'<option value="'+e+'" '+(c(e,t)?"selected":"")+">"+t+"</option>"}var l,g,p,d,h,m,y,b,v,O=arguments[arguments.length-1],w="",x=-1,k={value:"",text:"",value_text:"",splitBy:",",vtSplit:"",sortOn:"",sortBy:"",fnFilter:"",fnEmpty:"",fnEnd:"",selIndex:"",selValue:"",selText:""},j=[],E=[],C=[],M="",S="",D="",B=[];switch(t(r,"string")&&J(r,";").forEach(function(e){var n=e.split(":");k[n[0].trim()]=t(n[1],"undefined")?"":n[1].trim()}),o(O)&&(k=i(O,k)),j=k.selIndex?J(k.selIndex):[],E=k.selValue?J(k.selValue):[],C=k.selText?J(k.selText):[],l=j.length,g=E.length,p=C.length,M=k.value||k.value_text,S=k.text||k.value_text,D=(k.vtSplit||"").replace(/colon/gi,":"),v="index"==M.toLowerCase(),d=k.sortOn.trim(),h=k.sortBy.trim(),h&&!d&&(d="text"),d&&!h&&(k.sortBy="asc"),m=Y(k.fnFilter),y=Y(k.fnEmpty),b=Y(k.fnEnd),t(n,"string")&&(n=J(n,k.splitBy)),u(n)){case"object":Object.keys(n).forEach(function(e){s(e,n[e])});break;case"array":n.forEach(function(t,n){switch(e(t)){case"object":var r=Object.keys(t);M&&S?s(t[M],t[S]):1==r.length&&r.forEach(function(e){s(e,t[e])});break;case"string":if(v){s(n,t);break}t=D?t.split(D):[t];case"array":M&&S?s(t[M],t[S]):1==t.length?s(t[0],t[0]):t.length>1&&s(t[0],t[1]);break;default:s(v?n:t,t)}})}if(m&&B.length){var P=[];B.forEach(function(e,n){e.index=n;var r=m.call(void 0,e);r&&P.push(t(r,"object")?r:e)}),B=P}if(B.length){if(d||h){var I="sortOn:"+d+";sortBy:"+h;B=X(B,I)}B.forEach(function(e){w+=f(e.value,e.text)}),b&&b.call(void 0,B,n)}else y&&y.call(void 0,B,n);return a(O)?w?O.fn(new Handlebars.SafeString(w)):O.inverse(this):new Handlebars.SafeString(w)}function R(){var e=c.apply(void 0,arguments);return e?"checked":""}function z(){var e=c.apply(void 0,arguments);return e?"":"checked"}function G(){var e=c.apply(void 0,arguments);return e?"disabled":""}function V(){var e=c.apply(void 0,arguments);return e?"":"disabled"}function K(){var e=c.apply(void 0,arguments);return e?"selected":""}function $(){var e=c.apply(void 0,arguments);return e?"":selected}function q(e){if(t(e,"number"))return!0;if(t(e,"string")){var n=e.replace(/[0-9]/g,"").trim();return e.length>0&&(""==n||e.length>1&&"."==n)}return!1}function Q(e,t,n){return spa.findInObject(e,t,n)}function X(n,r){function s(e,t){return t>e?-1:e>t?1:0}var c=arguments[arguments.length-1],u=[],f={sortOn:"",sortBy:"asc",splitBy:","},l=!0,g="";if(o(c)?f=i(c,f):t(r,"string")&&J(r,";").forEach(function(e){var n=e.split(":");f[n[0].trim()]=t(n[1],"undefined")?"":n[1].trim()}),l="asc"==f.sortBy.toLowerCase(),g=f.sortOn||"",t(n,"string")&&n.length>0&&(n=J(n,f.splitBy)),t(n,"array")&&n.length>0){if(1==n.length)u=n;else switch(e(n[0])){case"number":u=n.sort(function(e,t){return e-t});break;case"string":u=q(n[0])?n.sort(function(e,t){return 1*e-1*t}):n.sort();break;case"boolean":u=n.sort(function(e,t){return s(e,t)});break;case"object":if(g)switch(e(Q(n[0],g))){case"number":u=n.sort(function(e,t){return Q(e,g)-Q(t,g)});break;case"string":u=q(Q(n[0],g))?n.sort(function(e,t){return 1*Q(e,g)-1*Q(t,g)}):n.sort(function(e,t){return s(Q(e,g),Q(t,g))});break;case"boolean":u=n.sort(function(e,t){return s(Q(e,g),Q(t,g))});break;default:u=n}else u=n;break;default:u=n}l||(u=u.reverse())}return a(c)?u.length?c.fn(u):c.inverse(n):u}function Z(){function e(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="[object Object]"===Object.prototype.toString.call(e[n])?Z(t[n],e[n]):e[n])}for(var t={},n=0,r=arguments.length;r>n;n++)e(arguments[n]);return t}function et(){function n(n){if(!t(n,"undefined|null"))switch(e(r)){case"undefined":case"null":r=n;break;case"array":switch(e(n)){case"array":r=r.concat(n);break;default:r.push(n)}break;case"object":switch(e(n)){case"object":r=Z(r,n);break;default:r.hasOwnProperty("__joined__")?r.__joined__.push(n):r.__joined__=[n]}break;default:switch(e(n)){case"array":n.length&&(r+=n.join());break;case"object":Object.keys(n).length&&(r+=JSON.stringify(n));break;default:r+=""+n}}}var r,o=st.pop.call(arguments);return st.forEach.call(arguments,function(e){n(e)}),a(o)?o.fn(r):r}function tt(){var e=st.pop.call(arguments),t=st.shift.call(arguments),n=st.join.call(arguments,t);return a(e)?e.fn(n):n}function nt(){function e(n){if(n=n.trim(),!n.length)return n;var r=n[0],a=n;switch(!0){case"true"==n:a=!0;break;case"false"==n:a=!1;break;case q(n):a=1*n;break;case"["==r:n=n.substring(1,n.lastIndexOf("]"))+",";case n.indexOf(",")>0&&0>n.indexOf("{"):var o=[];n.split(",").forEach(function(t){t=t.trim(),""!=t&&o.push(e(t))}),a=o;break;case"{"==r:n=n.substring(1,n.lastIndexOf("}"));var s,c,u={};n.split(",").forEach(function(t){t=t.trim(),s=j(t,":").trim(),c=E(t,":").trim(),s&&(u[s]=e(c))}),a=u;break;case"@"==r&&"["!=n[1]:var f=n.substring(1,n.indexOf("."));if(q(f)){a=i[f];var l=n.indexOf(".")>0?n.substr(n.indexOf(".")+1):"";l&&t(a,"array|object")&&(a=Q(a,l))}}if(t(a,"string")&&a.indexOf("@[")>=0){var g,p,d,h,m=a.match(/(@\[\s*(.*?)\s*])/g);m&&m.forEach(function(e){g=e.replace(/@\[/,"").replace(/]/,""),p=g.substring(0,g.indexOf(".")),d="",q(p)&&(d=i[p],h=g.indexOf(".")>0?g.substr(g.indexOf(".")+1):"",h&&t(d,"array|object")&&(d=Q(d,h))),a=a.replace(RegExp(e.replace(/\[/,"\\["),"g"),d)})}return a}var n=st.pop.call(arguments),r=st.shift.call(arguments),o={},i=st.splice.call(arguments,0);return t(r,"string")&&J(r,";").forEach(function(t){var n=j(t,":").trim(),r=E(t,":").trim();n&&(r=e(r),o[n]=r)}),a(n)?n.fn(o):o}function rt(){var e=st.pop.call(arguments),n=Array_.shift.call(arguments),r={};if(t(n,"string"))try{r=JSON.parse(n)}catch(o){if(a(e))return e.inverse(o)}return a(e)?e.fn(r):r}function at(){var e=st.pop.call(arguments),t=h(e.name.replace(/:console/g,""));"time"==t&&arguments.length&&console.log.apply(void 0,arguments),0==t.indexOf("mem")?console.log(console.memory):console[t].apply(void 0,arguments)}function ot(e){var t=arguments[arguments.length-1],n="",r={searchStr:"",replaceStr:"",rxPattern:"",rxOption:""};return o(t)&&(r=s(t,r)),n=r.rxPattern?(""+e).replace(RegExp(r.rxPattern,r.rxOption),r.replaceStr):(""+e).replace(r.searchStr,r.replaceStr)}function it(e){var t=["Bytes","KB","MB","GB","TB","PB"];if(0==e)return"0";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return parseFloat(e/Math.pow(1024,n)).toFixed(2)+" "+t[n]}var st=Array.prototype;"undefined"!=typeof Handlebars&&Handlebars&&Handlebars.registerHelper({":":c,":if":c,":is":f,":isEmpty":L,":ofType":u,":?":T,":ifEmpty":N,":ifNotEmpty":F,":of":_,":each":W,":forEach":W,":split":U,":sort":X,":join":et,":merge":et,":joinWithStr":tt,":fn":A,":jsonify":nt,":jsonParse":rt,":consoleClear":at,":consoleLog":at,":consoleWarn":at,":consoleInfo":at,":consoleError":at,":consoleGroup":at,":consoleGroupEnd":at,":consoleGroupCollapsed":at,":consoleMem":at,":consoleMemory":at,":consoleProfile":at,":consoleProfileEnd":at,":consoleTable":at,":consoleTime":at,":consoleTimeEnd":at,":options":H,":checkedIf":R,":checkedIfNot":z,":enabledIf":V,":enabledIfNot":G,":disabledIf":G,":disabledIfNot":V,":selectedIf":K,":selectedIfNot":$,":lower":l,":lowerCase":l,":toLowerCase":l,":lowerCaseOf":l,":upper":g,":upperCase":g,":toUpperCase":g,":upperCaseOf":g,":title":p,":titleCase":p,":toTitleCase":p,":titleCaseOf":p,":capitalize":d,":unCapitalize":h,":normalize":m,":normalizeStr":m,":int":y,":toInt":y,":intOf":y,":float":b,":toFloat":b,":floatOf":b,":toStr":v,":toString":v,":toBool":O,":toBoolean":O,":trim":w,":trimStr":w,":trimLeft":x,":trimLeftStr":x,":trimRight":k,":trimRightStr":k,":replace":ot,":getLeftStr":j,":getRightStr":E,":dateNowMs":S,":dateNow":M,":moment":C,":rand":D,":randPwd":B,":ifDefined":P,":ifUndefined":I,":bytesToSize":it})})();





/** @license SPA.js Validation Extension | (c) Kumararaja | License (MIT) */
function _clearSpaValidateMsg(a){return spa._validate._showValidateMsg(a),!0}spa._validateDefaults={required:"Required",digits:"Digits",numbers:"Numbers",integer:"Integer",alphabet:"Alpha",alphanumeric:"AlphaNumeric",pattern:"PatternMatch",range:"ValueRange",fixedlength:"Lengths",minlength:"LengthMin",maxlength:"LengthMax",email:"Email",url:"Url",date:"Date",cardno:"CardNo",ipv4:"IPv4",ipv6:"IPv6",ipaddress:"IP",subnetmask:"Subnet",phoneUS:"PhoneUS",wordsize:"WordSize",compare:"Compare",promise:"Promise",xss:"CheckXSS",noop:"Noop"},spa._validate={defaults:{offline:!0},_isOnOfflineValidation:!1,_validateAlertTemplate:'<div class="errortxt error-txt break-txt" data-i18n=""></div>',_offlineValidationRules:{},_fn:{Noop:function(){return!0},CheckXSS:function(a){var e=spa.getElValue(a);return!(/<\s*\/?\s*(\bscript\b)/gi.test(e)||/<(.)+\s+on([a-z])+\s*=|javascript:/gi.test(e))},Promise:function(a){if(!spa._validate._isOnOfflineValidation){var e=$(a),t=e.data("validate")||"";/(promise)(\s)*:(\s)*(\'|\")/.test(t)&&spa._validate._addValidationClass(e,"validation-pending")}return!0},Required:function(a){var e=spa.getElValue(a);return!spa.isBlank(e)},Digits:function(a){var e=$(a).val(),t=0===e.length||/^\d+$/.test(e);return t},Numbers:function(a){var e=$(a).val(),t=0===e.length||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e);return t},Integer:function(a){var e=$(a).val(),t=0===e.length||/^-?\d+$/.test(e);return t},Alpha:function(a){var e=$(a).val(),t=0===e.length||!/[^a-z]/gi.test(e);return t},AlphaNumeric:function(a){var e=$(a).val(),t=0===e.length||!/[^a-z0-9]/gi.test(e);return t},PatternMatch:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=RegExp($(a).data("validatePattern"),$(a).data("validatePatternOptions").replace(/!/g,""));t=n.test(e),$(a).data("validatePatternOptions").indexOf("!")>=0&&(t=!t)}return t},ValueRange:function(a){var e=$(a).val(),t=0===e.length;if(!t&&(t=!1,/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e))){var n=spa.toFloat(e),i=(" "+($(a).data("validateRange")||"")+": ").split(":"),s=!spa.isBlank(i[0]),r=!spa.isBlank(i[1]),l=spa.toFloat(i[0]),o=spa.toFloat(i[1]);s&&r?t=n>=l&&o>=n:s?t=n>=l:r&&(t=o>=n)}return t},LengthMin:function(a){var e=$(a).val(),t=spa.toInt($(a).data("minlength")||$(a).attr("minlength")),n=e.length>=t;return n},LengthMax:function(a){var e=$(a).val(),t=spa.toInt($(a).data("maxlength")),n=t>=e.length;return n},Lengths:function(a){var e=$(a).val(),t=e.length,n=spa.toInt($(a).data("minlength")||$(a).attr("minlength")),i=spa.toInt($(a).data("maxlength")),s=t>=n&&i>=t;return s},WordSize:function(a){var e=$(a).val(),t=_.max(_.map((""+e).replace(/[-\n]/g," ").split(" "),function(a){return a.length})),n=spa.toInt($(a).data("validWordSize"))||20,i=n>=t;return i},Email:function(a){var e=$(a).val(),t=0===e.length;return t||(t=(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)||/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))&&/[a-z0-9]/i.test(e[e.length-1])&&1==((e||"").match(/@/g)||[]).length),t},Url:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)),t},Date:function(a){var e=$(a).val(),t=0===e.length;if(!t){t=!1;var n,i,s,r,l=["","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],o=["","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],d=$(a).data("validateFormat")||"YMD",u="^\\d{1,2}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{4}$",F=e.replace(/[^a-z]/gi,"");F&&(r=_.indexOf(l,F.toUpperCase()),0>=r&&(r=_.indexOf(o,F.toUpperCase())),r>0&&(e=e.replace(RegExp(F,"gi"),r))),e=e.replace(/[^0-9]/g," ").normalizeStr().replace(/ /g,"/");var f=e.split("/");switch(d.toUpperCase()){case"YMD":u="^\\d{4}[\\/\\-\\.]\\d{1,2}[\\/\\-\\.]\\d{1,2}$",n=f[0],i=f[1],s=f[2];break;case"MDY":i=f[0],s=f[1],n=f[2];break;case"DMY":s=f[0],i=f[1],n=f[2]}if(RegExp(u,"").test(e)){s=parseInt(s,10),i=parseInt(i,10),n=parseInt(n,10);var p=new Date(n,i-1,s);t=p.getFullYear()===n&&p.getMonth()===i-1&&p.getDate()===s}}return t},CardNo:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=!/[^0-9 \-]+/.test(e),i=e.replace(/[^0-9]/g,""),s=i.length;if(n&&s&&"0345".indexOf(i[0])>0&&(15==s||16==s)){for(var r=0,l=0,o=!1,d=e.replace(/\D/g,""),u=d.length-1;u>=0;u--){var F=d.charAt(u);l=parseInt(F,10),o&&(l*=2)>9&&(l-=9),r+=l,o=!o}t=0===r%10}}return t},IPv4:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)&&_.every(e.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0})),t},IPv6:function(a){var e=$(a).val(),t=0===e.length;return t||(t=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)),t},IP:function(a,e){var t=$(a).val(),n=0===t.length;if(!n){var i=t,s=spa.toInt($(a).data("validateIpaddressOctates")||4)-1,r=RegExp("^(([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))\\.){"+s+"}([01]?[0-9]?[0-9]|2([0-4][0-9]|5[0-5]))$","g");n=r.test(i)&&_.every(i.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0}),spa._validate._showValidateMsg(a,e,n);var l=$(a).data("validateIpaddressClass");if(n&&l){var o=i.split("."),d={A:{oct1:{B:0,E:127},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:1,E:255}},B:{oct1:{B:127,E:192},oct2:{B:1,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}},C:{oct1:{B:191,E:224},oct2:{B:0,E:256},oct3:{B:1,E:256},oct4:{B:1,E:255}},D:{oct1:{B:223,E:240},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:256}},E:{oct1:{B:239,E:255},oct2:{B:0,E:256},oct3:{B:0,E:256},oct4:{B:0,E:255}}};n=1*o[0]>d[l].oct1.B&&d[l].oct1.E>1*o[0]?1*o[1]>=d[l].oct2.B&&d[l].oct2.E>1*o[1]?1*o[2]>=d[l].oct3.B&&d[l].oct3.E>1*o[2]?1*o[3]>d[l].oct4.B&&d[l].oct4.E>1*o[3]?!0:!1:!1:!1:!1,spa._validate._showValidateMsg(a,e,n)}}return n},Subnet:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n=RegExp("^((128|192|224|240|248|252|254)\\.0\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0\\.0)|(255\\.(((0|128|192|224|240|248|252|254)\\.0)|255\\.(0|128|192|224|240|248|252|254)))))$");t=n.test(e)&&_.every(e.split("."),function(a){return a.length>1?!a.beginsWithStr("0"):!0})}return t},PhoneUS:function(a){var e=$(a).val(),t=0===e.length;return t||(t=e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)),t},Compare:function(a){var e=$(a).val(),t=0===e.length;if(!t){var n,i=$(a),s=i.data(),r=spa.toJSON(s.validateCompare||"{}");if(!spa.isBlank(r)&&r.target){n=$(r.target);var l=r.valid||"=",o=spa.getElValue(a),d=spa.getElValue(n);if(("number".equalsIgnoreCase(r.type)||l.indexOf("<")>=0||l.indexOf(">")>=0)&&(o=spa.toFloat(o),d=spa.toFloat(d)),"date".equalsIgnoreCase(r.type));else switch(l){case"!=":t=o!=d;break;case"!==":t=o!==d;break;case"===":t=o===d;break;case">":t=o>d;break;case"<":t=d>o;break;case">=":t=o>=d;break;case"<=":t=d>=o;break;default:t=o==d}}}return t}},_showValidateMsg:function(a,e,t,n,i){e=e||"";var s=$(a);if(!s.length)return spa.console.warn("Validation config/setup is wrong for validation Msg:["+e+"] forEl:",a),void 0;arguments.length>2&&_.isString(t)&&(n=t),arguments.length>2&&_.isBoolean(t)&&t&&(e=""),n=n||spa._validate._validateAlertTemplate;var r=!n.beginsWithStrIgnoreCase("<"),l=s.parent(),o=s.data("errorClassTarget"),d=o?s.closest(o):l,u=s.data("errorPosition");a=s.get(0),spa._validate._isOnOfflineValidation||(d.removeClass("has-error-msg no-error-msg")[t===!1?"addClass":"removeClass"]("validation-error "+(e?"has-error-msg":"no-error-msg")),s[t===!1?"addClass":"removeClass"]("invalid-data"),i||spa.updateTrackFormCtrls(a.form));var F=r?$(n):s.next();!r&&u&&("first".equalsIgnoreCase(u)?F=l.children().first():"last".equalsIgnoreCase(u)&&(F=l.children().last()));var f,p="",c="",g="";if($(F).attr("class")===$(n).attr("class")||r){if(e.beginsWithStrIgnoreCase("i18n:")){p=(e.getLeftStr("|")||e).replace(/i18n:/gi,""),g=e.getRightStr("|"),c="{html:'"+p+"'}",f=spa.toJSON(g),f=spa.is(f,"object")?f:{};var v=s.dataJSON("i18nData");spa.isBlank(v)||(f=_.merge(f,v)),e=spa.i18n.text(p,f)}spa._validate._isOnOfflineValidation||($(F).attr("data-i18n",c).data("i18n",c),$(F).attr("data-i18n-data",g).data("i18nData",g),$(F).html(e))}else spa.isBlank(e)||(u?"first".equalsIgnoreCase(u)?$(n).prependTo(l):"last".equalsIgnoreCase(u)?$(n).appendTo(l):$(n).insertAfter(s):$(n).insertAfter(s),spa._validate._showValidateMsg(a,e,t,n));return t},_getValidationClassTarget:function(a){var e=$(a),t=e.data("errorClassTarget");return t?e.closest(t):e.parent()},_addValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).addClass(e)},_removeValidationClass:function(a,e){spa._validate._getValidationClassTarget(a).removeClass(e)},_deferValidate:function(){return!0},_registerPromise:function(a,e,t,n){var i=!spa.isBlank(a);if(i){var s=$(e),r=s.data("promises")||"",l=0>r.indexOf("["+a+"]");l&&(spa.console.log("validating promise: "+a),r+="["+a+"]",s.attr("data-promises",r).data("promises",r),spa._validate._addValidationClass(s,"validation-pending"),spa.is(t,"function")&&t.call(s,s,n,a))}return i},expose:function(a){return a=a||{},Object.keys(spa._validateDefaults).forEach(function(e){a[e]=spa._validate._fn[spa._validateDefaults[e]]}),a}};var _check=spa._validate.expose();spa.initValidation=spa.initDataValidation=function(a){spa.console.log(">>>>> initDataValidation request for context:"+a);var e=function(a){return a=a||{},_.each(_.keys(a),function(e){0==e.indexOf("on")&&e.indexOf("_")>0&&(_.each(e.split("_"),function(t){0>t.indexOf("on")&&(t="on"+t),a[t]?_.isArray(a[t])?a[t].push(a[e]):a[t]=[a[t],a[e]]:a[t]=[a[e]]}),delete a[e])}),a};a=a||"body";var t=$(a),n=t.data("validateElFilter")||"",i=e(spa.toJSON(t.data("validateCommon")||"{}")),s=_.merge({},i.onFocus),r=spa.toJSON(t.attr("data-validate-defaults")||{}),l=!!r.offline;spa.console.log("commonValidateRules");var o={fn:"_check.promise",offline:!1};spa.isBlank(s)?i.onFocus=o:(spa.is(s,"array")||(s=[s]),s.push(o)),i.onFocus=s,spa.console.log(i);var d,u,F,f,p,c=(t.data("validateForm")||t.data("validateScope")||"").replace(/onRender/i,"").replace(/[^a-zA-Z0-9]/g,"");if(spa.isBlank(c)){var g=a.replace(/[^a-zA-Z0-9]/g,"");c=g}spa.console.log("offlineValidationKey: "+c);var v=!spa.isBlank(c);v&&(spa.console.log("resetting the rules for "+c),spa._validate._offlineValidationRules[c]={rules:{}}),spa.console.log(c,spa._validate._offlineValidationRules[c]),t.find(n+"[data-validate]").each(function(a,t){var n=$(t).prop("id");n||(n=(t.name||t.type).replace(/[^a-z]/gi,"")+a,$(t).attr("id",n));var s={},r=$(t).data("validate");if(r&&0>r.indexOf("{")){var o=($(t).data("validateEvents")||"onBlur").replace(/[^a-z]/gi," ").normalizeStr().replace(/ /g,"_"),g=",offline:"+($(t).data("validateOffline")||l||"false"),h="{fn:"+r.replace(/[,;]/," ").normalizeStr().replace(/ /g,g+"},{fn:")+g+"}";r="{"+o+":["+h+"]}"}s=e(spa.toJSON(r)),spa.console.log(r),_.each(_.keys(i),function(a){var e=i[a];_.isArray(e)||(e=[e]),e.reverse(),_.each(e,function(e){if(d=!0,u="<",f=e.offline||!1,F=!1,e.el){var t=e.el.replace(/ /g,"").split(","),i=e.el.replace(/[< >!]/g,"").split(","),r=_.indexOf(i,n);d=r>=0,d&&(u=t[r].indexOf(">")>=0?">":"<",F=t[r].indexOf("!")>=0)}else e.ex&&(d=0>_.indexOf(e.ex.replace(/[< >!]/g,"").split(","),n));d&&(p=_.omit(e,["el","ex"]),F&&(p=_.extend(p,{offline:!f})),s[a]||(s[a]=[]),s[a]="<"===u?_.union([p],s[a]):_.union(s[a],[p]))})}),_.each(_.keys(s),function(a){var e=a.substring(2,3).toLowerCase()+a.substring(3);spa.console.log("settingup event on["+e+"]..."),_.isArray(s[a])||(s[a]=[s[a]]),spa.console.log(s),v&&_.each(s[a],function(a){spa.is(a,"array")||(a=[a]),_.each(a,function(a){if(a.hasOwnProperty("offline")||(a.offline=l),spa.console.log(a),a.offline&&!a.promise){var e={fn:a.fn,msg:a.msg};spa._validate._offlineValidationRules[c].rules[n]||(spa._validate._offlineValidationRules[c].rules[n]=[]),0>_.indexOf(spa._validate._offlineValidationRules[c].rules[n],e)&&spa._validate._offlineValidationRules[c].rules[n].push(e)}})}),spa.console.log("registering an event: "+a),a.beginsWithStrIgnoreCase("on")&&!"test".equalsIgnoreCase(e)&&$(t).on(e,function(){var e,t,n,i=this;_.every(s[a],function(a){return _.isArray(a)?_.every(a,function(a){return e=a.fn,spa.is(e,"string")&&(e=spa.findSafe(window,e)),spa.is(e,"function")||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(i).data("validateMsg")||"",spa._validate._registerPromise(a.promise,i,e,t)&&(e=spa._validate._deferValidate),n=spa.is(e,"function")?e.call(i,i,t):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,t,n),n}):(e=a.fn,spa.is(e,"string")&&(e=spa.findSafe(window,e)),spa.is(e,"function")||console.error("data-validate-function Not Found: "+a.fn),t=a.msg||$(i).data("validateMsg")||"",spa._validate._registerPromise(a.promise,i,e,t)&&(e=spa._validate._deferValidate),n=spa.is(e,"function")?e.call(i,i,t):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,t,n),n)})})})})},spa.validateForm=spa.validate=spa.doDataValidation=function(a,e,t){var n;spa.is(arguments[1],"string")&&(n="#"+arguments[1].replace(/[ #]/g,"").replace(/,/g,",#")+",",e=arguments[2],t=arguments[3]);var i=a.replace(/[^a-zA-Z0-9]/g,""),s="#"+a.replace(/#/g,""),r=$(s),l=[];if(spa._validate._offlineValidationRules[i]){var o=spa._validate._offlineValidationRules[i].rules,d=function(a){var e,t,n,i=r.find("#"+a),s=i[0],d=spa.toBoolean(i.data("ignoreValidationIfInvisible"))&&!i.is(":visible");return d||(d=_.every(o[a],function(a){if(t=a.fn,spa.is(t,"string")&&(t=spa.findSafe(window,t)),spa.is(t,"function")||console.error("data-validate-function Not Found: "+a.fn),e=a.msg||i.data("validateMsg")||"",n=spa.is(t,"function")?t.call(s,s,e):!1,spa.is(n,"boolean")&&spa._validate._showValidateMsg(i,e,n,"",!0),!n){var r={errcode:2,el:s,fn:a.fn,msg:e};l.push(r)}return n})),d};if($.isEmptyObject(o)){var u=1,F="Offline rules not found in scope ["+a+"].";r.find(".validation-error,.validation-pending").length&&(u=3,F+=" Found .validation-error|.validation-pending"),l=[{errcode:u,errmsg:F}]}else{var f=_.keys(o);n&&(f=_.map(f,function(a){return n.indexOf("#"+a+",")>=0?a:""})),spa._validate._isOnOfflineValidation=!e,_.every(f,function(a){return a?d(a)||t:!0}),spa._validate._isOnOfflineValidation=!1}}else r.length?r.is("[data-validate-form]")&&(l=[{errcode:1,errmsg:"Form Not Initialized."}]):l=[{errcode:1,errmsg:"Form Not Found."}];return l},spa.removeValidationMsg=function(a){$(a).each(function(a,e){spa._validate._showValidateMsg(e,"",!0)})},spa.updateValidation=function(a,e,t,n){2==arguments.length&&(t=spa.isBlank(e)),$(a).each(function(a,i){spa._validate._showValidateMsg(i,e,t,n)})},spa.updateValidationPromise=function(a,e,t,n,i){var s,r,l=$(e);l.each(function(e,l){s=$(l),_.each(a.split(","),function(a){r=(s.data("promises")||"").replace("["+a.trim()+"]",""),s.attr("data-promises",r).data("promises",r),spa.isBlank(r)&&spa._validate._removeValidationClass(s,"validation-pending")}),spa._validate._showValidateMsg(l,t,n,i)})};

