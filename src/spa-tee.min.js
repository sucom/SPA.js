/*@license SPA.js (Tee: Template Extension) [MIT] - based on doT.js (https://github.com/olado/doT/blob/master/LICENSE-DOT.txt)*/
!function(){"use strict";var u;function Tee(e,t,r,n){return bind(e,t,r,n)}Tee.version="1.0.0",Tee.settings={scopeName:"data",strip:!0},Tee.compile=compile,Tee.bind=bind;var l={rx:{interpolate:/\{\{([\s\S]+?(\}?)+)\}\}/g,encode:/\{\{(\&|\{|encode)([\s\S]+?)\}?\}\}/g,conditional:/\{\{(\?|#\?|if|#if)(\?|\^)?\s*([\s\S]*?)\s*\}\}/g,conditionalNot:/\{\{(\!|#\!|unless|#unless)(\?)?\s*([\s\S]*?)\s*\}\}/g,conditionalElse:/\{\{(\^|else)(\?|if|If)?\s*([\s\S]*?)\s*\}\}/g,withScope:/\{\{(with|#with)\s*([\s\S]*?)\s*\}\}/g,blockClose:/\{\{\/\s*([\s\S]*?)\s*\}\}/g,evaluate:/\{\{js:([\s\S]+?)(\/)?\}\}/g,iterate:/\{\{(~|each|#each)\s*(?:\}\}|([\s\S]+?)\s*(?:\:\s*([\w$]+))?\s*(?:\:\s*([\w$]+))?\s*\}\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)(#|\/)\}\}/g,defineParams:/^\s*([\w$]+): ([\s\S]+)/,use:/\{\{#>([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\: \s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g},append:!1,selfContained:!1,doNotSkipEncoded:!1};Tee.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},r=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(r,function(e){return t[e]||e}):""}},Tee.isObj=function(e){return"object"==Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Tee.isValidVar=function(e){return!/[^0-9a-z]|^[0-9]+/gi.test(e)},u=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=Tee:"function"==typeof define&&define.amd?define(function(){return Tee}):u.Tee=Tee;var f={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},p=/$^/;function fixVarPath(e){return e=(e="."===(e=e.trim().replace(/\@/g,"___").replace(/this/g,"___this").replace(/\.\//g,"___this.").replace(/\//g,"___rootCtx."))[0]?"___this"+e:e).replace(/\.+$/g,"").replace(/\.\[/g,"[").replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}function stripJsComments(e){return e.replace(/\/\/(.*)(\r|\n)/g,"$2").replace(/\/\*[\s\S]*?\*\//g,"")}function compile(e,t){var n,i,r=l,o="if (arguments.length) return arguments.callee.call(arguments[0]);var "+(Tee.settings.scopeName||"data")+"=___rootCtx=___this=this;try{with(Object(this)){",a=r.append?f.append:f.split,c=0,s=r.rx.use||r.rx.define?function resolveDefs(o,e,i){return("string"==typeof e?e:e.toString()).replace(o.rx.define||p,function(e,n,t,r){return(n=0===n.indexOf("def.")?n.substring(4):n)in i||(":"===t?(o.rx.defineParams&&r.replace(o.rx.defineParams,function(e,t,r){i[n]={arg:t,text:r}}),n in i||(i[n]=r)):new Function("def","def['"+n+"']="+r)(i)),""}).replace(o.rx.use||p,function(e,t){return o.rx.useParams&&(t=t.replace(o.rx.useParams,function(e,t,r,n){if(i[r]&&i[r].arg&&n){var o=(r+":"+n).replace(/'|\\/g,"_");return i.__exp=i.__exp||{},i.__exp[o]=i[r].text.replace(new RegExp("(^|[^\\w$])"+i[r].arg+"([^\\w$])","g"),"$1"+n+"$2"),t+"def.__exp['"+o+"']"}})),(t=new Function("def","return "+t)(i))&&resolveDefs(o,t,i)})}(r,e,t||{}):e,s=("var out='"+(Tee.settings.strip?function strip(e){return stripJsComments(e).replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t/g,"")}(s):s).replace(/'|\\/g,"\\$&").replace(/{{\/(~|each)}}/g,"{{~}}").replace(r.rx.blockClose||p,function(e,t){return"';}out+='"}).replace(r.rx.evaluate||p,function(e,t){return"';"+fixVarPath(t=Tee.settings.strip?t:stripJsComments(t))+";out+='"}).replace(r.rx.encode||p,function(e,t,r){return n=!0,a.startencode+fixVarPath(r)+a.end}).replace(r.rx.conditionalElse||p,function(e,t,r,n){return n?"';}else if("+fixVarPath(n)+"){out+='":"';}else{out+='"}).replace(r.rx.conditional||p,function(e,t,r,n){return r?n?"';}else if("+fixVarPath(n)+"){out+='":"';}else{out+='":n?"';if("+fixVarPath(n)+"){out+='":"';}out+='"}).replace(r.rx.conditionalNot||p,function(e,t,r,n){return n?"';if(!("+fixVarPath(n)+")){out+='":"';}out+='"}).replace(r.rx.withScope||p,function(e,t,r){return r?"';with(Object("+fixVarPath(r)+")){out+='":"';}out+='"}).replace(r.rx.iterate||p,function(e,t,r,n,o){return(r=r&&fixVarPath(r))?"';var arr"+(c+=1)+"=(Array.isArray("+r+"))? [].slice.call("+r+") : "+r+";var arr"+c+"Len=Object.keys(arr"+c+").length; if(arr"+c+"Len){var arr"+c+"item,"+(n=n||"value")+","+(i=o||"i"+c)+"=-1,l"+c+"=arr"+c+"Len-1;while("+i+"<l"+c+"){arr"+c+"item=arr"+c+"["+i+"+=1];(function (___p){var ___this="+n+"=this, ___index=___key="+(o?o+"=":"")+i+";with(Object(this)){out+='":"';}}).call(arr"+c--+"item);} } out+='"}).replace(r.rx.interpolate||p,function(e,t){return a.start+fixVarPath(t)+a.end})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");n&&(r.selfContained||!u||u._encodeHTML||(u._encodeHTML=Tee.encodeHTMLSource(r.doNotSkipEncoded)),s="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+Tee.encodeHTMLSource.toString()+"("+(r.doNotSkipEncoded||"")+"));"+s);try{return new Function("_ctxObj_",o+s+'}}catch(e){ console.error("Error in Template:", e); }')}catch(e){throw"undefined"!=typeof console&&console.warn("Could not create a template function:",s),e}}function bind(e,t,r,n){var o;if("function"==typeof e)o=e;else{if("string"!=typeof e)return void console.error("Invalid Template",e);var i,a=e;if(e.indexOf("{{")<0&&"#"==e[0]){!(o=(i=document.querySelector(e))&&i._bind?i._bind:o)&&i&&(a=i.innerHTML);try{!o&&i&&/handlebar/gi.test(i.getAttribute("type")||"")&&u.Handlebars&&(o=Handlebars.compile(a))}catch(e){console.error("Handlebars compile failed:",e)}}o=o||compile(a),i&&!i._bind&&(i._bind=o)}if("function"==typeof o){if("object"!=typeof t)return o;var c=o(t);if(r){var s="string"==typeof r?document.querySelector(r):s;if(s)try{n?s.outerHTML=c:s.innerHTML=c}catch(e){console.error(e)}else console.error("Invalid Target:",r)}return c}console.error("Could not compile Template",e)}}();